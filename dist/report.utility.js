!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.ReportUtility=n():e.ReportUtility=n()}(window,function(){return function(e){var n={};function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)t.d(r,i,function(n){return e[n]}.bind(null,i));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="/dist",t(t.s=0)}([function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t(1);Object.defineProperty(n,"init",{enumerable:!0,get:function(){return r.init}}),Object.defineProperty(n,"destroy",{enumerable:!0,get:function(){return r.destroy}}),Object.defineProperty(n,"config",{enumerable:!0,get:function(){return r.config}}),Object.defineProperty(n,"send",{enumerable:!0,get:function(){return r.send}})},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.destroy=n.send=n.config=n.init=void 0;var r=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),i=a(t(2)),o=a(t(4));!function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);n.default=e}(t(5));function a(e){return e&&e.__esModule?e:{default:e}}var s=new(function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.events=[{el:".rp-container__actions .rp-container__button",evt:"click",cb:"onSend"},{el:".rp-container__author .rp-container__field",evt:"change",cb:"onChangeAuthor"},{el:".rp-container__message .rp-container__field",evt:"change",cb:"onChangeMessage"},{el:".rp-container__header",evt:"click",cb:"onToggle"}],this.state=i.default,this.onSend=this.onSend.bind(this),this.onChangeAuthor=this.onChangeAuthor.bind(this),this.onChangeMessage=this.onChangeMessage.bind(this),this.onToggle=this.onToggle.bind(this)}return r(e,[{key:"init",value:function(){if(this.el=document.querySelector(this.state.el),!this.el)throw TypeError("`el` must be specified through `config` method");return this.render(),this.bindEvents(),this}},{key:"destroy",value:function(){this.unbindEvents(),this.el.innerHTML=""}},{key:"config",value:function(e){this.state=Object.assign({},i.default,e)}},{key:"bindEvents",value:function(){var e=this;this.events.forEach(function(n){var t=n.el,r=n.evt,i=n.cb,o=e.el.querySelector(t);o&&o.addEventListener(r,e[i],!1)})}},{key:"unbindEvents",value:function(){var e=this;this.events.forEach(function(n){var t=n.el,r=n.evt,i=n.cb,o=e.el.querySelector(t);o&&o.removeEventListener(r,e[i],!1)})}},{key:"setState",value:function(e){this.state=Object.assign({},this.state,e),this.update()}},{key:"onToggle",value:function(){this.setState({minimized:!this.state.minimized})}},{key:"onChangeAuthor",value:function(e){this.setState({name:e.currentTarget.value})}},{key:"onChangeMessage",value:function(e){this.setState({message:e.currentTarget.value})}},{key:"onSend",value:function(){var e=this,n=this.state,t=n.name,r=n.message,i=n.url;i&&(this.setState({isSending:!0}),(0,o.default)(i,{name:t,message:r}).then(function(n){if(200!==n.status)throw new Error(n.statusText);e.setState({isSending:!1})}).catch(function(){e.setState({isError:!0,isSending:!1})}))}},{key:"update",value:function(){this.state.minimized?this.el.querySelector(".rp-container").classList.add("rp-container_minimized"):this.el.querySelector(".rp-container").classList.remove("rp-container_minimized"),this.el.querySelector(".rp-container__cover_loading").style.display=this.state.isSending?"block":"none",this.el.querySelector(".rp-container__cover_error").style.display=this.state.isError?"block":"none"}},{key:"render",value:function(){this.el.innerHTML="",this.el.insertAdjacentHTML("afterbegin",this.state.template),this.state.minimized&&this.el.querySelector(".rp-container").classList.add("minimized")}}]),e}()),c=s.init.bind(s),u=s.config.bind(s),l=s.destroy.bind(s);n.init=c,n.config=u,n.send=o.default,n.destroy=l},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r={url:"/report",minimized:!0,template:function(e){return e&&e.__esModule?e:{default:e}}(t(3)).default};n.default=r},function(e,n){e.exports='<div class=rp-container> <div class=rp-container__header> Напишите нам об ошибке! <div class=rp-container__dismiss></div> </div> <div class=rp-container__wrapper> <div class=rp-container__author> <input class=rp-container__field type=text placeholder="Ваше Имя"/> </div> <div class=rp-container__message> <textarea class=rp-container__field type=text placeholder="Оставьте сообщение"></textarea> </div> <div class=rp-container__actions> <button class=rp-container__button>Отправить</button> </div> <div class="rp-container__cover rp-container__cover_loading">Отправляем, ждите...</div> <div class="rp-container__cover rp-container__cover_error"> <div class=rp-container__field>Упс, что-то пошло не так...</div> <button class=rp-container__button>Отправить еще раз</button> </div> </div> </div>'},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.message,r=n.name;return fetch(e,{method:"POST",body:JSON.stringify({name:r,message:t})})}},function(e,n,t){var r=t(6);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};t(8)(r,i);r.locals&&(e.exports=r.locals)},function(e,n,t){(e.exports=t(7)(!1)).push([e.i,".rp-container * {\r\n    box-sizing: border-box;\r\n}\r\n\r\n.rp-container {\r\n    bottom: 0;\r\n    box-shadow: 0 2px 2px 0 rgba(0, 0, 0, .14), 0 3px 1px -2px rgba(0, 0, 0, .2), 0 1px 5px 0 rgba(0, 0, 0, .12);\r\n    cursor: pointer;\r\n    font-family: Verdana, Geneva, Tahoma, sans-serif;\r\n    margin: 0;\r\n    min-width: 280px;\r\n    padding: 0;\r\n    position: absolute;\r\n    right: 20px;\r\n}\r\n\r\n.rp-container_minimized .rp-container__wrapper {\r\n    max-height: 0;\r\n    opacity: 1;\r\n}\r\n.rp-container_minimized .rp-container__dismiss {\r\n    display: none;\r\n}\r\n\r\n.rp-container__wrapper {\r\n    max-height: 500px;\r\n    opacity: 1;\r\n    overflow: hidden;\r\n    position: relative;\r\n    transition: all .2s ease-in-out;\r\n}\r\n\r\n.rp-container__cover {\r\n    background-color: rgb(245, 249, 251);\r\n    color: rgb(136, 145, 137);\r\n    display: none;\r\n    height: 100%;\r\n    left: 0;\r\n    padding: 20px;\r\n    position: absolute;\r\n    text-align: center;\r\n    top: 0;\r\n    width: 100%;\r\n}\r\n\r\n.rp-container__header {\r\n    background-color: rgb(0, 146, 235);\r\n    color: #fff;\r\n    padding: 15px 20px;\r\n}\r\n\r\n.rp-container__dismiss {\r\n    color: #fff;\r\n    cursor: pointer;\r\n    font-family: Arial, sans-serif;\r\n    font-size: 14px;\r\n    font-weight: lighter;\r\n    position: absolute;\r\n    right: 8px;\r\n    text-decoration: none;\r\n    top: 8px;\r\n}\r\n\r\n.rp-container__dismiss:after {\r\n    /* UTF-8 symbol */\r\n    content: '\\2716';\r\n}\r\n\r\n.rp-container__field {\r\n    border: none;\r\n    border-bottom: 1px solid transparent;\r\n    font-family: Verdana, Geneva, Tahoma, sans-serif;\r\n    margin: 0;\r\n    padding: 20px;\r\n    width: 100%;\r\n}\r\n\r\n.rp-container__button:focus,\r\n.rp-container__field:focus {\r\n    outline: 0;\r\n}\r\n\r\n.rp-container__button {\r\n    background-color: rgba(0, 146, 235, 1);\r\n    border: none;\r\n    color: #fff;\r\n    cursor: pointer;\r\n    letter-spacing: 1px;\r\n    padding: 12px 35px 10px;\r\n    text-transform: uppercase;\r\n    width: 100%;\r\n}\r\n\r\n.rp-container__message .rp-container__field {\r\n    background-color: rgba(245, 249, 251, 1);\r\n    min-height: 100px;\r\n    resize: none;\r\n}\r\n\r\n.rp-container__actions {\r\n    padding: 20px;\r\n}",""])},function(e,n){e.exports=function(e){var n=[];return n.toString=function(){return this.map(function(n){var t=function(e,n){var t=e[1]||"",r=e[3];if(!r)return t;if(n&&"function"==typeof btoa){var i=function(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}(r),o=r.sources.map(function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"});return[t].concat(o).concat([i]).join("\n")}return[t].join("\n")}(n,e);return n[2]?"@media "+n[2]+"{"+t+"}":t}).join("")},n.i=function(e,t){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<e.length;i++){var a=e[i];"number"==typeof a[0]&&r[a[0]]||(t&&!a[2]?a[2]=t:t&&(a[2]="("+a[2]+") and ("+t+")"),n.push(a))}},n}},function(e,n,t){var r={},i=function(e){var n;return function(){return void 0===n&&(n=e.apply(this,arguments)),n}}(function(){return window&&document&&document.all&&!window.atob}),o=function(e){var n={};return function(e,t){if("function"==typeof e)return e();if(void 0===n[e]){var r=function(e,n){return n?n.querySelector(e):document.querySelector(e)}.call(this,e,t);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}n[e]=r}return n[e]}}(),a=null,s=0,c=[],u=t(9);function l(e,n){for(var t=0;t<e.length;t++){var i=e[t],o=r[i.id];if(o){o.refs++;for(var a=0;a<o.parts.length;a++)o.parts[a](i.parts[a]);for(;a<i.parts.length;a++)o.parts.push(b(i.parts[a],n))}else{var s=[];for(a=0;a<i.parts.length;a++)s.push(b(i.parts[a],n));r[i.id]={id:i.id,refs:1,parts:s}}}}function f(e,n){for(var t=[],r={},i=0;i<e.length;i++){var o=e[i],a=n.base?o[0]+n.base:o[0],s={css:o[1],media:o[2],sourceMap:o[3]};r[a]?r[a].parts.push(s):t.push(r[a]={id:a,parts:[s]})}return t}function d(e,n){var t=o(e.insertInto);if(!t)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=c[c.length-1];if("top"===e.insertAt)r?r.nextSibling?t.insertBefore(n,r.nextSibling):t.appendChild(n):t.insertBefore(n,t.firstChild),c.push(n);else if("bottom"===e.insertAt)t.appendChild(n);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=o(e.insertAt.before,t);t.insertBefore(n,i)}}function p(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var n=c.indexOf(e);n>=0&&c.splice(n,1)}function h(e){var n=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var r=function(){0;return t.nc}();r&&(e.attrs.nonce=r)}return v(n,e.attrs),d(e,n),n}function v(e,n){Object.keys(n).forEach(function(t){e.setAttribute(t,n[t])})}function b(e,n){var t,r,i,o;if(n.transform&&e.css){if(!(o=n.transform(e.css)))return function(){};e.css=o}if(n.singleton){var c=s++;t=a||(a=h(n)),r=m.bind(null,t,c,!1),i=m.bind(null,t,c,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(t=function(e){var n=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",v(n,e.attrs),d(e,n),n}(n),r=function(e,n,t){var r=t.css,i=t.sourceMap,o=void 0===n.convertToAbsoluteUrls&&i;(n.convertToAbsoluteUrls||o)&&(r=u(r));i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var a=new Blob([r],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,t,n),i=function(){p(t),t.href&&URL.revokeObjectURL(t.href)}):(t=h(n),r=function(e,n){var t=n.css,r=n.media;r&&e.setAttribute("media",r);if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}.bind(null,t),i=function(){p(t)});return r(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap)return;r(e=n)}else i()}}e.exports=function(e,n){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(n=n||{}).attrs="object"==typeof n.attrs?n.attrs:{},n.singleton||"boolean"==typeof n.singleton||(n.singleton=i()),n.insertInto||(n.insertInto="head"),n.insertAt||(n.insertAt="bottom");var t=f(e,n);return l(t,n),function(e){for(var i=[],o=0;o<t.length;o++){var a=t[o];(s=r[a.id]).refs--,i.push(s)}e&&l(f(e,n),n);for(o=0;o<i.length;o++){var s;if(0===(s=i[o]).refs){for(var c=0;c<s.parts.length;c++)s.parts[c]();delete r[s.id]}}}};var g=function(){var e=[];return function(n,t){return e[n]=t,e.filter(Boolean).join("\n")}}();function m(e,n,t,r){var i=t?"":r.css;if(e.styleSheet)e.styleSheet.cssText=g(n,i);else{var o=document.createTextNode(i),a=e.childNodes;a[n]&&e.removeChild(a[n]),a.length?e.insertBefore(o,a[n]):e.appendChild(o)}}},function(e,n){e.exports=function(e){var n="undefined"!=typeof window&&window.location;if(!n)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var t=n.protocol+"//"+n.host,r=t+n.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,n){var i,o=n.trim().replace(/^"(.*)"$/,function(e,n){return n}).replace(/^'(.*)'$/,function(e,n){return n});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?e:(i=0===o.indexOf("//")?o:0===o.indexOf("/")?t+o:r+o.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")})}}])});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9SZXBvcnRVdGlsaXR5L3dlYnBhY2svdW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbiIsIndlYnBhY2s6Ly9SZXBvcnRVdGlsaXR5L3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL1JlcG9ydFV0aWxpdHkvLi9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vUmVwb3J0VXRpbGl0eS8uL3NyYy9yZXBvcnR1dGlsaXR5LmpzIiwid2VicGFjazovL1JlcG9ydFV0aWxpdHkvLi9zcmMvZGVmYXVsdHMuanMiLCJ3ZWJwYWNrOi8vUmVwb3J0VXRpbGl0eS8uL3NyYy90ZW1wbGF0ZXMvZm9ybS5odG1sIiwid2VicGFjazovL1JlcG9ydFV0aWxpdHkvLi9zcmMvdXRpbHMvc2VuZC5qcyIsIndlYnBhY2s6Ly9SZXBvcnRVdGlsaXR5Ly4vc3JjL2Nzcy9zdHlsZXMuY3NzP2QwMDIiLCJ3ZWJwYWNrOi8vUmVwb3J0VXRpbGl0eS8uL3NyYy9jc3Mvc3R5bGVzLmNzcyIsIndlYnBhY2s6Ly9SZXBvcnRVdGlsaXR5Ly4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzIiwid2VicGFjazovL1JlcG9ydFV0aWxpdHkvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXMuanMiLCJ3ZWJwYWNrOi8vUmVwb3J0VXRpbGl0eS8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL3VybHMuanMiXSwibmFtZXMiOlsicm9vdCIsImZhY3RvcnkiLCJleHBvcnRzIiwibW9kdWxlIiwiZGVmaW5lIiwiYW1kIiwid2luZG93IiwiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsImluaXQiLCJkZXN0cm95IiwiY29uZmlnIiwic2VuZCIsInJlcG9ydFV0aWxpdHkiLCJSZXBvcnRVdGlsaXR5IiwiX2NsYXNzQ2FsbENoZWNrIiwidGhpcyIsImV2ZW50cyIsImVsIiwiZXZ0IiwiY2IiLCJzdGF0ZSIsImRlZmF1bHRzIiwib25TZW5kIiwib25DaGFuZ2VBdXRob3IiLCJvbkNoYW5nZU1lc3NhZ2UiLCJvblRvZ2dsZSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIlR5cGVFcnJvciIsInJlbmRlciIsImJpbmRFdmVudHMiLCJ1bmJpbmRFdmVudHMiLCJpbm5lckhUTUwiLCJvcHRpb25zIiwiYXNzaWduIiwiX3RoaXMiLCJmb3JFYWNoIiwiX3JlZiIsImRvbUVsIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl90aGlzMiIsIl9yZWYyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIm5ld1N0YXRlIiwidXBkYXRlIiwic2V0U3RhdGUiLCJtaW5pbWl6ZWQiLCJlIiwiY3VycmVudFRhcmdldCIsIm1lc3NhZ2UiLCJfdGhpczMiLCJfc3RhdGUiLCJ1cmwiLCJpc1NlbmRpbmciLCJfc2VuZDIiLCJkZWZhdWx0IiwidGhlbiIsInJlc3BvbnNlIiwic3RhdHVzIiwiRXJyb3IiLCJzdGF0dXNUZXh0IiwiY2F0Y2giLCJpc0Vycm9yIiwiY2xhc3NMaXN0IiwiYWRkIiwicmVtb3ZlIiwic3R5bGUiLCJkaXNwbGF5IiwiaW5zZXJ0QWRqYWNlbnRIVE1MIiwidGVtcGxhdGUiLCJodG1sIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwidW5kZWZpbmVkIiwiZmV0Y2giLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImNvbnRlbnQiLCJobXIiLCJ0cmFuc2Zvcm0iLCJpbnNlcnRJbnRvIiwibG9jYWxzIiwicHVzaCIsInVzZVNvdXJjZU1hcCIsImxpc3QiLCJ0b1N0cmluZyIsIm1hcCIsIml0ZW0iLCJjc3NNYXBwaW5nIiwiYnRvYSIsInNvdXJjZU1hcHBpbmciLCJzb3VyY2VNYXAiLCJ1bmVzY2FwZSIsImVuY29kZVVSSUNvbXBvbmVudCIsInRvQ29tbWVudCIsInNvdXJjZVVSTHMiLCJzb3VyY2VzIiwic291cmNlIiwic291cmNlUm9vdCIsImNvbmNhdCIsImpvaW4iLCJjc3NXaXRoTWFwcGluZ1RvU3RyaW5nIiwibWVkaWFRdWVyeSIsImFscmVhZHlJbXBvcnRlZE1vZHVsZXMiLCJpZCIsInN0eWxlc0luRG9tIiwiaXNPbGRJRSIsImZuIiwibWVtbyIsImFwcGx5IiwibWVtb2l6ZSIsImFsbCIsImF0b2IiLCJnZXRFbGVtZW50IiwidGFyZ2V0IiwicGFyZW50Iiwic3R5bGVUYXJnZXQiLCJIVE1MSUZyYW1lRWxlbWVudCIsImNvbnRlbnREb2N1bWVudCIsImhlYWQiLCJzaW5nbGV0b24iLCJzaW5nbGV0b25Db3VudGVyIiwic3R5bGVzSW5zZXJ0ZWRBdFRvcCIsImZpeFVybHMiLCJhZGRTdHlsZXNUb0RvbSIsInN0eWxlcyIsImRvbVN0eWxlIiwicmVmcyIsImoiLCJwYXJ0cyIsImFkZFN0eWxlIiwibGlzdFRvU3R5bGVzIiwibmV3U3R5bGVzIiwiYmFzZSIsInBhcnQiLCJjc3MiLCJtZWRpYSIsImluc2VydFN0eWxlRWxlbWVudCIsImxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wIiwiaW5zZXJ0QXQiLCJuZXh0U2libGluZyIsImluc2VydEJlZm9yZSIsImFwcGVuZENoaWxkIiwiZmlyc3RDaGlsZCIsImJlZm9yZSIsInJlbW92ZVN0eWxlRWxlbWVudCIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsImlkeCIsImluZGV4T2YiLCJzcGxpY2UiLCJjcmVhdGVTdHlsZUVsZW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiYXR0cnMiLCJ0eXBlIiwibm9uY2UiLCJuYyIsImdldE5vbmNlIiwiYWRkQXR0cnMiLCJrZXlzIiwic2V0QXR0cmlidXRlIiwib2JqIiwicmVzdWx0Iiwic3R5bGVJbmRleCIsImFwcGx5VG9TaW5nbGV0b25UYWciLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJyZXZva2VPYmplY3RVUkwiLCJCbG9iIiwibGluayIsInJlbCIsImNyZWF0ZUxpbmtFbGVtZW50IiwiYXV0b0ZpeFVybHMiLCJjb252ZXJ0VG9BYnNvbHV0ZVVybHMiLCJibG9iIiwib2xkU3JjIiwiaHJlZiIsInN0eWxlU2hlZXQiLCJjc3NUZXh0IiwiY3JlYXRlVGV4dE5vZGUiLCJuZXdPYmoiLCJERUJVRyIsIm5ld0xpc3QiLCJtYXlSZW1vdmUiLCJyZXBsYWNlVGV4dCIsInRleHRTdG9yZSIsImluZGV4IiwicmVwbGFjZW1lbnQiLCJmaWx0ZXIiLCJCb29sZWFuIiwiY3NzTm9kZSIsImNoaWxkTm9kZXMiLCJsb2NhdGlvbiIsImJhc2VVcmwiLCJwcm90b2NvbCIsImhvc3QiLCJjdXJyZW50RGlyIiwicGF0aG5hbWUiLCJyZXBsYWNlIiwiZnVsbE1hdGNoIiwib3JpZ1VybCIsIm5ld1VybCIsInVucXVvdGVkT3JpZ1VybCIsInRyaW0iLCIkMSIsInRlc3QiXSwibWFwcGluZ3MiOiJDQUFBLFNBQUFBLEVBQUFDLEdBQ0EsaUJBQUFDLFNBQUEsaUJBQUFDLE9BQ0FBLE9BQUFELFFBQUFELElBQ0EsbUJBQUFHLGVBQUFDLElBQ0FELFVBQUFILEdBQ0EsaUJBQUFDLFFBQ0FBLFFBQUEsY0FBQUQsSUFFQUQsRUFBQSxjQUFBQyxJQVJBLENBU0NLLE9BQUEsV0FDRCxtQkNUQSxJQUFBQyxLQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBUCxRQUdBLElBQUFDLEVBQUFJLEVBQUFFLElBQ0FDLEVBQUFELEVBQ0FFLEdBQUEsRUFDQVQsWUFVQSxPQU5BVSxFQUFBSCxHQUFBSSxLQUFBVixFQUFBRCxRQUFBQyxJQUFBRCxRQUFBTSxH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c291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoW10sIGZhY3RvcnkpO1xuXHRlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jylcblx0XHRleHBvcnRzW1wiUmVwb3J0VXRpbGl0eVwiXSA9IGZhY3RvcnkoKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJSZXBvcnRVdGlsaXR5XCJdID0gZmFjdG9yeSgpO1xufSkod2luZG93LCBmdW5jdGlvbigpIHtcbnJldHVybiAiLCIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIi9kaXN0XCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAwKTtcbiIsImV4cG9ydCB7IGluaXQsIGRlc3Ryb3ksIGNvbmZpZywgc2VuZCB9IGZyb20gJy4vcmVwb3J0dXRpbGl0eSciLCJpbXBvcnQgZGVmYXVsdHMgZnJvbSAnLi9kZWZhdWx0cydcclxuaW1wb3J0IHNlbmQgZnJvbSAnLi91dGlscy9zZW5kJ1xyXG5cclxuaW1wb3J0ICogYXMgc3R5bGVzIGZyb20gJy4vY3NzL3N0eWxlcy5jc3MnXHJcblxyXG4vKiogQ2xhc3MgcmVwcmVzZW50aW5nIHJlcG9ydCBmb3JtICovXHJcbmNsYXNzIFJlcG9ydFV0aWxpdHkge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5zdGF0ZSA9IGRlZmF1bHRzXHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5vblNlbmQgPSB0aGlzLm9uU2VuZC5iaW5kKHRoaXMpXHJcbiAgICAgICAgdGhpcy5vbkNoYW5nZUF1dGhvciA9IHRoaXMub25DaGFuZ2VBdXRob3IuYmluZCh0aGlzKVxyXG4gICAgICAgIHRoaXMub25DaGFuZ2VNZXNzYWdlID0gdGhpcy5vbkNoYW5nZU1lc3NhZ2UuYmluZCh0aGlzKVxyXG4gICAgICAgIHRoaXMub25Ub2dnbGUgPSB0aGlzLm9uVG9nZ2xlLmJpbmQodGhpcylcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlbmRlciBhbmQgYmluZCBldmVudHMgdG8gcmVwb3J0IGZvcm0gKGBlbGAgbXVzdCBiZSBzcGVjaWZpZWQgdGhyb3VnaCBgY29uZmlnYCBtZXRob2QpXHJcbiAgICAgKiBAcmV0dXJuIHtSZXBvcnRVdGlsaXR5fSBBIFJlcG9ydFV0aWxpdHkgaW5zdGFuY2UoZG9uJ3QgdXNlIGl0IGRpcmVjdGx5LCBvbmx5IGZvciB0ZXN0cylcclxuICAgICAqL1xyXG4gICAgaW5pdCgpIHtcclxuICAgICAgICB0aGlzLmVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLnN0YXRlLmVsKVxyXG4gICAgICAgIGlmICghdGhpcy5lbCkgdGhyb3cgVHlwZUVycm9yKCdgZWxgIG11c3QgYmUgc3BlY2lmaWVkIHRocm91Z2ggYGNvbmZpZ2AgbWV0aG9kJylcclxuXHJcbiAgICAgICAgdGhpcy5yZW5kZXIoKVxyXG4gICAgICAgIHRoaXMuYmluZEV2ZW50cygpXHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzXHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8qKlxyXG4gICAgICogQ2xlYXIgZGVzdHJveSBmb3JtXHJcbiAgICAgKi9cclxuICAgIGRlc3Ryb3koKSB7XHJcbiAgICAgICAgdGhpcy51bmJpbmRFdmVudHMoKVxyXG4gICAgICAgIHRoaXMuZWwuaW5uZXJIVE1MID0gJydcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFNldCBuZXcgc3RhdGUgbWVyZ2VzIHdpdGggZGVmYXVsdHNcclxuICAgICAqIEBwYXJhbSAge29iamVjdH0gb3B0aW9ucy4gc2VlIGRlZmF1bHRzIHNlY3Rpb25cclxuICAgICAqL1xyXG4gICAgY29uZmlnKG9wdGlvbnMpIHtcclxuICAgICAgICB0aGlzLnN0YXRlID0gT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdHMsIG9wdGlvbnMpXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBFdmVudHMgYXJyYXksIHsgZWwsIGV2dCwgY2IgfSAoc2VsZWN0b3IsIGV2ZW50TmFtZSwgY2FsbGJhY2tOYW1lKVxyXG4gICAgICovXHJcbiAgICBldmVudHMgPSBbXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBlbDogJy5ycC1jb250YWluZXJfX2FjdGlvbnMgLnJwLWNvbnRhaW5lcl9fYnV0dG9uJyxcclxuICAgICAgICAgICAgZXZ0OiAnY2xpY2snLFxyXG4gICAgICAgICAgICBjYjogJ29uU2VuZCdcclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgZWw6ICcucnAtY29udGFpbmVyX19hdXRob3IgLnJwLWNvbnRhaW5lcl9fZmllbGQnLFxyXG4gICAgICAgICAgICBldnQ6ICdjaGFuZ2UnLFxyXG4gICAgICAgICAgICBjYjogJ29uQ2hhbmdlQXV0aG9yJ1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBlbDogJy5ycC1jb250YWluZXJfX21lc3NhZ2UgLnJwLWNvbnRhaW5lcl9fZmllbGQnLFxyXG4gICAgICAgICAgICBldnQ6ICdjaGFuZ2UnLFxyXG4gICAgICAgICAgICBjYjogJ29uQ2hhbmdlTWVzc2FnZSdcclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgZWw6ICcucnAtY29udGFpbmVyX19oZWFkZXInLFxyXG4gICAgICAgICAgICBldnQ6ICdjbGljaycsXHJcbiAgICAgICAgICAgIGNiOiAnb25Ub2dnbGUnXHJcbiAgICAgICAgfVxyXG4gICAgXVxyXG4gICAgYmluZEV2ZW50cygpIHtcclxuICAgICAgICB0aGlzLmV2ZW50cy5mb3JFYWNoKCh7IGVsLCBldnQsIGNiIH0pID0+IHtcclxuICAgICAgICAgICAgbGV0IGRvbUVsID0gdGhpcy5lbC5xdWVyeVNlbGVjdG9yKGVsKVxyXG4gICAgICAgICAgICBpZiAoZG9tRWwpIGRvbUVsLmFkZEV2ZW50TGlzdGVuZXIoZXZ0LCB0aGlzW2NiXSwgZmFsc2UpXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuICAgIHVuYmluZEV2ZW50cygpIHtcclxuICAgICAgICB0aGlzLmV2ZW50cy5mb3JFYWNoKCh7IGVsLCBldnQsIGNiIH0pID0+IHtcclxuICAgICAgICAgICAgbGV0IGRvbUVsID0gdGhpcy5lbC5xdWVyeVNlbGVjdG9yKGVsKVxyXG4gICAgICAgICAgICBpZiAoZG9tRWwpIGRvbUVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZ0LCB0aGlzW2NiXSwgZmFsc2UpXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIE1lcmdlcyBzdGF0ZSB3aXRoIG5ld1N0YXRlIGFuZCB1cGRhdGVzIHJlcG9ydCBmb3JtXHJcbiAgICAgKiBAcGFyYW0gIHtvYmplY3R9IG5ld1N0YXRlXHJcbiAgICAgKi9cclxuICAgIHNldFN0YXRlKG5ld1N0YXRlKSB7XHJcbiAgICAgICAgdGhpcy5zdGF0ZSA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuc3RhdGUsIG5ld1N0YXRlKVxyXG4gICAgICAgIHRoaXMudXBkYXRlKClcclxuICAgIH1cclxuXHJcbiAgICBvblRvZ2dsZSgpIHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgbWluaW1pemVkOiAhdGhpcy5zdGF0ZS5taW5pbWl6ZWRcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG4gICAgb25DaGFuZ2VBdXRob3IoZSkge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBuYW1lOiBlLmN1cnJlbnRUYXJnZXQudmFsdWVcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG4gICAgb25DaGFuZ2VNZXNzYWdlKGUpIHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgbWVzc2FnZTogZS5jdXJyZW50VGFyZ2V0LnZhbHVlXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuICAgIFxyXG4gICAgLyoqXHJcbiAgICAgKiBIYW5kbGVzIHNlbmQgYnV0dG9uIGNsaWNrLCBcclxuICAgICAqL1xyXG4gICAgb25TZW5kKCkge1xyXG4gICAgICAgIGNvbnN0IHsgbmFtZSwgbWVzc2FnZSwgdXJsIH0gPSB0aGlzLnN0YXRlXHJcbiAgICBcclxuICAgICAgICBpZiAoIXVybCkgcmV0dXJuXHJcbiAgICBcclxuICAgICAgICAvLyBzaG93IGxvYWRlclxyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpc1NlbmRpbmc6IHRydWUgfSlcclxuICAgIFxyXG4gICAgICAgIC8vIHNlbmRpbmcgbWVzc2FnZSB0byB0aGUgc2VydmVyXHJcbiAgICAgICAgc2VuZCh1cmwsIHsgbmFtZSwgbWVzc2FnZSB9KS50aGVuKChyZXNwb25zZSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpc1NlbmRpbmc6IGZhbHNlIH0pXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KS5jYXRjaCgoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgaXNFcnJvcjogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGlzU2VuZGluZzogZmFsc2VcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5taW5pbWl6ZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5lbC5xdWVyeVNlbGVjdG9yKCcucnAtY29udGFpbmVyJykuY2xhc3NMaXN0LmFkZCgncnAtY29udGFpbmVyX21pbmltaXplZCcpXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5lbC5xdWVyeVNlbGVjdG9yKCcucnAtY29udGFpbmVyJykuY2xhc3NMaXN0LnJlbW92ZSgncnAtY29udGFpbmVyX21pbmltaXplZCcpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZWwucXVlcnlTZWxlY3RvcignLnJwLWNvbnRhaW5lcl9fY292ZXJfbG9hZGluZycpLnN0eWxlLmRpc3BsYXkgPSB0aGlzLnN0YXRlLmlzU2VuZGluZyA/ICdibG9jaycgOiAnbm9uZSdcclxuICAgICAgICB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3IoJy5ycC1jb250YWluZXJfX2NvdmVyX2Vycm9yJykuc3R5bGUuZGlzcGxheSA9IHRoaXMuc3RhdGUuaXNFcnJvciA/ICdibG9jaycgOiAnbm9uZSdcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgdGhpcy5lbC5pbm5lckhUTUwgPSAnJ1xyXG4gICAgICAgIHRoaXMuZWwuaW5zZXJ0QWRqYWNlbnRIVE1MKCdhZnRlcmJlZ2luJywgdGhpcy5zdGF0ZS50ZW1wbGF0ZSlcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUubWluaW1pemVkKVxyXG4gICAgICAgICAgICB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3IoJy5ycC1jb250YWluZXInKS5jbGFzc0xpc3QuYWRkKCdtaW5pbWl6ZWQnKVxyXG4gICAgfVxyXG59XHJcblxyXG5jb25zdCByZXBvcnRVdGlsaXR5ID0gbmV3IFJlcG9ydFV0aWxpdHkoKVxyXG5cclxuY29uc3QgaW5pdCA9IHJlcG9ydFV0aWxpdHkuaW5pdC5iaW5kKHJlcG9ydFV0aWxpdHkpXHJcbmNvbnN0IGNvbmZpZyA9IHJlcG9ydFV0aWxpdHkuY29uZmlnLmJpbmQocmVwb3J0VXRpbGl0eSlcclxuY29uc3QgZGVzdHJveSA9IHJlcG9ydFV0aWxpdHkuZGVzdHJveS5iaW5kKHJlcG9ydFV0aWxpdHkpXHJcblxyXG5leHBvcnQgeyBpbml0LCBjb25maWcsIHNlbmQsIGRlc3Ryb3kgfSIsImltcG9ydCBodG1sIGZyb20gJy4vdGVtcGxhdGVzL2Zvcm0uaHRtbCdcclxuXHJcbmNvbnN0IGRlZmF1bHRzID0ge1xyXG4gICAgdXJsOiAnL3JlcG9ydCcsXHJcbiAgICBtaW5pbWl6ZWQ6IHRydWUsXHJcbiAgICB0ZW1wbGF0ZTogaHRtbFxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBkZWZhdWx0cyIsIm1vZHVsZS5leHBvcnRzID0gXCI8ZGl2IGNsYXNzPXJwLWNvbnRhaW5lcj4gPGRpdiBjbGFzcz1ycC1jb250YWluZXJfX2hlYWRlcj4g0J3QsNC/0LjRiNC40YLQtSDQvdCw0Lwg0L7QsSDQvtGI0LjQsdC60LUhIDxkaXYgY2xhc3M9cnAtY29udGFpbmVyX19kaXNtaXNzPjwvZGl2PiA8L2Rpdj4gPGRpdiBjbGFzcz1ycC1jb250YWluZXJfX3dyYXBwZXI+IDxkaXYgY2xhc3M9cnAtY29udGFpbmVyX19hdXRob3I+IDxpbnB1dCBjbGFzcz1ycC1jb250YWluZXJfX2ZpZWxkIHR5cGU9dGV4dCBwbGFjZWhvbGRlcj1cXFwi0JLQsNGI0LUg0JjQvNGPXFxcIi8+IDwvZGl2PiA8ZGl2IGNsYXNzPXJwLWNvbnRhaW5lcl9fbWVzc2FnZT4gPHRleHRhcmVhIGNsYXNzPXJwLWNvbnRhaW5lcl9fZmllbGQgdHlwZT10ZXh0IHBsYWNlaG9sZGVyPVxcXCLQntGB0YLQsNCy0YzRgtC1INGB0L7QvtCx0YnQtdC90LjQtVxcXCI+PC90ZXh0YXJlYT4gPC9kaXY+IDxkaXYgY2xhc3M9cnAtY29udGFpbmVyX19hY3Rpb25zPiA8YnV0dG9uIGNsYXNzPXJwLWNvbnRhaW5lcl9fYnV0dG9uPtCe0YLQv9GA0LDQstC40YLRjDwvYnV0dG9uPiA8L2Rpdj4gPGRpdiBjbGFzcz1cXFwicnAtY29udGFpbmVyX19jb3ZlciBycC1jb250YWluZXJfX2NvdmVyX2xvYWRpbmdcXFwiPtCe0YLQv9GA0LDQstC70Y/QtdC8LCDQttC00LjRgtC1Li4uPC9kaXY+IDxkaXYgY2xhc3M9XFxcInJwLWNvbnRhaW5lcl9fY292ZXIgcnAtY29udGFpbmVyX19jb3Zlcl9lcnJvclxcXCI+IDxkaXYgY2xhc3M9cnAtY29udGFpbmVyX19maWVsZD7Qo9C/0YEsINGH0YLQvi3RgtC+INC/0L7RiNC70L4g0L3QtSDRgtCw0LouLi48L2Rpdj4gPGJ1dHRvbiBjbGFzcz1ycC1jb250YWluZXJfX2J1dHRvbj7QntGC0L/RgNCw0LLQuNGC0Ywg0LXRidC1INGA0LDQtzwvYnV0dG9uPiA8L2Rpdj4gPC9kaXY+IDwvZGl2PlwiOyIsIi8qKlxyXG4gKiBzZW5kcyBQT1NUIHRvIHVybCB3aXRoIHsgbWVzc2FnZSwgbmFtZSB9IGluIEpTT04uXHJcbiAqIEBwYXJhbSB7dXJsfSB1cmwgXHJcbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIFxyXG4gKiBAcmV0dXJucyB7UHJvbWlzZX0gQSBQcm9taXNlIG9iamVjdFxyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc2VuZCh1cmwsIG9wdGlvbnM9e30pIHtcclxuICAgIGNvbnN0IHsgbWVzc2FnZSwgbmFtZSB9ID0gb3B0aW9uc1xyXG5cclxuICAgIHJldHVybiBmZXRjaCh1cmwsIHtcclxuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICAgIG5hbWUsXHJcbiAgICAgICAgICAgIG1lc3NhZ2VcclxuICAgICAgICB9KVxyXG4gICAgfSlcclxufSIsIlxudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcz8/cmVmLS01LTEhLi9zdHlsZXMuY3NzXCIpO1xuXG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblxudmFyIHRyYW5zZm9ybTtcbnZhciBpbnNlcnRJbnRvO1xuXG5cblxudmFyIG9wdGlvbnMgPSB7XCJobXJcIjp0cnVlfVxuXG5vcHRpb25zLnRyYW5zZm9ybSA9IHRyYW5zZm9ybVxub3B0aW9ucy5pbnNlcnRJbnRvID0gdW5kZWZpbmVkO1xuXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXMuanNcIikoY29udGVudCwgb3B0aW9ucyk7XG5cbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXG5pZihtb2R1bGUuaG90KSB7XG5cdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcz8/cmVmLS01LTEhLi9zdHlsZXMuY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanM/P3JlZi0tNS0xIS4vc3R5bGVzLmNzc1wiKTtcblxuXHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXG5cdFx0dmFyIGxvY2FscyA9IChmdW5jdGlvbihhLCBiKSB7XG5cdFx0XHR2YXIga2V5LCBpZHggPSAwO1xuXG5cdFx0XHRmb3Ioa2V5IGluIGEpIHtcblx0XHRcdFx0aWYoIWIgfHwgYVtrZXldICE9PSBiW2tleV0pIHJldHVybiBmYWxzZTtcblx0XHRcdFx0aWR4Kys7XG5cdFx0XHR9XG5cblx0XHRcdGZvcihrZXkgaW4gYikgaWR4LS07XG5cblx0XHRcdHJldHVybiBpZHggPT09IDA7XG5cdFx0fShjb250ZW50LmxvY2FscywgbmV3Q29udGVudC5sb2NhbHMpKTtcblxuXHRcdGlmKCFsb2NhbHMpIHRocm93IG5ldyBFcnJvcignQWJvcnRpbmcgQ1NTIEhNUiBkdWUgdG8gY2hhbmdlZCBjc3MtbW9kdWxlcyBsb2NhbHMuJyk7XG5cblx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdH0pO1xuXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufSIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikoZmFsc2UpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLnJwLWNvbnRhaW5lciAqIHtcXHJcXG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXHJcXG59XFxyXFxuXFxyXFxuLnJwLWNvbnRhaW5lciB7XFxyXFxuICAgIGJvdHRvbTogMDtcXHJcXG4gICAgYm94LXNoYWRvdzogMCAycHggMnB4IDAgcmdiYSgwLCAwLCAwLCAuMTQpLCAwIDNweCAxcHggLTJweCByZ2JhKDAsIDAsIDAsIC4yKSwgMCAxcHggNXB4IDAgcmdiYSgwLCAwLCAwLCAuMTIpO1xcclxcbiAgICBjdXJzb3I6IHBvaW50ZXI7XFxyXFxuICAgIGZvbnQtZmFtaWx5OiBWZXJkYW5hLCBHZW5ldmEsIFRhaG9tYSwgc2Fucy1zZXJpZjtcXHJcXG4gICAgbWFyZ2luOiAwO1xcclxcbiAgICBtaW4td2lkdGg6IDI4MHB4O1xcclxcbiAgICBwYWRkaW5nOiAwO1xcclxcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxyXFxuICAgIHJpZ2h0OiAyMHB4O1xcclxcbn1cXHJcXG5cXHJcXG4ucnAtY29udGFpbmVyX21pbmltaXplZCAucnAtY29udGFpbmVyX193cmFwcGVyIHtcXHJcXG4gICAgbWF4LWhlaWdodDogMDtcXHJcXG4gICAgb3BhY2l0eTogMTtcXHJcXG59XFxyXFxuLnJwLWNvbnRhaW5lcl9taW5pbWl6ZWQgLnJwLWNvbnRhaW5lcl9fZGlzbWlzcyB7XFxyXFxuICAgIGRpc3BsYXk6IG5vbmU7XFxyXFxufVxcclxcblxcclxcbi5ycC1jb250YWluZXJfX3dyYXBwZXIge1xcclxcbiAgICBtYXgtaGVpZ2h0OiA1MDBweDtcXHJcXG4gICAgb3BhY2l0eTogMTtcXHJcXG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcXHJcXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xcclxcbiAgICB0cmFuc2l0aW9uOiBhbGwgLjJzIGVhc2UtaW4tb3V0O1xcclxcbn1cXHJcXG5cXHJcXG4ucnAtY29udGFpbmVyX19jb3ZlciB7XFxyXFxuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYigyNDUsIDI0OSwgMjUxKTtcXHJcXG4gICAgY29sb3I6IHJnYigxMzYsIDE0NSwgMTM3KTtcXHJcXG4gICAgZGlzcGxheTogbm9uZTtcXHJcXG4gICAgaGVpZ2h0OiAxMDAlO1xcclxcbiAgICBsZWZ0OiAwO1xcclxcbiAgICBwYWRkaW5nOiAyMHB4O1xcclxcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxyXFxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcXHJcXG4gICAgdG9wOiAwO1xcclxcbiAgICB3aWR0aDogMTAwJTtcXHJcXG59XFxyXFxuXFxyXFxuLnJwLWNvbnRhaW5lcl9faGVhZGVyIHtcXHJcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDAsIDE0NiwgMjM1KTtcXHJcXG4gICAgY29sb3I6ICNmZmY7XFxyXFxuICAgIHBhZGRpbmc6IDE1cHggMjBweDtcXHJcXG59XFxyXFxuXFxyXFxuLnJwLWNvbnRhaW5lcl9fZGlzbWlzcyB7XFxyXFxuICAgIGNvbG9yOiAjZmZmO1xcclxcbiAgICBjdXJzb3I6IHBvaW50ZXI7XFxyXFxuICAgIGZvbnQtZmFtaWx5OiBBcmlhbCwgc2Fucy1zZXJpZjtcXHJcXG4gICAgZm9udC1zaXplOiAxNHB4O1xcclxcbiAgICBmb250LXdlaWdodDogbGlnaHRlcjtcXHJcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcclxcbiAgICByaWdodDogOHB4O1xcclxcbiAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XFxyXFxuICAgIHRvcDogOHB4O1xcclxcbn1cXHJcXG5cXHJcXG4ucnAtY29udGFpbmVyX19kaXNtaXNzOmFmdGVyIHtcXHJcXG4gICAgLyogVVRGLTggc3ltYm9sICovXFxyXFxuICAgIGNvbnRlbnQ6ICdcXFxcMjcxNic7XFxyXFxufVxcclxcblxcclxcbi5ycC1jb250YWluZXJfX2ZpZWxkIHtcXHJcXG4gICAgYm9yZGVyOiBub25lO1xcclxcbiAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgdHJhbnNwYXJlbnQ7XFxyXFxuICAgIGZvbnQtZmFtaWx5OiBWZXJkYW5hLCBHZW5ldmEsIFRhaG9tYSwgc2Fucy1zZXJpZjtcXHJcXG4gICAgbWFyZ2luOiAwO1xcclxcbiAgICBwYWRkaW5nOiAyMHB4O1xcclxcbiAgICB3aWR0aDogMTAwJTtcXHJcXG59XFxyXFxuXFxyXFxuLnJwLWNvbnRhaW5lcl9fYnV0dG9uOmZvY3VzLFxcclxcbi5ycC1jb250YWluZXJfX2ZpZWxkOmZvY3VzIHtcXHJcXG4gICAgb3V0bGluZTogMDtcXHJcXG59XFxyXFxuXFxyXFxuLnJwLWNvbnRhaW5lcl9fYnV0dG9uIHtcXHJcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAxNDYsIDIzNSwgMSk7XFxyXFxuICAgIGJvcmRlcjogbm9uZTtcXHJcXG4gICAgY29sb3I6ICNmZmY7XFxyXFxuICAgIGN1cnNvcjogcG9pbnRlcjtcXHJcXG4gICAgbGV0dGVyLXNwYWNpbmc6IDFweDtcXHJcXG4gICAgcGFkZGluZzogMTJweCAzNXB4IDEwcHg7XFxyXFxuICAgIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XFxyXFxuICAgIHdpZHRoOiAxMDAlO1xcclxcbn1cXHJcXG5cXHJcXG4ucnAtY29udGFpbmVyX19tZXNzYWdlIC5ycC1jb250YWluZXJfX2ZpZWxkIHtcXHJcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNDUsIDI0OSwgMjUxLCAxKTtcXHJcXG4gICAgbWluLWhlaWdodDogMTAwcHg7XFxyXFxuICAgIHJlc2l6ZTogbm9uZTtcXHJcXG59XFxyXFxuXFxyXFxuLnJwLWNvbnRhaW5lcl9fYWN0aW9ucyB7XFxyXFxuICAgIHBhZGRpbmc6IDIwcHg7XFxyXFxufVwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcbiIsIi8qXG5cdE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG5cdEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG4vLyBjc3MgYmFzZSBjb2RlLCBpbmplY3RlZCBieSB0aGUgY3NzLWxvYWRlclxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbih1c2VTb3VyY2VNYXApIHtcblx0dmFyIGxpc3QgPSBbXTtcblxuXHQvLyByZXR1cm4gdGhlIGxpc3Qgb2YgbW9kdWxlcyBhcyBjc3Mgc3RyaW5nXG5cdGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcblx0XHRyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcblx0XHRcdHZhciBjb250ZW50ID0gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtLCB1c2VTb3VyY2VNYXApO1xuXHRcdFx0aWYoaXRlbVsyXSkge1xuXHRcdFx0XHRyZXR1cm4gXCJAbWVkaWEgXCIgKyBpdGVtWzJdICsgXCJ7XCIgKyBjb250ZW50ICsgXCJ9XCI7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXR1cm4gY29udGVudDtcblx0XHRcdH1cblx0XHR9KS5qb2luKFwiXCIpO1xuXHR9O1xuXG5cdC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XG5cdGxpc3QuaSA9IGZ1bmN0aW9uKG1vZHVsZXMsIG1lZGlhUXVlcnkpIHtcblx0XHRpZih0eXBlb2YgbW9kdWxlcyA9PT0gXCJzdHJpbmdcIilcblx0XHRcdG1vZHVsZXMgPSBbW251bGwsIG1vZHVsZXMsIFwiXCJdXTtcblx0XHR2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgaWQgPSB0aGlzW2ldWzBdO1xuXHRcdFx0aWYodHlwZW9mIGlkID09PSBcIm51bWJlclwiKVxuXHRcdFx0XHRhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XG5cdFx0fVxuXHRcdGZvcihpID0gMDsgaSA8IG1vZHVsZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBpdGVtID0gbW9kdWxlc1tpXTtcblx0XHRcdC8vIHNraXAgYWxyZWFkeSBpbXBvcnRlZCBtb2R1bGVcblx0XHRcdC8vIHRoaXMgaW1wbGVtZW50YXRpb24gaXMgbm90IDEwMCUgcGVyZmVjdCBmb3Igd2VpcmQgbWVkaWEgcXVlcnkgY29tYmluYXRpb25zXG5cdFx0XHQvLyAgd2hlbiBhIG1vZHVsZSBpcyBpbXBvcnRlZCBtdWx0aXBsZSB0aW1lcyB3aXRoIGRpZmZlcmVudCBtZWRpYSBxdWVyaWVzLlxuXHRcdFx0Ly8gIEkgaG9wZSB0aGlzIHdpbGwgbmV2ZXIgb2NjdXIgKEhleSB0aGlzIHdheSB3ZSBoYXZlIHNtYWxsZXIgYnVuZGxlcylcblx0XHRcdGlmKHR5cGVvZiBpdGVtWzBdICE9PSBcIm51bWJlclwiIHx8ICFhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2l0ZW1bMF1dKSB7XG5cdFx0XHRcdGlmKG1lZGlhUXVlcnkgJiYgIWl0ZW1bMl0pIHtcblx0XHRcdFx0XHRpdGVtWzJdID0gbWVkaWFRdWVyeTtcblx0XHRcdFx0fSBlbHNlIGlmKG1lZGlhUXVlcnkpIHtcblx0XHRcdFx0XHRpdGVtWzJdID0gXCIoXCIgKyBpdGVtWzJdICsgXCIpIGFuZCAoXCIgKyBtZWRpYVF1ZXJ5ICsgXCIpXCI7XG5cdFx0XHRcdH1cblx0XHRcdFx0bGlzdC5wdXNoKGl0ZW0pO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcblx0cmV0dXJuIGxpc3Q7XG59O1xuXG5mdW5jdGlvbiBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0sIHVzZVNvdXJjZU1hcCkge1xuXHR2YXIgY29udGVudCA9IGl0ZW1bMV0gfHwgJyc7XG5cdHZhciBjc3NNYXBwaW5nID0gaXRlbVszXTtcblx0aWYgKCFjc3NNYXBwaW5nKSB7XG5cdFx0cmV0dXJuIGNvbnRlbnQ7XG5cdH1cblxuXHRpZiAodXNlU291cmNlTWFwICYmIHR5cGVvZiBidG9hID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0dmFyIHNvdXJjZU1hcHBpbmcgPSB0b0NvbW1lbnQoY3NzTWFwcGluZyk7XG5cdFx0dmFyIHNvdXJjZVVSTHMgPSBjc3NNYXBwaW5nLnNvdXJjZXMubWFwKGZ1bmN0aW9uIChzb3VyY2UpIHtcblx0XHRcdHJldHVybiAnLyojIHNvdXJjZVVSTD0nICsgY3NzTWFwcGluZy5zb3VyY2VSb290ICsgc291cmNlICsgJyAqLydcblx0XHR9KTtcblxuXHRcdHJldHVybiBbY29udGVudF0uY29uY2F0KHNvdXJjZVVSTHMpLmNvbmNhdChbc291cmNlTWFwcGluZ10pLmpvaW4oJ1xcbicpO1xuXHR9XG5cblx0cmV0dXJuIFtjb250ZW50XS5qb2luKCdcXG4nKTtcbn1cblxuLy8gQWRhcHRlZCBmcm9tIGNvbnZlcnQtc291cmNlLW1hcCAoTUlUKVxuZnVuY3Rpb24gdG9Db21tZW50KHNvdXJjZU1hcCkge1xuXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcblx0dmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSk7XG5cdHZhciBkYXRhID0gJ3NvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LCcgKyBiYXNlNjQ7XG5cblx0cmV0dXJuICcvKiMgJyArIGRhdGEgKyAnICovJztcbn1cbiIsIi8qXG5cdE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG5cdEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG5cbnZhciBzdHlsZXNJbkRvbSA9IHt9O1xuXG52YXJcdG1lbW9pemUgPSBmdW5jdGlvbiAoZm4pIHtcblx0dmFyIG1lbW87XG5cblx0cmV0dXJuIGZ1bmN0aW9uICgpIHtcblx0XHRpZiAodHlwZW9mIG1lbW8gPT09IFwidW5kZWZpbmVkXCIpIG1lbW8gPSBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHRcdHJldHVybiBtZW1vO1xuXHR9O1xufTtcblxudmFyIGlzT2xkSUUgPSBtZW1vaXplKGZ1bmN0aW9uICgpIHtcblx0Ly8gVGVzdCBmb3IgSUUgPD0gOSBhcyBwcm9wb3NlZCBieSBCcm93c2VyaGFja3Ncblx0Ly8gQHNlZSBodHRwOi8vYnJvd3NlcmhhY2tzLmNvbS8jaGFjay1lNzFkODY5MmY2NTMzNDE3M2ZlZTcxNWMyMjJjYjgwNVxuXHQvLyBUZXN0cyBmb3IgZXhpc3RlbmNlIG9mIHN0YW5kYXJkIGdsb2JhbHMgaXMgdG8gYWxsb3cgc3R5bGUtbG9hZGVyXG5cdC8vIHRvIG9wZXJhdGUgY29ycmVjdGx5IGludG8gbm9uLXN0YW5kYXJkIGVudmlyb25tZW50c1xuXHQvLyBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrLWNvbnRyaWIvc3R5bGUtbG9hZGVyL2lzc3Vlcy8xNzdcblx0cmV0dXJuIHdpbmRvdyAmJiBkb2N1bWVudCAmJiBkb2N1bWVudC5hbGwgJiYgIXdpbmRvdy5hdG9iO1xufSk7XG5cbnZhciBnZXRUYXJnZXQgPSBmdW5jdGlvbiAodGFyZ2V0LCBwYXJlbnQpIHtcbiAgaWYgKHBhcmVudCl7XG4gICAgcmV0dXJuIHBhcmVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7XG4gIH1cbiAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTtcbn07XG5cbnZhciBnZXRFbGVtZW50ID0gKGZ1bmN0aW9uIChmbikge1xuXHR2YXIgbWVtbyA9IHt9O1xuXG5cdHJldHVybiBmdW5jdGlvbih0YXJnZXQsIHBhcmVudCkge1xuICAgICAgICAgICAgICAgIC8vIElmIHBhc3NpbmcgZnVuY3Rpb24gaW4gb3B0aW9ucywgdGhlbiB1c2UgaXQgZm9yIHJlc29sdmUgXCJoZWFkXCIgZWxlbWVudC5cbiAgICAgICAgICAgICAgICAvLyBVc2VmdWwgZm9yIFNoYWRvdyBSb290IHN0eWxlIGkuZVxuICAgICAgICAgICAgICAgIC8vIHtcbiAgICAgICAgICAgICAgICAvLyAgIGluc2VydEludG86IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZm9vXCIpLnNoYWRvd1Jvb3QgfVxuICAgICAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRhcmdldCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhcmdldCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1lbW9bdGFyZ2V0XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuXHRcdFx0dmFyIHN0eWxlVGFyZ2V0ID0gZ2V0VGFyZ2V0LmNhbGwodGhpcywgdGFyZ2V0LCBwYXJlbnQpO1xuXHRcdFx0Ly8gU3BlY2lhbCBjYXNlIHRvIHJldHVybiBoZWFkIG9mIGlmcmFtZSBpbnN0ZWFkIG9mIGlmcmFtZSBpdHNlbGZcblx0XHRcdGlmICh3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQgJiYgc3R5bGVUYXJnZXQgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpIHtcblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHQvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFjY2VzcyB0byBpZnJhbWUgaXMgYmxvY2tlZFxuXHRcdFx0XHRcdC8vIGR1ZSB0byBjcm9zcy1vcmlnaW4gcmVzdHJpY3Rpb25zXG5cdFx0XHRcdFx0c3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcblx0XHRcdFx0fSBjYXRjaChlKSB7XG5cdFx0XHRcdFx0c3R5bGVUYXJnZXQgPSBudWxsO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRtZW1vW3RhcmdldF0gPSBzdHlsZVRhcmdldDtcblx0XHR9XG5cdFx0cmV0dXJuIG1lbW9bdGFyZ2V0XVxuXHR9O1xufSkoKTtcblxudmFyIHNpbmdsZXRvbiA9IG51bGw7XG52YXJcdHNpbmdsZXRvbkNvdW50ZXIgPSAwO1xudmFyXHRzdHlsZXNJbnNlcnRlZEF0VG9wID0gW107XG5cbnZhclx0Zml4VXJscyA9IHJlcXVpcmUoXCIuL3VybHNcIik7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obGlzdCwgb3B0aW9ucykge1xuXHRpZiAodHlwZW9mIERFQlVHICE9PSBcInVuZGVmaW5lZFwiICYmIERFQlVHKSB7XG5cdFx0aWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gXCJvYmplY3RcIikgdGhyb3cgbmV3IEVycm9yKFwiVGhlIHN0eWxlLWxvYWRlciBjYW5ub3QgYmUgdXNlZCBpbiBhIG5vbi1icm93c2VyIGVudmlyb25tZW50XCIpO1xuXHR9XG5cblx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cblx0b3B0aW9ucy5hdHRycyA9IHR5cGVvZiBvcHRpb25zLmF0dHJzID09PSBcIm9iamVjdFwiID8gb3B0aW9ucy5hdHRycyA6IHt9O1xuXG5cdC8vIEZvcmNlIHNpbmdsZS10YWcgc29sdXRpb24gb24gSUU2LTksIHdoaWNoIGhhcyBhIGhhcmQgbGltaXQgb24gdGhlICMgb2YgPHN0eWxlPlxuXHQvLyB0YWdzIGl0IHdpbGwgYWxsb3cgb24gYSBwYWdlXG5cdGlmICghb3B0aW9ucy5zaW5nbGV0b24gJiYgdHlwZW9mIG9wdGlvbnMuc2luZ2xldG9uICE9PSBcImJvb2xlYW5cIikgb3B0aW9ucy5zaW5nbGV0b24gPSBpc09sZElFKCk7XG5cblx0Ly8gQnkgZGVmYXVsdCwgYWRkIDxzdHlsZT4gdGFncyB0byB0aGUgPGhlYWQ+IGVsZW1lbnRcbiAgICAgICAgaWYgKCFvcHRpb25zLmluc2VydEludG8pIG9wdGlvbnMuaW5zZXJ0SW50byA9IFwiaGVhZFwiO1xuXG5cdC8vIEJ5IGRlZmF1bHQsIGFkZCA8c3R5bGU+IHRhZ3MgdG8gdGhlIGJvdHRvbSBvZiB0aGUgdGFyZ2V0XG5cdGlmICghb3B0aW9ucy5pbnNlcnRBdCkgb3B0aW9ucy5pbnNlcnRBdCA9IFwiYm90dG9tXCI7XG5cblx0dmFyIHN0eWxlcyA9IGxpc3RUb1N0eWxlcyhsaXN0LCBvcHRpb25zKTtcblxuXHRhZGRTdHlsZXNUb0RvbShzdHlsZXMsIG9wdGlvbnMpO1xuXG5cdHJldHVybiBmdW5jdGlvbiB1cGRhdGUgKG5ld0xpc3QpIHtcblx0XHR2YXIgbWF5UmVtb3ZlID0gW107XG5cblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGl0ZW0gPSBzdHlsZXNbaV07XG5cdFx0XHR2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXTtcblxuXHRcdFx0ZG9tU3R5bGUucmVmcy0tO1xuXHRcdFx0bWF5UmVtb3ZlLnB1c2goZG9tU3R5bGUpO1xuXHRcdH1cblxuXHRcdGlmKG5ld0xpc3QpIHtcblx0XHRcdHZhciBuZXdTdHlsZXMgPSBsaXN0VG9TdHlsZXMobmV3TGlzdCwgb3B0aW9ucyk7XG5cdFx0XHRhZGRTdHlsZXNUb0RvbShuZXdTdHlsZXMsIG9wdGlvbnMpO1xuXHRcdH1cblxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgbWF5UmVtb3ZlLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgZG9tU3R5bGUgPSBtYXlSZW1vdmVbaV07XG5cblx0XHRcdGlmKGRvbVN0eWxlLnJlZnMgPT09IDApIHtcblx0XHRcdFx0Zm9yICh2YXIgaiA9IDA7IGogPCBkb21TdHlsZS5wYXJ0cy5sZW5ndGg7IGorKykgZG9tU3R5bGUucGFydHNbal0oKTtcblxuXHRcdFx0XHRkZWxldGUgc3R5bGVzSW5Eb21bZG9tU3R5bGUuaWRdO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcbn07XG5cbmZ1bmN0aW9uIGFkZFN0eWxlc1RvRG9tIChzdHlsZXMsIG9wdGlvbnMpIHtcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgaXRlbSA9IHN0eWxlc1tpXTtcblx0XHR2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXTtcblxuXHRcdGlmKGRvbVN0eWxlKSB7XG5cdFx0XHRkb21TdHlsZS5yZWZzKys7XG5cblx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBkb21TdHlsZS5wYXJ0cy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRkb21TdHlsZS5wYXJ0c1tqXShpdGVtLnBhcnRzW2pdKTtcblx0XHRcdH1cblxuXHRcdFx0Zm9yKDsgaiA8IGl0ZW0ucGFydHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0ZG9tU3R5bGUucGFydHMucHVzaChhZGRTdHlsZShpdGVtLnBhcnRzW2pdLCBvcHRpb25zKSk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdHZhciBwYXJ0cyA9IFtdO1xuXG5cdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRwYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcblx0XHRcdH1cblxuXHRcdFx0c3R5bGVzSW5Eb21baXRlbS5pZF0gPSB7aWQ6IGl0ZW0uaWQsIHJlZnM6IDEsIHBhcnRzOiBwYXJ0c307XG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIGxpc3RUb1N0eWxlcyAobGlzdCwgb3B0aW9ucykge1xuXHR2YXIgc3R5bGVzID0gW107XG5cdHZhciBuZXdTdHlsZXMgPSB7fTtcblxuXHRmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgaXRlbSA9IGxpc3RbaV07XG5cdFx0dmFyIGlkID0gb3B0aW9ucy5iYXNlID8gaXRlbVswXSArIG9wdGlvbnMuYmFzZSA6IGl0ZW1bMF07XG5cdFx0dmFyIGNzcyA9IGl0ZW1bMV07XG5cdFx0dmFyIG1lZGlhID0gaXRlbVsyXTtcblx0XHR2YXIgc291cmNlTWFwID0gaXRlbVszXTtcblx0XHR2YXIgcGFydCA9IHtjc3M6IGNzcywgbWVkaWE6IG1lZGlhLCBzb3VyY2VNYXA6IHNvdXJjZU1hcH07XG5cblx0XHRpZighbmV3U3R5bGVzW2lkXSkgc3R5bGVzLnB1c2gobmV3U3R5bGVzW2lkXSA9IHtpZDogaWQsIHBhcnRzOiBbcGFydF19KTtcblx0XHRlbHNlIG5ld1N0eWxlc1tpZF0ucGFydHMucHVzaChwYXJ0KTtcblx0fVxuXG5cdHJldHVybiBzdHlsZXM7XG59XG5cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudCAob3B0aW9ucywgc3R5bGUpIHtcblx0dmFyIHRhcmdldCA9IGdldEVsZW1lbnQob3B0aW9ucy5pbnNlcnRJbnRvKVxuXG5cdGlmICghdGFyZ2V0KSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnRJbnRvJyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7XG5cdH1cblxuXHR2YXIgbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AgPSBzdHlsZXNJbnNlcnRlZEF0VG9wW3N0eWxlc0luc2VydGVkQXRUb3AubGVuZ3RoIC0gMV07XG5cblx0aWYgKG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwidG9wXCIpIHtcblx0XHRpZiAoIWxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wKSB7XG5cdFx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKHN0eWxlLCB0YXJnZXQuZmlyc3RDaGlsZCk7XG5cdFx0fSBlbHNlIGlmIChsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcC5uZXh0U2libGluZykge1xuXHRcdFx0dGFyZ2V0Lmluc2VydEJlZm9yZShzdHlsZSwgbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AubmV4dFNpYmxpbmcpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuXHRcdH1cblx0XHRzdHlsZXNJbnNlcnRlZEF0VG9wLnB1c2goc3R5bGUpO1xuXHR9IGVsc2UgaWYgKG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwiYm90dG9tXCIpIHtcblx0XHR0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuXHR9IGVsc2UgaWYgKHR5cGVvZiBvcHRpb25zLmluc2VydEF0ID09PSBcIm9iamVjdFwiICYmIG9wdGlvbnMuaW5zZXJ0QXQuYmVmb3JlKSB7XG5cdFx0dmFyIG5leHRTaWJsaW5nID0gZ2V0RWxlbWVudChvcHRpb25zLmluc2VydEF0LmJlZm9yZSwgdGFyZ2V0KTtcblx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKHN0eWxlLCBuZXh0U2libGluZyk7XG5cdH0gZWxzZSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiW1N0eWxlIExvYWRlcl1cXG5cXG4gSW52YWxpZCB2YWx1ZSBmb3IgcGFyYW1ldGVyICdpbnNlcnRBdCcgKCdvcHRpb25zLmluc2VydEF0JykgZm91bmQuXFxuIE11c3QgYmUgJ3RvcCcsICdib3R0b20nLCBvciBPYmplY3QuXFxuIChodHRwczovL2dpdGh1Yi5jb20vd2VicGFjay1jb250cmliL3N0eWxlLWxvYWRlciNpbnNlcnRhdClcXG5cIik7XG5cdH1cbn1cblxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50IChzdHlsZSkge1xuXHRpZiAoc3R5bGUucGFyZW50Tm9kZSA9PT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuXHRzdHlsZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlKTtcblxuXHR2YXIgaWR4ID0gc3R5bGVzSW5zZXJ0ZWRBdFRvcC5pbmRleE9mKHN0eWxlKTtcblx0aWYoaWR4ID49IDApIHtcblx0XHRzdHlsZXNJbnNlcnRlZEF0VG9wLnNwbGljZShpZHgsIDEpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVN0eWxlRWxlbWVudCAob3B0aW9ucykge1xuXHR2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG5cblx0aWYob3B0aW9ucy5hdHRycy50eXBlID09PSB1bmRlZmluZWQpIHtcblx0XHRvcHRpb25zLmF0dHJzLnR5cGUgPSBcInRleHQvY3NzXCI7XG5cdH1cblxuXHRpZihvcHRpb25zLmF0dHJzLm5vbmNlID09PSB1bmRlZmluZWQpIHtcblx0XHR2YXIgbm9uY2UgPSBnZXROb25jZSgpO1xuXHRcdGlmIChub25jZSkge1xuXHRcdFx0b3B0aW9ucy5hdHRycy5ub25jZSA9IG5vbmNlO1xuXHRcdH1cblx0fVxuXG5cdGFkZEF0dHJzKHN0eWxlLCBvcHRpb25zLmF0dHJzKTtcblx0aW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMsIHN0eWxlKTtcblxuXHRyZXR1cm4gc3R5bGU7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUxpbmtFbGVtZW50IChvcHRpb25zKSB7XG5cdHZhciBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpbmtcIik7XG5cblx0aWYob3B0aW9ucy5hdHRycy50eXBlID09PSB1bmRlZmluZWQpIHtcblx0XHRvcHRpb25zLmF0dHJzLnR5cGUgPSBcInRleHQvY3NzXCI7XG5cdH1cblx0b3B0aW9ucy5hdHRycy5yZWwgPSBcInN0eWxlc2hlZXRcIjtcblxuXHRhZGRBdHRycyhsaW5rLCBvcHRpb25zLmF0dHJzKTtcblx0aW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMsIGxpbmspO1xuXG5cdHJldHVybiBsaW5rO1xufVxuXG5mdW5jdGlvbiBhZGRBdHRycyAoZWwsIGF0dHJzKSB7XG5cdE9iamVjdC5rZXlzKGF0dHJzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcblx0XHRlbC5zZXRBdHRyaWJ1dGUoa2V5LCBhdHRyc1trZXldKTtcblx0fSk7XG59XG5cbmZ1bmN0aW9uIGdldE5vbmNlKCkge1xuXHRpZiAodHlwZW9mIF9fd2VicGFja19ub25jZV9fID09PSAndW5kZWZpbmVkJykge1xuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cblx0cmV0dXJuIF9fd2VicGFja19ub25jZV9fO1xufVxuXG5mdW5jdGlvbiBhZGRTdHlsZSAob2JqLCBvcHRpb25zKSB7XG5cdHZhciBzdHlsZSwgdXBkYXRlLCByZW1vdmUsIHJlc3VsdDtcblxuXHQvLyBJZiBhIHRyYW5zZm9ybSBmdW5jdGlvbiB3YXMgZGVmaW5lZCwgcnVuIGl0IG9uIHRoZSBjc3Ncblx0aWYgKG9wdGlvbnMudHJhbnNmb3JtICYmIG9iai5jc3MpIHtcblx0ICAgIHJlc3VsdCA9IG9wdGlvbnMudHJhbnNmb3JtKG9iai5jc3MpO1xuXG5cdCAgICBpZiAocmVzdWx0KSB7XG5cdCAgICBcdC8vIElmIHRyYW5zZm9ybSByZXR1cm5zIGEgdmFsdWUsIHVzZSB0aGF0IGluc3RlYWQgb2YgdGhlIG9yaWdpbmFsIGNzcy5cblx0ICAgIFx0Ly8gVGhpcyBhbGxvd3MgcnVubmluZyBydW50aW1lIHRyYW5zZm9ybWF0aW9ucyBvbiB0aGUgY3NzLlxuXHQgICAgXHRvYmouY3NzID0gcmVzdWx0O1xuXHQgICAgfSBlbHNlIHtcblx0ICAgIFx0Ly8gSWYgdGhlIHRyYW5zZm9ybSBmdW5jdGlvbiByZXR1cm5zIGEgZmFsc3kgdmFsdWUsIGRvbid0IGFkZCB0aGlzIGNzcy5cblx0ICAgIFx0Ly8gVGhpcyBhbGxvd3MgY29uZGl0aW9uYWwgbG9hZGluZyBvZiBjc3Ncblx0ICAgIFx0cmV0dXJuIGZ1bmN0aW9uKCkge1xuXHQgICAgXHRcdC8vIG5vb3Bcblx0ICAgIFx0fTtcblx0ICAgIH1cblx0fVxuXG5cdGlmIChvcHRpb25zLnNpbmdsZXRvbikge1xuXHRcdHZhciBzdHlsZUluZGV4ID0gc2luZ2xldG9uQ291bnRlcisrO1xuXG5cdFx0c3R5bGUgPSBzaW5nbGV0b24gfHwgKHNpbmdsZXRvbiA9IGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKSk7XG5cblx0XHR1cGRhdGUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIGZhbHNlKTtcblx0XHRyZW1vdmUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIHRydWUpO1xuXG5cdH0gZWxzZSBpZiAoXG5cdFx0b2JqLnNvdXJjZU1hcCAmJlxuXHRcdHR5cGVvZiBVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBVUkwuY3JlYXRlT2JqZWN0VVJMID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgVVJMLnJldm9rZU9iamVjdFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIEJsb2IgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBidG9hID09PSBcImZ1bmN0aW9uXCJcblx0KSB7XG5cdFx0c3R5bGUgPSBjcmVhdGVMaW5rRWxlbWVudChvcHRpb25zKTtcblx0XHR1cGRhdGUgPSB1cGRhdGVMaW5rLmJpbmQobnVsbCwgc3R5bGUsIG9wdGlvbnMpO1xuXHRcdHJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSk7XG5cblx0XHRcdGlmKHN0eWxlLmhyZWYpIFVSTC5yZXZva2VPYmplY3RVUkwoc3R5bGUuaHJlZik7XG5cdFx0fTtcblx0fSBlbHNlIHtcblx0XHRzdHlsZSA9IGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKTtcblx0XHR1cGRhdGUgPSBhcHBseVRvVGFnLmJpbmQobnVsbCwgc3R5bGUpO1xuXHRcdHJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSk7XG5cdFx0fTtcblx0fVxuXG5cdHVwZGF0ZShvYmopO1xuXG5cdHJldHVybiBmdW5jdGlvbiB1cGRhdGVTdHlsZSAobmV3T2JqKSB7XG5cdFx0aWYgKG5ld09iaikge1xuXHRcdFx0aWYgKFxuXHRcdFx0XHRuZXdPYmouY3NzID09PSBvYmouY3NzICYmXG5cdFx0XHRcdG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmXG5cdFx0XHRcdG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXBcblx0XHRcdCkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdHVwZGF0ZShvYmogPSBuZXdPYmopO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZW1vdmUoKTtcblx0XHR9XG5cdH07XG59XG5cbnZhciByZXBsYWNlVGV4dCA9IChmdW5jdGlvbiAoKSB7XG5cdHZhciB0ZXh0U3RvcmUgPSBbXTtcblxuXHRyZXR1cm4gZnVuY3Rpb24gKGluZGV4LCByZXBsYWNlbWVudCkge1xuXHRcdHRleHRTdG9yZVtpbmRleF0gPSByZXBsYWNlbWVudDtcblxuXHRcdHJldHVybiB0ZXh0U3RvcmUuZmlsdGVyKEJvb2xlYW4pLmpvaW4oJ1xcbicpO1xuXHR9O1xufSkoKTtcblxuZnVuY3Rpb24gYXBwbHlUb1NpbmdsZXRvblRhZyAoc3R5bGUsIGluZGV4LCByZW1vdmUsIG9iaikge1xuXHR2YXIgY3NzID0gcmVtb3ZlID8gXCJcIiA6IG9iai5jc3M7XG5cblx0aWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcblx0XHRzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSByZXBsYWNlVGV4dChpbmRleCwgY3NzKTtcblx0fSBlbHNlIHtcblx0XHR2YXIgY3NzTm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcyk7XG5cdFx0dmFyIGNoaWxkTm9kZXMgPSBzdHlsZS5jaGlsZE5vZGVzO1xuXG5cdFx0aWYgKGNoaWxkTm9kZXNbaW5kZXhdKSBzdHlsZS5yZW1vdmVDaGlsZChjaGlsZE5vZGVzW2luZGV4XSk7XG5cblx0XHRpZiAoY2hpbGROb2Rlcy5sZW5ndGgpIHtcblx0XHRcdHN0eWxlLmluc2VydEJlZm9yZShjc3NOb2RlLCBjaGlsZE5vZGVzW2luZGV4XSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHN0eWxlLmFwcGVuZENoaWxkKGNzc05vZGUpO1xuXHRcdH1cblx0fVxufVxuXG5mdW5jdGlvbiBhcHBseVRvVGFnIChzdHlsZSwgb2JqKSB7XG5cdHZhciBjc3MgPSBvYmouY3NzO1xuXHR2YXIgbWVkaWEgPSBvYmoubWVkaWE7XG5cblx0aWYobWVkaWEpIHtcblx0XHRzdHlsZS5zZXRBdHRyaWJ1dGUoXCJtZWRpYVwiLCBtZWRpYSlcblx0fVxuXG5cdGlmKHN0eWxlLnN0eWxlU2hlZXQpIHtcblx0XHRzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG5cdH0gZWxzZSB7XG5cdFx0d2hpbGUoc3R5bGUuZmlyc3RDaGlsZCkge1xuXHRcdFx0c3R5bGUucmVtb3ZlQ2hpbGQoc3R5bGUuZmlyc3RDaGlsZCk7XG5cdFx0fVxuXG5cdFx0c3R5bGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG5cdH1cbn1cblxuZnVuY3Rpb24gdXBkYXRlTGluayAobGluaywgb3B0aW9ucywgb2JqKSB7XG5cdHZhciBjc3MgPSBvYmouY3NzO1xuXHR2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcblxuXHQvKlxuXHRcdElmIGNvbnZlcnRUb0Fic29sdXRlVXJscyBpc24ndCBkZWZpbmVkLCBidXQgc291cmNlbWFwcyBhcmUgZW5hYmxlZFxuXHRcdGFuZCB0aGVyZSBpcyBubyBwdWJsaWNQYXRoIGRlZmluZWQgdGhlbiBsZXRzIHR1cm4gY29udmVydFRvQWJzb2x1dGVVcmxzXG5cdFx0b24gYnkgZGVmYXVsdC4gIE90aGVyd2lzZSBkZWZhdWx0IHRvIHRoZSBjb252ZXJ0VG9BYnNvbHV0ZVVybHMgb3B0aW9uXG5cdFx0ZGlyZWN0bHlcblx0Ki9cblx0dmFyIGF1dG9GaXhVcmxzID0gb3B0aW9ucy5jb252ZXJ0VG9BYnNvbHV0ZVVybHMgPT09IHVuZGVmaW5lZCAmJiBzb3VyY2VNYXA7XG5cblx0aWYgKG9wdGlvbnMuY29udmVydFRvQWJzb2x1dGVVcmxzIHx8IGF1dG9GaXhVcmxzKSB7XG5cdFx0Y3NzID0gZml4VXJscyhjc3MpO1xuXHR9XG5cblx0aWYgKHNvdXJjZU1hcCkge1xuXHRcdC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzI2NjAzODc1XG5cdFx0Y3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIiArIGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSkgKyBcIiAqL1wiO1xuXHR9XG5cblx0dmFyIGJsb2IgPSBuZXcgQmxvYihbY3NzXSwgeyB0eXBlOiBcInRleHQvY3NzXCIgfSk7XG5cblx0dmFyIG9sZFNyYyA9IGxpbmsuaHJlZjtcblxuXHRsaW5rLmhyZWYgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuXG5cdGlmKG9sZFNyYykgVVJMLnJldm9rZU9iamVjdFVSTChvbGRTcmMpO1xufVxuIiwiXG4vKipcbiAqIFdoZW4gc291cmNlIG1hcHMgYXJlIGVuYWJsZWQsIGBzdHlsZS1sb2FkZXJgIHVzZXMgYSBsaW5rIGVsZW1lbnQgd2l0aCBhIGRhdGEtdXJpIHRvXG4gKiBlbWJlZCB0aGUgY3NzIG9uIHRoZSBwYWdlLiBUaGlzIGJyZWFrcyBhbGwgcmVsYXRpdmUgdXJscyBiZWNhdXNlIG5vdyB0aGV5IGFyZSByZWxhdGl2ZSB0byBhXG4gKiBidW5kbGUgaW5zdGVhZCBvZiB0aGUgY3VycmVudCBwYWdlLlxuICpcbiAqIE9uZSBzb2x1dGlvbiBpcyB0byBvbmx5IHVzZSBmdWxsIHVybHMsIGJ1dCB0aGF0IG1heSBiZSBpbXBvc3NpYmxlLlxuICpcbiAqIEluc3RlYWQsIHRoaXMgZnVuY3Rpb24gXCJmaXhlc1wiIHRoZSByZWxhdGl2ZSB1cmxzIHRvIGJlIGFic29sdXRlIGFjY29yZGluZyB0byB0aGUgY3VycmVudCBwYWdlIGxvY2F0aW9uLlxuICpcbiAqIEEgcnVkaW1lbnRhcnkgdGVzdCBzdWl0ZSBpcyBsb2NhdGVkIGF0IGB0ZXN0L2ZpeFVybHMuanNgIGFuZCBjYW4gYmUgcnVuIHZpYSB0aGUgYG5wbSB0ZXN0YCBjb21tYW5kLlxuICpcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjc3MpIHtcbiAgLy8gZ2V0IGN1cnJlbnQgbG9jYXRpb25cbiAgdmFyIGxvY2F0aW9uID0gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB3aW5kb3cubG9jYXRpb247XG5cbiAgaWYgKCFsb2NhdGlvbikge1xuICAgIHRocm93IG5ldyBFcnJvcihcImZpeFVybHMgcmVxdWlyZXMgd2luZG93LmxvY2F0aW9uXCIpO1xuICB9XG5cblx0Ly8gYmxhbmsgb3IgbnVsbD9cblx0aWYgKCFjc3MgfHwgdHlwZW9mIGNzcyAhPT0gXCJzdHJpbmdcIikge1xuXHQgIHJldHVybiBjc3M7XG4gIH1cblxuICB2YXIgYmFzZVVybCA9IGxvY2F0aW9uLnByb3RvY29sICsgXCIvL1wiICsgbG9jYXRpb24uaG9zdDtcbiAgdmFyIGN1cnJlbnREaXIgPSBiYXNlVXJsICsgbG9jYXRpb24ucGF0aG5hbWUucmVwbGFjZSgvXFwvW15cXC9dKiQvLCBcIi9cIik7XG5cblx0Ly8gY29udmVydCBlYWNoIHVybCguLi4pXG5cdC8qXG5cdFRoaXMgcmVndWxhciBleHByZXNzaW9uIGlzIGp1c3QgYSB3YXkgdG8gcmVjdXJzaXZlbHkgbWF0Y2ggYnJhY2tldHMgd2l0aGluXG5cdGEgc3RyaW5nLlxuXG5cdCAvdXJsXFxzKlxcKCAgPSBNYXRjaCBvbiB0aGUgd29yZCBcInVybFwiIHdpdGggYW55IHdoaXRlc3BhY2UgYWZ0ZXIgaXQgYW5kIHRoZW4gYSBwYXJlbnNcblx0ICAgKCAgPSBTdGFydCBhIGNhcHR1cmluZyBncm91cFxuXHQgICAgICg/OiAgPSBTdGFydCBhIG5vbi1jYXB0dXJpbmcgZ3JvdXBcblx0ICAgICAgICAgW14pKF0gID0gTWF0Y2ggYW55dGhpbmcgdGhhdCBpc24ndCBhIHBhcmVudGhlc2VzXG5cdCAgICAgICAgIHwgID0gT1Jcblx0ICAgICAgICAgXFwoICA9IE1hdGNoIGEgc3RhcnQgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICg/OiAgPSBTdGFydCBhbm90aGVyIG5vbi1jYXB0dXJpbmcgZ3JvdXBzXG5cdCAgICAgICAgICAgICAgICAgW14pKF0rICA9IE1hdGNoIGFueXRoaW5nIHRoYXQgaXNuJ3QgYSBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgICAgIHwgID0gT1Jcblx0ICAgICAgICAgICAgICAgICBcXCggID0gTWF0Y2ggYSBzdGFydCBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgICAgICAgICBbXikoXSogID0gTWF0Y2ggYW55dGhpbmcgdGhhdCBpc24ndCBhIHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICAgICAgXFwpICA9IE1hdGNoIGEgZW5kIHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICApICA9IEVuZCBHcm91cFxuICAgICAgICAgICAgICAqXFwpID0gTWF0Y2ggYW55dGhpbmcgYW5kIHRoZW4gYSBjbG9zZSBwYXJlbnNcbiAgICAgICAgICApICA9IENsb3NlIG5vbi1jYXB0dXJpbmcgZ3JvdXBcbiAgICAgICAgICAqICA9IE1hdGNoIGFueXRoaW5nXG4gICAgICAgKSAgPSBDbG9zZSBjYXB0dXJpbmcgZ3JvdXBcblx0IFxcKSAgPSBNYXRjaCBhIGNsb3NlIHBhcmVuc1xuXG5cdCAvZ2kgID0gR2V0IGFsbCBtYXRjaGVzLCBub3QgdGhlIGZpcnN0LiAgQmUgY2FzZSBpbnNlbnNpdGl2ZS5cblx0ICovXG5cdHZhciBmaXhlZENzcyA9IGNzcy5yZXBsYWNlKC91cmxcXHMqXFwoKCg/OlteKShdfFxcKCg/OlteKShdK3xcXChbXikoXSpcXCkpKlxcKSkqKVxcKS9naSwgZnVuY3Rpb24oZnVsbE1hdGNoLCBvcmlnVXJsKSB7XG5cdFx0Ly8gc3RyaXAgcXVvdGVzIChpZiB0aGV5IGV4aXN0KVxuXHRcdHZhciB1bnF1b3RlZE9yaWdVcmwgPSBvcmlnVXJsXG5cdFx0XHQudHJpbSgpXG5cdFx0XHQucmVwbGFjZSgvXlwiKC4qKVwiJC8sIGZ1bmN0aW9uKG8sICQxKXsgcmV0dXJuICQxOyB9KVxuXHRcdFx0LnJlcGxhY2UoL14nKC4qKSckLywgZnVuY3Rpb24obywgJDEpeyByZXR1cm4gJDE7IH0pO1xuXG5cdFx0Ly8gYWxyZWFkeSBhIGZ1bGwgdXJsPyBubyBjaGFuZ2Vcblx0XHRpZiAoL14oI3xkYXRhOnxodHRwOlxcL1xcL3xodHRwczpcXC9cXC98ZmlsZTpcXC9cXC9cXC98XFxzKiQpL2kudGVzdCh1bnF1b3RlZE9yaWdVcmwpKSB7XG5cdFx0ICByZXR1cm4gZnVsbE1hdGNoO1xuXHRcdH1cblxuXHRcdC8vIGNvbnZlcnQgdGhlIHVybCB0byBhIGZ1bGwgdXJsXG5cdFx0dmFyIG5ld1VybDtcblxuXHRcdGlmICh1bnF1b3RlZE9yaWdVcmwuaW5kZXhPZihcIi8vXCIpID09PSAwKSB7XG5cdFx0ICBcdC8vVE9ETzogc2hvdWxkIHdlIGFkZCBwcm90b2NvbD9cblx0XHRcdG5ld1VybCA9IHVucXVvdGVkT3JpZ1VybDtcblx0XHR9IGVsc2UgaWYgKHVucXVvdGVkT3JpZ1VybC5pbmRleE9mKFwiL1wiKSA9PT0gMCkge1xuXHRcdFx0Ly8gcGF0aCBzaG91bGQgYmUgcmVsYXRpdmUgdG8gdGhlIGJhc2UgdXJsXG5cdFx0XHRuZXdVcmwgPSBiYXNlVXJsICsgdW5xdW90ZWRPcmlnVXJsOyAvLyBhbHJlYWR5IHN0YXJ0cyB3aXRoICcvJ1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBwYXRoIHNob3VsZCBiZSByZWxhdGl2ZSB0byBjdXJyZW50IGRpcmVjdG9yeVxuXHRcdFx0bmV3VXJsID0gY3VycmVudERpciArIHVucXVvdGVkT3JpZ1VybC5yZXBsYWNlKC9eXFwuXFwvLywgXCJcIik7IC8vIFN0cmlwIGxlYWRpbmcgJy4vJ1xuXHRcdH1cblxuXHRcdC8vIHNlbmQgYmFjayB0aGUgZml4ZWQgdXJsKC4uLilcblx0XHRyZXR1cm4gXCJ1cmwoXCIgKyBKU09OLnN0cmluZ2lmeShuZXdVcmwpICsgXCIpXCI7XG5cdH0pO1xuXG5cdC8vIHNlbmQgYmFjayB0aGUgZml4ZWQgY3NzXG5cdHJldHVybiBmaXhlZENzcztcbn07XG4iXSwic291cmNlUm9vdCI6IiJ9