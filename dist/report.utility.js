!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.ReportUtility=t():e.ReportUtility=t()}(window,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist",n(n.s=3)}([function(e,t,n){"use strict";t.a=function(e){var t=this.constructor;return this.then(function(n){return t.resolve(e()).then(function(){return n})},function(n){return t.resolve(e()).then(function(){return t.reject(n)})})}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";(function(e){var r=n(0),o=setTimeout;function i(){}function a(e){if(!(this instanceof a))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],l(e,this)}function s(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,a._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(e){return void c(t.promise,e)}u(t.promise,r)}else(1===e._state?u:c)(t.promise,e._value)})):e._deferreds.push(t)}function u(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof a)return e._state=3,e._value=t,void f(e);if("function"==typeof n)return void l(function(e,t){return function(){e.apply(t,arguments)}}(n,t),e)}e._state=1,e._value=t,f(e)}catch(t){c(e,t)}}function c(e,t){e._state=2,e._value=t,f(e)}function f(e){2===e._state&&0===e._deferreds.length&&a._immediateFn(function(){e._handled||a._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)s(e,e._deferreds[t]);e._deferreds=null}function l(e,t){var n=!1;try{e(function(e){n||(n=!0,u(t,e))},function(e){n||(n=!0,c(t,e))})}catch(e){if(n)return;n=!0,c(t,e)}}a.prototype.catch=function(e){return this.then(null,e)},a.prototype.then=function(e,t){var n=new this.constructor(i);return s(this,new function(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}(e,t,n)),n},a.prototype.finally=r.a,a.all=function(e){return new a(function(t,n){if(!e||void 0===e.length)throw new TypeError("Promise.all accepts an array");var r=Array.prototype.slice.call(e);if(0===r.length)return t([]);var o=r.length;function i(e,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(t){i(e,t)},n)}r[e]=a,0==--o&&t(r)}catch(e){n(e)}}for(var a=0;a<r.length;a++)i(a,r[a])})},a.resolve=function(e){return e&&"object"==typeof e&&e.constructor===a?e:new a(function(t){t(e)})},a.reject=function(e){return new a(function(t,n){n(e)})},a.race=function(e){return new a(function(t,n){for(var r=0,o=e.length;r<o;r++)e[r].then(t,n)})},a._immediateFn="function"==typeof e&&function(t){e(t)}||function(e){o(e,0)},a._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},t.a=a}).call(this,n(10).setImmediate)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4);Object.defineProperty(t,"init",{enumerable:!0,get:function(){return r.init}}),Object.defineProperty(t,"destroy",{enumerable:!0,get:function(){return r.destroy}}),Object.defineProperty(t,"config",{enumerable:!0,get:function(){return r.config}}),Object.defineProperty(t,"send",{enumerable:!0,get:function(){return r.send}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.destroy=t.send=t.config=t.init=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=s(n(5)),a=s(n(7));function s(e){return e&&e.__esModule?e:{default:e}}n(13);var u=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.events=[{el:'[data-name="send"]',evt:"click",cb:"onSend"},{el:'[data-name="author"]',evt:"change",cb:"onChangeAuthor"},{el:'[data-name="message"]',evt:"change",cb:"onChangeMessage"},{el:'[data-name="header"]',evt:"click",cb:"onToggle"}],this.onSend=this.onSend.bind(this),this.onSendError=this.onSendError.bind(this),this.onSendSuccess=this.onSendSuccess.bind(this),this.onChangeAuthor=this.onChangeAuthor.bind(this),this.onChangeMessage=this.onChangeMessage.bind(this),this.onToggle=this.onToggle.bind(this)}return o(e,[{key:"init",value:function(){if(this.el=document.querySelector(this.state.el),!this.el)throw TypeError("`el` must be specified through `config` method");return this.render(),this.bindEvents(),this}},{key:"destroy",value:function(){this.unbindEvents(),this.el.innerHTML=""}},{key:"config",value:function(e){this.state=r({},i.default,e)}},{key:"bindEvents",value:function(){var e=this;this.events.forEach(function(t){var n=t.el,r=t.evt,o=t.cb,i=e.el.querySelectorAll(n);i.length&&Array.prototype.map.call(i,function(t){t.addEventListener(r,e[o],!1)})})}},{key:"unbindEvents",value:function(){var e=this;this.events.forEach(function(t){var n=t.el,r=t.evt,o=t.cb,i=e.el.querySelectorAll(n);i.length&&Array.prototype.map.call(i,function(t){t.removeEventListener(r,e[o],!1)})})}},{key:"setState",value:function(e){var t=this.state;this.state=r({},this.state,e),this.update(t)}},{key:"onToggle",value:function(){this.setState({minimized:!this.state.minimized})}},{key:"onChangeAuthor",value:function(e){this.setState({name:e.currentTarget.value})}},{key:"onChangeMessage",value:function(e){this.setState({message:e.currentTarget.value})}},{key:"onSend",value:function(e){var t=this;e.preventDefault();var n=this.state,r=n.name,o=n.message,i=n.url;i&&(this.setState({isSending:!0}),(0,a.default)(i,{name:r,message:o}).then(function(e){if(200!==e.status)throw new Error(e.statusText);t.onSendSuccess()}).catch(this.onSendError))}},{key:"onSendSuccess",value:function(){this.setState({name:"",message:"",isSending:!1})}},{key:"onSendError",value:function(){this.setState({isError:!0,isSending:!1})}},{key:"update",value:function(e){this.state.minimized?this.el.querySelector(".rp-container").classList.add("rp-container_minimized"):this.el.querySelector(".rp-container").classList.remove("rp-container_minimized"),this.el.querySelector(".rp-container__cover_loading").style.display=this.state.isSending?"block":"none",this.el.querySelector(".rp-container__cover_error").style.display=this.state.isError?"block":"none",e.name!==this.state.name&&(this.el.querySelector('[data-name="author"]').value=this.state.name),e.message!==this.state.message&&(this.el.querySelector('[data-name="message"]').value=this.state.message)}},{key:"render",value:function(){this.el.innerHTML="",this.el.insertAdjacentHTML("afterbegin",this.state.template);var e=this.el.querySelector(".rp-container");e&&this.state.minimized&&e.classList.add("minimized")}}]),e}()),c=u.init.bind(u),f=u.config.bind(u),l=u.destroy.bind(u);t.init=c,t.config=f,t.send=a.default,t.destroy=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={url:"/report",minimized:!0,template:function(e){return e&&e.__esModule?e:{default:e}}(n(6)).default};t.default=r},function(e,t){e.exports='<div class=rp-container> <div class=rp-container__header data-name=header> Напишите нам об ошибке! <div class=rp-container__dismiss></div> </div> <div class=rp-container__wrapper> <form> <fieldset> <div class=rp-container__author> <label> Ваше Имя <input data-name=author class=rp-container__field type=text /> </label> </div> <div class=rp-container__message> <label> Оставьте сообщение <textarea data-name=message class=rp-container__field type=text></textarea> </label> </div> </fieldset> <div class=rp-container__actions> <button class=rp-container__button data-name=send>Отправить</button> </div> <div class="rp-container__cover rp-container__cover_loading">Отправляем, ждите...</div> <div class="rp-container__cover rp-container__cover_error"> <div class=rp-container__field>Упс, что-то пошло не так...</div> <input type=submit class=rp-container__button data-name=send value="Отправить еще раз"> </div> </form> </div> </div>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.message,r=t.name;return fetch(e,{method:"POST",body:JSON.stringify({name:r,message:n})})},n(8),n(9)},function(e,t){!function(e){"use strict";if(!e.fetch){var t={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(t.arrayBuffer)var n=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],r=function(e){return e&&DataView.prototype.isPrototypeOf(e)},o=ArrayBuffer.isView||function(e){return e&&n.indexOf(Object.prototype.toString.call(e))>-1};f.prototype.append=function(e,t){e=s(e),t=u(t);var n=this.map[e];this.map[e]=n?n+","+t:t},f.prototype.delete=function(e){delete this.map[s(e)]},f.prototype.get=function(e){return e=s(e),this.has(e)?this.map[e]:null},f.prototype.has=function(e){return this.map.hasOwnProperty(s(e))},f.prototype.set=function(e,t){this.map[s(e)]=u(t)},f.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},f.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),c(e)},f.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),c(e)},f.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),c(e)},t.iterable&&(f.prototype[Symbol.iterator]=f.prototype.entries);var i=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];m.prototype.clone=function(){return new m(this,{body:this._bodyInit})},y.call(m.prototype),y.call(b.prototype),b.prototype.clone=function(){return new b(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},b.error=function(){var e=new b(null,{status:0,statusText:""});return e.type="error",e};var a=[301,302,303,307,308];b.redirect=function(e,t){if(-1===a.indexOf(t))throw new RangeError("Invalid status code");return new b(null,{status:t,headers:{location:e}})},e.Headers=f,e.Request=m,e.Response=b,e.fetch=function(e,n){return new Promise(function(r,o){var i=new m(e,n),a=new XMLHttpRequest;a.onload=function(){var e={status:a.status,statusText:a.statusText,headers:function(e){var t=new f;return e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var n=e.split(":"),r=n.shift().trim();if(r){var o=n.join(":").trim();t.append(r,o)}}),t}(a.getAllResponseHeaders()||"")};e.url="responseURL"in a?a.responseURL:e.headers.get("X-Request-URL");var t="response"in a?a.response:a.responseText;r(new b(t,e))},a.onerror=function(){o(new TypeError("Network request failed"))},a.ontimeout=function(){o(new TypeError("Network request failed"))},a.open(i.method,i.url,!0),"include"===i.credentials?a.withCredentials=!0:"omit"===i.credentials&&(a.withCredentials=!1),"responseType"in a&&t.blob&&(a.responseType="blob"),i.headers.forEach(function(e,t){a.setRequestHeader(t,e)}),a.send(void 0===i._bodyInit?null:i._bodyInit)})},e.fetch.polyfill=!0}function s(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function u(e){return"string"!=typeof e&&(e=String(e)),e}function c(e){var n={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t.iterable&&(n[Symbol.iterator]=function(){return n}),n}function f(e){this.map={},e instanceof f?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function l(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function d(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function p(e){var t=new FileReader,n=d(t);return t.readAsArrayBuffer(e),n}function h(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(t.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(t.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(t.arrayBuffer&&t.blob&&r(e))this._bodyArrayBuffer=h(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!t.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!o(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=h(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},t.blob&&(this.blob=function(){var e=l(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?l(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(p)}),this.text=function(){var e=l(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,n=d(t);return t.readAsText(e),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},t.formData&&(this.formData=function(){return this.text().then(v)}),this.json=function(){return this.text().then(JSON.parse)},this}function m(e,t){var n=(t=t||{}).body;if(e instanceof m){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new f(e.headers)),this.method=e.method,this.mode=e.mode,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new f(t.headers)),this.method=function(e){var t=e.toUpperCase();return i.indexOf(t)>-1?t:e}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function v(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(o))}}),t}function b(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new f(t.headers),this.url=t.url||"",this._initBody(e)}}("undefined"!=typeof self?self:this)},function(e,t,n){"use strict";n.r(t),function(e){var t=n(2),r=n(0),o=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==e)return e;throw new Error("unable to locate global object")}();"Promise"in o?o.Promise.prototype.finally||(o.Promise.prototype.finally=r.a):o.Promise=t.a}.call(this,n(1))},function(e,t,n){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;function i(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new i(o.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new i(o.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(11),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(1))},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,o=1,i={},a=!1,s=e.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(e);u=u&&u.setTimeout?u:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick(function(){f(e)})}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&f(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),r=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){f(e.data)},r=function(t){e.port2.postMessage(t)}}():s&&"onreadystatechange"in s.createElement("script")?function(){var e=s.documentElement;r=function(t){var n=s.createElement("script");n.onreadystatechange=function(){f(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():r=function(e){setTimeout(f,0,e)},u.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var a={callback:e,args:t};return i[o]=a,r(o),o++},u.clearImmediate=c}function c(e){delete i[e]}function f(e){if(a)setTimeout(f,0,e);else{var t=i[e];if(t){a=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}(t)}finally{c(e),a=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(1),n(12))},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var u,c=[],f=!1,l=-1;function d(){f&&u&&(f=!1,u.length?c=u.concat(c):l=-1,c.length&&p())}function p(){if(!f){var e=s(d);f=!0;for(var t=c.length;t;){for(u=c,c=[];++l<t;)u&&u[l].run();l=-1,t=c.length}u=null,f=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function y(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new h(e,t)),1!==c.length||f||s(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){var r=n(14);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(15)(r,o);r.locals&&(e.exports=r.locals)},function(e,t){e.exports='.rp-container *{-webkit-box-sizing:border-box;box-sizing:border-box}.rp-container fieldset{border:none;margin:0;padding:0}.rp-container{-webkit-box-shadow:0 2px 2px 0 rgba(0,0,0,.14),0 3px 1px -2px rgba(0,0,0,.2),0 1px 5px 0 rgba(0,0,0,.12);bottom:0;box-shadow:0 2px 2px 0 rgba(0,0,0,.14),0 3px 1px -2px rgba(0,0,0,.2),0 1px 5px 0 rgba(0,0,0,.12);cursor:pointer;font-family:Verdana,Geneva,Tahoma,sans-serif;margin:0;padding:0;position:absolute;right:20px;width:280px}.rp-container_minimized .rp-container__wrapper{max-height:0;opacity:1}.rp-container_minimized .rp-container__dismiss{display:none}.rp-container__wrapper{-o-transition:all .2s ease-in-out;-webkit-transition:all .2s ease-in-out;max-height:500px;opacity:1;overflow:hidden;position:relative;transition:all .2s ease-in-out}.rp-container__cover{background-color:#f5f9fb;color:#889189;display:none;height:100%;left:0;padding:20px;position:absolute;text-align:center;top:0;width:100%}.rp-container__header{background-color:#0092eb;color:#fff;padding:15px 20px}.rp-container__dismiss{color:#fff;cursor:pointer;font-family:Arial,sans-serif;font-size:14px;font-weight:lighter;position:absolute;right:8px;text-decoration:none;top:8px}.rp-container__dismiss:after{content:"✖"}.rp-container__cover .rp-container__field{padding:20px 0}.rp-container__field{border:none;border-bottom:1px solid transparent;font-family:Verdana,Geneva,Tahoma,sans-serif;margin:0;padding:10px 0 0;width:100%}.rp-container__button:focus,.rp-container__field:focus{outline:0}.rp-container__button{background-color:#0092eb;border:none;color:#fff;cursor:pointer;letter-spacing:1px;padding:12px 35px 10px;text-transform:uppercase;width:100%}.rp-container__message{background-color:#f5f9fb}.rp-container__message .rp-container__field{background-color:transparent;min-height:80px;resize:none}.rp-container label{color:#889189;display:block;font-family:Verdana,Geneva,Tahoma,sans-serif;font-size:12px;padding:20px}.rp-container__actions{padding:20px}'},function(e,t,n){var r={},o=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}}(function(){return window&&document&&document.all&&!window.atob}),i=function(e){var t={};return function(e,n){if("function"==typeof e)return e();if(void 0===t[e]){var r=function(e,t){return t?t.querySelector(e):document.querySelector(e)}.call(this,e,n);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[e]=r}return t[e]}}(),a=null,s=0,u=[],c=n(16);function f(e,t){for(var n=0;n<e.length;n++){var o=e[n],i=r[o.id];if(i){i.refs++;for(var a=0;a<i.parts.length;a++)i.parts[a](o.parts[a]);for(;a<o.parts.length;a++)i.parts.push(m(o.parts[a],t))}else{var s=[];for(a=0;a<o.parts.length;a++)s.push(m(o.parts[a],t));r[o.id]={id:o.id,refs:1,parts:s}}}}function l(e,t){for(var n=[],r={},o=0;o<e.length;o++){var i=e[o],a=t.base?i[0]+t.base:i[0],s={css:i[1],media:i[2],sourceMap:i[3]};r[a]?r[a].parts.push(s):n.push(r[a]={id:a,parts:[s]})}return n}function d(e,t){var n=i(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=u[u.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),u.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=i(e.insertAt.before,n);n.insertBefore(t,o)}}function p(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=u.indexOf(e);t>=0&&u.splice(t,1)}function h(e){var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var r=function(){0;return n.nc}();r&&(e.attrs.nonce=r)}return y(t,e.attrs),d(e,t),t}function y(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function m(e,t){var n,r,o,i;if(t.transform&&e.css){if(!(i=t.transform(e.css)))return function(){};e.css=i}if(t.singleton){var u=s++;n=a||(a=h(t)),r=b.bind(null,n,u,!1),o=b.bind(null,n,u,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",y(t,e.attrs),d(e,t),t}(t),r=function(e,t,n){var r=n.css,o=n.sourceMap,i=void 0===t.convertToAbsoluteUrls&&o;(t.convertToAbsoluteUrls||i)&&(r=c(r));o&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var a=new Blob([r],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,n,t),o=function(){p(n),n.href&&URL.revokeObjectURL(n.href)}):(n=h(t),r=function(e,t){var n=t.css,r=t.media;r&&e.setAttribute("media",r);if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),o=function(){p(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=o()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=l(e,t);return f(n,t),function(e){for(var o=[],i=0;i<n.length;i++){var a=n[i];(s=r[a.id]).refs--,o.push(s)}e&&f(l(e,t),t);for(i=0;i<o.length;i++){var s;if(0===(s=o[i]).refs){for(var u=0;u<s.parts.length;u++)s.parts[u]();delete r[s.id]}}}};var v=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}();function b(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=v(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var o,i=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i)?e:(o=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:r+i.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")})}}])});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9SZXBvcnRVdGlsaXR5L3dlYnBhY2svdW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbiIsIndlYnBhY2s6Ly9SZXBvcnRVdGlsaXR5L3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL1JlcG9ydFV0aWxpdHkvLi9ub2RlX21vZHVsZXMvcHJvbWlzZS1wb2x5ZmlsbC9zcmMvZmluYWxseS5qcyIsIndlYnBhY2s6Ly9SZXBvcnRVdGlsaXR5Lyh3ZWJwYWNrKS9idWlsZGluL2dsb2JhbC5qcyIsIndlYnBhY2s6Ly9SZXBvcnRVdGlsaXR5Ly4vbm9kZV9tb2R1bGVzL3Byb21pc2UtcG9seWZpbGwvc3JjL2luZGV4LmpzIiwid2VicGFjazovL1JlcG9ydFV0aWxpdHkvLi9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vUmVwb3J0VXRpbGl0eS8uL3NyYy9yZXBvcnR1dGlsaXR5LmpzIiwid2VicGFjazovL1JlcG9ydFV0aWxpdHkvLi9zcmMvZGVmYXVsdHMuanMiLCJ3ZWJwYWNrOi8vUmVwb3J0VXRpbGl0eS8uL3NyYy90ZW1wbGF0ZXMvZm9ybS5odG1sIiwid2VicGFjazovL1JlcG9ydFV0aWxpdHkvLi9zcmMvdXRpbHMvc2VuZC5qcyIsIndlYnBhY2s6Ly9SZXBvcnRVdGlsaXR5Ly4vbm9kZV9tb2R1bGVzL3doYXR3Zy1mZXRjaC9mZXRjaC5qcyIsIndlYnBhY2s6Ly9SZXBvcnRVdGlsaXR5Ly4vbm9kZV9tb2R1bGVzL3Byb21pc2UtcG9seWZpbGwvc3JjL3BvbHlmaWxsLmpzIiwid2VicGFjazovL1JlcG9ydFV0aWxpdHkvLi9ub2RlX21vZHVsZXMvdGltZXJzLWJyb3dzZXJpZnkvbWFpbi5qcyIsIndlYnBhY2s6Ly9SZXBvcnRVdGlsaXR5Ly4vbm9kZV9tb2R1bGVzL3NldGltbWVkaWF0ZS9zZXRJbW1lZGlhdGUuanMiLCJ3ZWJwYWNrOi8vUmVwb3J0VXRpbGl0eS8uL25vZGVfbW9kdWxlcy9wcm9jZXNzL2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vUmVwb3J0VXRpbGl0eS8uL3NyYy9jc3Mvc3R5bGVzLmNzcz9iZDY5Iiwid2VicGFjazovL1JlcG9ydFV0aWxpdHkvLi9zcmMvY3NzL3N0eWxlcy5jc3MiLCJ3ZWJwYWNrOi8vUmVwb3J0VXRpbGl0eS8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qcyIsIndlYnBhY2s6Ly9SZXBvcnRVdGlsaXR5Ly4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9saWIvdXJscy5qcyJdLCJuYW1lcyI6WyJyb290IiwiZmFjdG9yeSIsImV4cG9ydHMiLCJtb2R1bGUiLCJkZWZpbmUiLCJhbWQiLCJ3aW5kb3ciLCJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiX193ZWJwYWNrX2V4cG9ydHNfXyIsImNhbGxiYWNrIiwiY29uc3RydWN0b3IiLCJ0aGlzIiwidGhlbiIsInJlc29sdmUiLCJyZWFzb24iLCJyZWplY3QiLCJnIiwiRnVuY3Rpb24iLCJldmFsIiwiZSIsInNldFRpbWVvdXRGdW5jIiwic2V0VGltZW91dCIsIm5vb3AiLCJQcm9taXNlIiwiZm4iLCJUeXBlRXJyb3IiLCJfc3RhdGUiLCJfaGFuZGxlZCIsIl92YWx1ZSIsInVuZGVmaW5lZCIsIl9kZWZlcnJlZHMiLCJkb1Jlc29sdmUiLCJoYW5kbGUiLCJzZWxmIiwiZGVmZXJyZWQiLCJfaW1tZWRpYXRlRm4iLCJjYiIsIm9uRnVsZmlsbGVkIiwib25SZWplY3RlZCIsInJldCIsInByb21pc2UiLCJwdXNoIiwibmV3VmFsdWUiLCJmaW5hbGUiLCJ0aGlzQXJnIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJfdW5oYW5kbGVkUmVqZWN0aW9uRm4iLCJsZW4iLCJkb25lIiwiZXgiLCJwcm9tIiwiX2ZpbmFsbHlfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyIsImFsbCIsImFyciIsImFyZ3MiLCJBcnJheSIsInNsaWNlIiwicmVtYWluaW5nIiwicmVzIiwidmFsIiwicmFjZSIsInZhbHVlcyIsInNldEltbWVkaWF0ZSIsImVyciIsImNvbnNvbGUiLCJ3YXJuIiwiaW5pdCIsImRlc3Ryb3kiLCJjb25maWciLCJzZW5kIiwicmVwb3J0VXRpbGl0eSIsIlJlcG9ydFV0aWxpdHkiLCJfY2xhc3NDYWxsQ2hlY2siLCJldmVudHMiLCJlbCIsImV2dCIsIm9uU2VuZCIsIm9uU2VuZEVycm9yIiwib25TZW5kU3VjY2VzcyIsIm9uQ2hhbmdlQXV0aG9yIiwib25DaGFuZ2VNZXNzYWdlIiwib25Ub2dnbGUiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJzdGF0ZSIsInJlbmRlciIsImJpbmRFdmVudHMiLCJ1bmJpbmRFdmVudHMiLCJpbm5lckhUTUwiLCJvcHRpb25zIiwiX2V4dGVuZHMiLCJkZWZhdWx0cyIsIl90aGlzIiwiZm9yRWFjaCIsIl9yZWYiLCJkb21FbGVtZW50cyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJtYXAiLCJkb21FbGVtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsIl90aGlzMiIsIl9yZWYyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIm5ld1N0YXRlIiwicHJldlN0YXRlIiwidXBkYXRlIiwic2V0U3RhdGUiLCJtaW5pbWl6ZWQiLCJjdXJyZW50VGFyZ2V0IiwibWVzc2FnZSIsIl90aGlzMyIsInByZXZlbnREZWZhdWx0IiwidXJsIiwiaXNTZW5kaW5nIiwiX3NlbmQyIiwiZGVmYXVsdCIsInJlc3BvbnNlIiwic3RhdHVzIiwiRXJyb3IiLCJzdGF0dXNUZXh0IiwiY2F0Y2giLCJpc0Vycm9yIiwiY2xhc3NMaXN0IiwiYWRkIiwicmVtb3ZlIiwic3R5bGUiLCJkaXNwbGF5IiwiaW5zZXJ0QWRqYWNlbnRIVE1MIiwidGVtcGxhdGUiLCJodG1sIiwiZmV0Y2giLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsInN1cHBvcnQiLCJzZWFyY2hQYXJhbXMiLCJpdGVyYWJsZSIsImJsb2IiLCJCbG9iIiwiZm9ybURhdGEiLCJhcnJheUJ1ZmZlciIsInZpZXdDbGFzc2VzIiwiaXNEYXRhVmlldyIsIm9iaiIsIkRhdGFWaWV3IiwiaXNQcm90b3R5cGVPZiIsImlzQXJyYXlCdWZmZXJWaWV3IiwiQXJyYXlCdWZmZXIiLCJpc1ZpZXciLCJpbmRleE9mIiwidG9TdHJpbmciLCJIZWFkZXJzIiwiYXBwZW5kIiwibm9ybWFsaXplTmFtZSIsIm5vcm1hbGl6ZVZhbHVlIiwib2xkVmFsdWUiLCJoYXMiLCJzZXQiLCJrZXlzIiwiaXRlbXMiLCJpdGVyYXRvckZvciIsImVudHJpZXMiLCJpdGVyYXRvciIsIm1ldGhvZHMiLCJSZXF1ZXN0IiwiY2xvbmUiLCJfYm9keUluaXQiLCJCb2R5IiwiUmVzcG9uc2UiLCJoZWFkZXJzIiwiZXJyb3IiLCJ0eXBlIiwicmVkaXJlY3RTdGF0dXNlcyIsInJlZGlyZWN0IiwiUmFuZ2VFcnJvciIsImxvY2F0aW9uIiwiaW5wdXQiLCJyZXF1ZXN0IiwieGhyIiwiWE1MSHR0cFJlcXVlc3QiLCJvbmxvYWQiLCJyYXdIZWFkZXJzIiwicmVwbGFjZSIsInNwbGl0IiwibGluZSIsInBhcnRzIiwic2hpZnQiLCJ0cmltIiwiam9pbiIsInBhcnNlSGVhZGVycyIsImdldEFsbFJlc3BvbnNlSGVhZGVycyIsInJlc3BvbnNlVVJMIiwicmVzcG9uc2VUZXh0Iiwib25lcnJvciIsIm9udGltZW91dCIsIm9wZW4iLCJjcmVkZW50aWFscyIsIndpdGhDcmVkZW50aWFscyIsInJlc3BvbnNlVHlwZSIsInNldFJlcXVlc3RIZWFkZXIiLCJwb2x5ZmlsbCIsIlN0cmluZyIsInRlc3QiLCJ0b0xvd2VyQ2FzZSIsIm5leHQiLCJpc0FycmF5IiwiaGVhZGVyIiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsImNvbnN1bWVkIiwiYm9keVVzZWQiLCJmaWxlUmVhZGVyUmVhZHkiLCJyZWFkZXIiLCJyZXN1bHQiLCJyZWFkQmxvYkFzQXJyYXlCdWZmZXIiLCJGaWxlUmVhZGVyIiwicmVhZEFzQXJyYXlCdWZmZXIiLCJidWZmZXJDbG9uZSIsImJ1ZiIsInZpZXciLCJVaW50OEFycmF5IiwiYnl0ZUxlbmd0aCIsImJ1ZmZlciIsIl9pbml0Qm9keSIsIl9ib2R5VGV4dCIsIl9ib2R5QmxvYiIsIkZvcm1EYXRhIiwiX2JvZHlGb3JtRGF0YSIsIlVSTFNlYXJjaFBhcmFtcyIsIl9ib2R5QXJyYXlCdWZmZXIiLCJyZWplY3RlZCIsInRleHQiLCJyZWFkQXNUZXh0IiwicmVhZEJsb2JBc1RleHQiLCJjaGFycyIsImZyb21DaGFyQ29kZSIsInJlYWRBcnJheUJ1ZmZlckFzVGV4dCIsImRlY29kZSIsImpzb24iLCJwYXJzZSIsInVwY2FzZWQiLCJ0b1VwcGVyQ2FzZSIsIm5vcm1hbGl6ZU1ldGhvZCIsInJlZmVycmVyIiwiZm9ybSIsImJ5dGVzIiwiZGVjb2RlVVJJQ29tcG9uZW50IiwiYm9keUluaXQiLCJvayIsImdsb2JhbE5TIiwiZ2xvYmFsIiwiX2ZpbmFsbHlfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyIsIl9pbmRleF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fIiwic2NvcGUiLCJUaW1lb3V0IiwiaWQiLCJjbGVhckZuIiwiX2lkIiwiX2NsZWFyRm4iLCJjbGVhclRpbWVvdXQiLCJzZXRJbnRlcnZhbCIsImNsZWFySW50ZXJ2YWwiLCJ0aW1lb3V0IiwiY2xvc2UiLCJ1bnJlZiIsInJlZiIsImVucm9sbCIsIml0ZW0iLCJtc2VjcyIsIl9pZGxlVGltZW91dElkIiwiX2lkbGVUaW1lb3V0IiwidW5lbnJvbGwiLCJfdW5yZWZBY3RpdmUiLCJhY3RpdmUiLCJfb25UaW1lb3V0IiwiY2xlYXJJbW1lZGlhdGUiLCJwcm9jZXNzIiwicmVnaXN0ZXJJbW1lZGlhdGUiLCJuZXh0SGFuZGxlIiwidGFza3NCeUhhbmRsZSIsImN1cnJlbnRseVJ1bm5pbmdBVGFzayIsImRvYyIsImF0dGFjaFRvIiwiZ2V0UHJvdG90eXBlT2YiLCJuZXh0VGljayIsInJ1bklmUHJlc2VudCIsInBvc3RNZXNzYWdlIiwiaW1wb3J0U2NyaXB0cyIsInBvc3RNZXNzYWdlSXNBc3luY2hyb25vdXMiLCJvbGRPbk1lc3NhZ2UiLCJvbm1lc3NhZ2UiLCJjYW5Vc2VQb3N0TWVzc2FnZSIsIm1lc3NhZ2VQcmVmaXgiLCJNYXRoIiwicmFuZG9tIiwib25HbG9iYWxNZXNzYWdlIiwiZXZlbnQiLCJzb3VyY2UiLCJkYXRhIiwiYXR0YWNoRXZlbnQiLCJpbnN0YWxsUG9zdE1lc3NhZ2VJbXBsZW1lbnRhdGlvbiIsIk1lc3NhZ2VDaGFubmVsIiwiY2hhbm5lbCIsInBvcnQxIiwicG9ydDIiLCJpbnN0YWxsTWVzc2FnZUNoYW5uZWxJbXBsZW1lbnRhdGlvbiIsImNyZWF0ZUVsZW1lbnQiLCJkb2N1bWVudEVsZW1lbnQiLCJzY3JpcHQiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJyZW1vdmVDaGlsZCIsImFwcGVuZENoaWxkIiwiaW5zdGFsbFJlYWR5U3RhdGVDaGFuZ2VJbXBsZW1lbnRhdGlvbiIsInRhc2siLCJydW4iLCJjYWNoZWRTZXRUaW1lb3V0IiwiY2FjaGVkQ2xlYXJUaW1lb3V0IiwiZGVmYXVsdFNldFRpbW91dCIsImRlZmF1bHRDbGVhclRpbWVvdXQiLCJydW5UaW1lb3V0IiwiZnVuIiwiY3VycmVudFF1ZXVlIiwicXVldWUiLCJkcmFpbmluZyIsInF1ZXVlSW5kZXgiLCJjbGVhblVwTmV4dFRpY2siLCJjb25jYXQiLCJkcmFpblF1ZXVlIiwibWFya2VyIiwicnVuQ2xlYXJUaW1lb3V0IiwiSXRlbSIsImFycmF5IiwidGl0bGUiLCJicm93c2VyIiwiZW52IiwiYXJndiIsInZlcnNpb24iLCJ2ZXJzaW9ucyIsIm9uIiwiYWRkTGlzdGVuZXIiLCJvbmNlIiwib2ZmIiwicmVtb3ZlTGlzdGVuZXIiLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJlbWl0IiwicHJlcGVuZExpc3RlbmVyIiwicHJlcGVuZE9uY2VMaXN0ZW5lciIsImxpc3RlbmVycyIsImJpbmRpbmciLCJjd2QiLCJjaGRpciIsImRpciIsInVtYXNrIiwiY29udGVudCIsImhtciIsInRyYW5zZm9ybSIsImluc2VydEludG8iLCJsb2NhbHMiLCJzdHlsZXNJbkRvbSIsImlzT2xkSUUiLCJtZW1vIiwibWVtb2l6ZSIsImF0b2IiLCJnZXRFbGVtZW50IiwidGFyZ2V0IiwicGFyZW50Iiwic3R5bGVUYXJnZXQiLCJIVE1MSUZyYW1lRWxlbWVudCIsImNvbnRlbnREb2N1bWVudCIsImhlYWQiLCJzaW5nbGV0b24iLCJzaW5nbGV0b25Db3VudGVyIiwic3R5bGVzSW5zZXJ0ZWRBdFRvcCIsImZpeFVybHMiLCJhZGRTdHlsZXNUb0RvbSIsInN0eWxlcyIsImRvbVN0eWxlIiwicmVmcyIsImoiLCJhZGRTdHlsZSIsImxpc3RUb1N0eWxlcyIsImxpc3QiLCJuZXdTdHlsZXMiLCJiYXNlIiwicGFydCIsImNzcyIsIm1lZGlhIiwic291cmNlTWFwIiwiaW5zZXJ0U3R5bGVFbGVtZW50IiwibGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AiLCJpbnNlcnRBdCIsIm5leHRTaWJsaW5nIiwiaW5zZXJ0QmVmb3JlIiwiZmlyc3RDaGlsZCIsImJlZm9yZSIsInJlbW92ZVN0eWxlRWxlbWVudCIsInBhcmVudE5vZGUiLCJpZHgiLCJzcGxpY2UiLCJjcmVhdGVTdHlsZUVsZW1lbnQiLCJhdHRycyIsIm5vbmNlIiwibmMiLCJnZXROb25jZSIsImFkZEF0dHJzIiwic2V0QXR0cmlidXRlIiwic3R5bGVJbmRleCIsImFwcGx5VG9TaW5nbGV0b25UYWciLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJyZXZva2VPYmplY3RVUkwiLCJidG9hIiwibGluayIsInJlbCIsImNyZWF0ZUxpbmtFbGVtZW50IiwiYXV0b0ZpeFVybHMiLCJjb252ZXJ0VG9BYnNvbHV0ZVVybHMiLCJ1bmVzY2FwZSIsImVuY29kZVVSSUNvbXBvbmVudCIsIm9sZFNyYyIsImhyZWYiLCJzdHlsZVNoZWV0IiwiY3NzVGV4dCIsImNyZWF0ZVRleHROb2RlIiwibmV3T2JqIiwiREVCVUciLCJuZXdMaXN0IiwibWF5UmVtb3ZlIiwicmVwbGFjZVRleHQiLCJ0ZXh0U3RvcmUiLCJpbmRleCIsInJlcGxhY2VtZW50IiwiZmlsdGVyIiwiQm9vbGVhbiIsImNzc05vZGUiLCJjaGlsZE5vZGVzIiwiYmFzZVVybCIsInByb3RvY29sIiwiaG9zdCIsImN1cnJlbnREaXIiLCJwYXRobmFtZSIsImZ1bGxNYXRjaCIsIm9yaWdVcmwiLCJuZXdVcmwiLCJ1bnF1b3RlZE9yaWdVcmwiLCIkMSJdLCJtYXBwaW5ncyI6IkNBQUEsU0FBQUEsRUFBQUMsR0FDQSxpQkFBQUMsU0FBQSxpQkFBQUMsT0FDQUEsT0FBQUQsUUFBQUQsSUFDQSxtQkFBQUcsZUFBQUMsSUFDQUQsVUFBQUgsR0FDQSxpQkFBQUMsUUFDQUEsUUFBQSxjQUFBRCxJQUVBRCxFQUFBLGNBQUFDLElBUkEsQ0FTQ0ssT0FBQSxXQUNELG1CQ1RBLElBQUFDLEtBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFQLFFBR0EsSUFBQUMsRUFBQUksRUFBQUUsSUFDQUMsRUFBQUQsRUFDQUUsR0FBQSxFQUNBVCxZQVVBLE9BTkFVLEVBQUFILEdBQUFJLEtBQUFWLEVBQUFELFFBQUFDLElBQUFELFFBQUFNLEdBR0FMLEVBQUFRLEdBQUEsRUFHQVIsRUFBQUQsUUEwREEsT0FyREFNLEVBQUFNLEVBQUFGLEVBR0FKLEVBQUFPLEVBQUFSLEVBR0FDLEVBQUFRLEVBQUEsU0FBQWQsRUFBQWUsRUFBQUMsR0FDQVYsRUFBQVcsRUFBQWpCLEVBQUFlLElBQ0FHLE9BQUFDLGVBQUFuQixFQUFBZSxHQUEwQ0ssWUFBQSxFQUFBQyxJQUFBTCxLQUsxQ1YsRUFBQWdCLEVBQUEsU0FBQXRCLEdBQ0Esb0JBQUF1QixlQUFBQyxhQUNBTixPQUFBQyxlQUFBbkIsRUFBQXVCLE9BQUFDLGFBQXdEQyxNQUFBLFdBRXhEUCxPQUFBQyxlQUFBbkIsRUFBQSxjQUFpRHlCLE9BQUEsS0FRakRuQixFQUFBb0IsRUFBQSxTQUFBRCxFQUFBRSxHQUVBLEdBREEsRUFBQUEsSUFBQUYsRUFBQW5CLEVBQUFtQixJQUNBLEVBQUFFLEVBQUEsT0FBQUYsRUFDQSxLQUFBRSxHQUFBLGlCQUFBRixRQUFBRyxXQUFBLE9BQUFILEVBQ0EsSUFBQUksRUFBQVgsT0FBQVksT0FBQSxNQUdBLEdBRkF4QixFQUFBZ0IsRUFBQU8sR0FDQVgsT0FBQUMsZUFBQVUsRUFBQSxXQUF5Q1QsWUFBQSxFQUFBSyxVQUN6QyxFQUFBRSxHQUFBLGlCQUFBRixFQUFBLFFBQUFNLEtBQUFOLEVBQUFuQixFQUFBUSxFQUFBZSxFQUFBRSxFQUFBLFNBQUFBLEdBQWdILE9BQUFOLEVBQUFNLElBQXFCQyxLQUFBLEtBQUFELElBQ3JJLE9BQUFGLEdBSUF2QixFQUFBMkIsRUFBQSxTQUFBaEMsR0FDQSxJQUFBZSxFQUFBZixLQUFBMkIsV0FDQSxXQUEyQixPQUFBM0IsRUFBQSxTQUMzQixXQUFpQyxPQUFBQSxHQUVqQyxPQURBSyxFQUFBUSxFQUFBRSxFQUFBLElBQUFBLEdBQ0FBLEdBSUFWLEVBQUFXLEVBQUEsU0FBQWlCLEVBQUFDLEdBQXNELE9BQUFqQixPQUFBa0IsVUFBQUMsZUFBQTFCLEtBQUF1QixFQUFBQyxJQUd0RDdCLEVBQUFnQyxFQUFBLFFBSUFoQyxJQUFBaUMsRUFBQSxrQ0MvREFDLEVBQUEsRUFoQkEsU0FBQUMsR0FDQSxJQUFBQyxFQUFBQyxLQUFBRCxZQUNBLE9BQUFDLEtBQUFDLEtBQ0EsU0FBQW5CLEdBQ0EsT0FBQWlCLEVBQUFHLFFBQUFKLEtBQUFHLEtBQUEsV0FDQSxPQUFBbkIsS0FHQSxTQUFBcUIsR0FDQSxPQUFBSixFQUFBRyxRQUFBSixLQUFBRyxLQUFBLFdBQ0EsT0FBQUYsRUFBQUssT0FBQUQsdUJDYkEsSUFBQUUsRUFHQUEsRUFBQSxXQUNBLE9BQUFMLEtBREEsR0FJQSxJQUVBSyxLQUFBQyxTQUFBLGNBQUFBLEtBQUEsRUFBQUMsTUFBQSxRQUNDLE1BQUFDLEdBRUQsaUJBQUEvQyxTQUFBNEMsRUFBQTVDLFFBT0FILEVBQUFELFFBQUFnRCx3RENmQUksRUFBQUMsV0FFQSxTQUFBQyxLQWFBLFNBQUFDLEVBQUFDLEdBQ0EsS0FBQWIsZ0JBQUFZLEdBQ0EsVUFBQUUsVUFBQSx3Q0FDQSxzQkFBQUQsRUFBQSxVQUFBQyxVQUFBLGtCQUVBZCxLQUFBZSxPQUFBLEVBRUFmLEtBQUFnQixVQUFBLEVBRUFoQixLQUFBaUIsWUFBQUMsRUFFQWxCLEtBQUFtQixjQUVBQyxFQUFBUCxFQUFBYixNQUdBLFNBQUFxQixFQUFBQyxFQUFBQyxHQUNBLFNBQUFELEVBQUFQLFFBQ0FPLElBQUFMLE9BRUEsSUFBQUssRUFBQVAsUUFJQU8sRUFBQU4sVUFBQSxFQUNBSixFQUFBWSxhQUFBLFdBQ0EsSUFBQUMsRUFBQSxJQUFBSCxFQUFBUCxPQUFBUSxFQUFBRyxZQUFBSCxFQUFBSSxXQUNBLFVBQUFGLEVBQUEsQ0FJQSxJQUFBRyxFQUNBLElBQ0FBLEVBQUFILEVBQUFILEVBQUFMLFFBQ0ssTUFBQVQsR0FFTCxZQURBSixFQUFBbUIsRUFBQU0sUUFBQXJCLEdBR0FOLEVBQUFxQixFQUFBTSxRQUFBRCxRQVZBLElBQUFOLEVBQUFQLE9BQUFiLEVBQUFFLEdBQUFtQixFQUFBTSxRQUFBUCxFQUFBTCxXQVBBSyxFQUFBSCxXQUFBVyxLQUFBUCxHQXFCQSxTQUFBckIsRUFBQW9CLEVBQUFTLEdBQ0EsSUFFQSxHQUFBQSxJQUFBVCxFQUNBLFVBQUFSLFVBQUEsNkNBQ0EsR0FDQWlCLElBQ0EsaUJBQUFBLEdBQUEsbUJBQUFBLEdBQ0EsQ0FDQSxJQUFBOUIsRUFBQThCLEVBQUE5QixLQUNBLEdBQUE4QixhQUFBbkIsRUFJQSxPQUhBVSxFQUFBUCxPQUFBLEVBQ0FPLEVBQUFMLE9BQUFjLE9BQ0FDLEVBQUFWLEdBRU8sc0JBQUFyQixFQUVQLFlBREFtQixFQXBFQSxTQUFBUCxFQUFBb0IsR0FDQSxrQkFDQXBCLEVBQUFxQixNQUFBRCxFQUFBRSxZQWtFQTlDLENBQUFZLEVBQUE4QixHQUFBVCxHQUlBQSxFQUFBUCxPQUFBLEVBQ0FPLEVBQUFMLE9BQUFjLEVBQ0FDLEVBQUFWLEdBQ0csTUFBQWQsR0FDSEosRUFBQWtCLEVBQUFkLElBSUEsU0FBQUosRUFBQWtCLEVBQUFTLEdBQ0FULEVBQUFQLE9BQUEsRUFDQU8sRUFBQUwsT0FBQWMsRUFDQUMsRUFBQVYsR0FHQSxTQUFBVSxFQUFBVixHQUNBLElBQUFBLEVBQUFQLFFBQUEsSUFBQU8sRUFBQUgsV0FBQWlCLFFBQ0F4QixFQUFBWSxhQUFBLFdBQ0FGLEVBQUFOLFVBQ0FKLEVBQUF5QixzQkFBQWYsRUFBQUwsVUFLQSxRQUFBcEQsRUFBQSxFQUFBeUUsRUFBQWhCLEVBQUFILFdBQUFpQixPQUErQ3ZFLEVBQUF5RSxFQUFTekUsSUFDeER3RCxFQUFBQyxJQUFBSCxXQUFBdEQsSUFFQXlELEVBQUFILFdBQUEsS0FrQkEsU0FBQUMsRUFBQVAsRUFBQVMsR0FDQSxJQUFBaUIsR0FBQSxFQUNBLElBQ0ExQixFQUNBLFNBQUEvQixHQUNBeUQsSUFDQUEsR0FBQSxFQUNBckMsRUFBQW9CLEVBQUF4QyxLQUVBLFNBQUFxQixHQUNBb0MsSUFDQUEsR0FBQSxFQUNBbkMsRUFBQWtCLEVBQUFuQixNQUdHLE1BQUFxQyxHQUNILEdBQUFELEVBQUEsT0FDQUEsR0FBQSxFQUNBbkMsRUFBQWtCLEVBQUFrQixJQUlBNUIsRUFBQW5CLFVBQUEsZUFBQWtDLEdBQ0EsT0FBQTNCLEtBQUFDLEtBQUEsS0FBQTBCLElBR0FmLEVBQUFuQixVQUFBUSxLQUFBLFNBQUF5QixFQUFBQyxHQUVBLElBQUFjLEVBQUEsSUFBQXpDLEtBQUFELFlBQUFZLEdBR0EsT0FEQVUsRUFBQXJCLEtBQUEsSUExQ0EsU0FBQTBCLEVBQUFDLEVBQUFFLEdBQ0E3QixLQUFBMEIsWUFBQSxtQkFBQUEsSUFBQSxLQUNBMUIsS0FBQTJCLFdBQUEsbUJBQUFBLElBQUEsS0FDQTNCLEtBQUE2QixVQXVDQSxDQUFBSCxFQUFBQyxFQUFBYyxJQUNBQSxHQUdBN0IsRUFBQW5CLFVBQUEsUUFBQWlELEVBQUEsRUFFQTlCLEVBQUErQixJQUFBLFNBQUFDLEdBQ0EsV0FBQWhDLEVBQUEsU0FBQVYsRUFBQUUsR0FDQSxJQUFBd0MsUUFBQSxJQUFBQSxFQUFBUixPQUNBLFVBQUF0QixVQUFBLGdDQUNBLElBQUErQixFQUFBQyxNQUFBckQsVUFBQXNELE1BQUEvRSxLQUFBNEUsR0FDQSxPQUFBQyxFQUFBVCxPQUFBLE9BQUFsQyxNQUNBLElBQUE4QyxFQUFBSCxFQUFBVCxPQUVBLFNBQUFhLEVBQUFwRixFQUFBcUYsR0FDQSxJQUNBLEdBQUFBLElBQUEsaUJBQUFBLEdBQUEsbUJBQUFBLEdBQUEsQ0FDQSxJQUFBakQsRUFBQWlELEVBQUFqRCxLQUNBLHNCQUFBQSxFQVFBLFlBUEFBLEVBQUFqQyxLQUNBa0YsRUFDQSxTQUFBQSxHQUNBRCxFQUFBcEYsRUFBQXFGLElBRUE5QyxHQUtBeUMsRUFBQWhGLEdBQUFxRixFQUNBLEtBQUFGLEdBQ0E5QyxFQUFBMkMsR0FFTyxNQUFBTCxHQUNQcEMsRUFBQW9DLElBSUEsUUFBQTNFLEVBQUEsRUFBbUJBLEVBQUFnRixFQUFBVCxPQUFpQnZFLElBQ3BDb0YsRUFBQXBGLEVBQUFnRixFQUFBaEYsT0FLQStDLEVBQUFWLFFBQUEsU0FBQXBCLEdBQ0EsT0FBQUEsR0FBQSxpQkFBQUEsS0FBQWlCLGNBQUFhLEVBQ0E5QixFQUdBLElBQUE4QixFQUFBLFNBQUFWLEdBQ0FBLEVBQUFwQixNQUlBOEIsRUFBQVIsT0FBQSxTQUFBdEIsR0FDQSxXQUFBOEIsRUFBQSxTQUFBVixFQUFBRSxHQUNBQSxFQUFBdEIsTUFJQThCLEVBQUF1QyxLQUFBLFNBQUFDLEdBQ0EsV0FBQXhDLEVBQUEsU0FBQVYsRUFBQUUsR0FDQSxRQUFBdkMsRUFBQSxFQUFBeUUsRUFBQWMsRUFBQWhCLE9BQXdDdkUsRUFBQXlFLEVBQVN6RSxJQUNqRHVGLEVBQUF2RixHQUFBb0MsS0FBQUMsRUFBQUUsTUFNQVEsRUFBQVksYUFDQSxtQkFBQTZCLEdBQ0EsU0FBQXhDLEdBQ0F3QyxFQUFBeEMsS0FFQSxTQUFBQSxHQUNBSixFQUFBSSxFQUFBLElBR0FELEVBQUF5QixzQkFBQSxTQUFBaUIsR0FDQSxvQkFBQUMsa0JBQ0FBLFFBQUFDLEtBQUEsd0NBQUFGLElBSUF6RCxFQUFBLG9NQzlPSTRELGlGQUFNQyxtRkFBU0MsZ0ZBQVFDLGdpQkNEM0JqRyxFQUFBLFFBQ0FBLEVBQUEsdURBRUFBLEVBQUEsUUEyTE1rRyxFQUFnQixlQXZMbEIsU0FBQUMsaUdBQWNDLENBQUEvRCxLQUFBOEQsR0FBQTlELEtBMENkZ0UsU0FFUUMsR0FBSSxxQkFDSkMsSUFBSyxRQUNMekMsR0FBSSxXQUdKd0MsR0FBSSx1QkFDSkMsSUFBSyxTQUNMekMsR0FBSSxtQkFHSndDLEdBQUksd0JBQ0pDLElBQUssU0FDTHpDLEdBQUksb0JBR0p3QyxHQUFJLHVCQUNKQyxJQUFLLFFBQ0x6QyxHQUFJLGFBNURSekIsS0FBS21FLE9BQVNuRSxLQUFLbUUsT0FBTzlFLEtBQUtXLE1BQy9CQSxLQUFLb0UsWUFBY3BFLEtBQUtvRSxZQUFZL0UsS0FBS1csTUFDekNBLEtBQUtxRSxjQUFnQnJFLEtBQUtxRSxjQUFjaEYsS0FBS1csTUFDN0NBLEtBQUtzRSxlQUFpQnRFLEtBQUtzRSxlQUFlakYsS0FBS1csTUFDL0NBLEtBQUt1RSxnQkFBa0J2RSxLQUFLdUUsZ0JBQWdCbEYsS0FBS1csTUFDakRBLEtBQUt3RSxTQUFXeEUsS0FBS3dFLFNBQVNuRixLQUFLVywrQ0FTbkMsR0FEQUEsS0FBS2lFLEdBQUtRLFNBQVNDLGNBQWMxRSxLQUFLMkUsTUFBTVYsS0FDdkNqRSxLQUFLaUUsR0FBSSxNQUFNbkQsVUFBVSxrREFLOUIsT0FIQWQsS0FBSzRFLFNBQ0w1RSxLQUFLNkUsYUFFRTdFLHVDQU9QQSxLQUFLOEUsZUFDTDlFLEtBQUtpRSxHQUFHYyxVQUFZLGtDQU9qQkMsR0FDSGhGLEtBQUsyRSxNQUFRTSxLQUFrQkMsVUFBVUYsd0NBNkJoQyxJQUFBRyxFQUFBbkYsS0FDVEEsS0FBS2dFLE9BQU9vQixRQUFRLFNBQUFDLEdBQXFCLElBQWxCcEIsRUFBa0JvQixFQUFsQnBCLEdBQUlDLEVBQWNtQixFQUFkbkIsSUFBS3pDLEVBQVM0RCxFQUFUNUQsR0FDdEI2RCxFQUFjSCxFQUFLbEIsR0FBR3NCLGlCQUFpQnRCLEdBQ3pDcUIsRUFBWWxELFFBQ1pVLE1BQU1yRCxVQUFVK0YsSUFBSXhILEtBQUtzSCxFQUFhLFNBQUNHLEdBQ25DQSxFQUFXQyxpQkFBaUJ4QixFQUFLaUIsRUFBSzFELElBQUssOENBTTVDLElBQUFrRSxFQUFBM0YsS0FDWEEsS0FBS2dFLE9BQU9vQixRQUFRLFNBQUFRLEdBQXFCLElBQWxCM0IsRUFBa0IyQixFQUFsQjNCLEdBQUlDLEVBQWMwQixFQUFkMUIsSUFBS3pDLEVBQVNtRSxFQUFUbkUsR0FDdEI2RCxFQUFjSyxFQUFLMUIsR0FBR3NCLGlCQUFpQnRCLEdBQ3pDcUIsRUFBWWxELFFBQ1pVLE1BQU1yRCxVQUFVK0YsSUFBSXhILEtBQUtzSCxFQUFhLFNBQUNHLEdBQ25DQSxFQUFXSSxvQkFBb0IzQixFQUFLeUIsRUFBS2xFLElBQUssd0NBVXJEcUUsR0FDTCxJQUFNQyxFQUFZL0YsS0FBSzJFLE1BQ3ZCM0UsS0FBSzJFLE1BQVFNLEtBQWtCakYsS0FBSzJFLE1BQU9tQixHQUMzQzlGLEtBQUtnRyxPQUFPRCxzQ0FJWi9GLEtBQUtpRyxVQUNEQyxXQUFZbEcsS0FBSzJFLE1BQU11QixtREFJaEIxRixHQUNYUixLQUFLaUcsVUFDRDdILEtBQU1vQyxFQUFFMkYsY0FBY3JILGdEQUlkMEIsR0FDWlIsS0FBS2lHLFVBQ0RHLFFBQVM1RixFQUFFMkYsY0FBY3JILHVDQU8xQjBCLEdBQUcsSUFBQTZGLEVBQUFyRyxLQUNOUSxFQUFFOEYsaUJBREksSUFBQXZGLEVBR3lCZixLQUFLMkUsTUFBNUJ2RyxFQUhGMkMsRUFHRTNDLEtBQU1nSSxFQUhSckYsRUFHUXFGLFFBQVNHLEVBSGpCeEYsRUFHaUJ3RixJQUVsQkEsSUFHTHZHLEtBQUtpRyxVQUFXTyxXQUFXLEtBRzNCLEVBQUFDLEVBQUFDLFNBQUtILEdBQU9uSSxPQUFNZ0ksWUFBV25HLEtBQUssU0FBQzBHLEdBQy9CLEdBQXdCLE1BQXBCQSxFQUFTQyxPQUdULE1BQU0sSUFBSUMsTUFBTUYsRUFBU0csWUFGekJULEVBQUtoQyxrQkFJVjBDLE1BQU0vRyxLQUFLb0Usc0RBSWRwRSxLQUFLaUcsVUFDRDdILEtBQU0sR0FDTmdJLFFBQVMsR0FDVEksV0FBVywwQ0FLZnhHLEtBQUtpRyxVQUNEZSxTQUFTLEVBQ1RSLFdBQVcsbUNBUVpULEdBQ0MvRixLQUFLMkUsTUFBTXVCLFVBQ1hsRyxLQUFLaUUsR0FBR1MsY0FBYyxpQkFBaUJ1QyxVQUFVQyxJQUFJLDBCQUVyRGxILEtBQUtpRSxHQUFHUyxjQUFjLGlCQUFpQnVDLFVBQVVFLE9BQU8sMEJBRTVEbkgsS0FBS2lFLEdBQUdTLGNBQWMsZ0NBQWdDMEMsTUFBTUMsUUFBVXJILEtBQUsyRSxNQUFNNkIsVUFBWSxRQUFVLE9BQ3ZHeEcsS0FBS2lFLEdBQUdTLGNBQWMsOEJBQThCMEMsTUFBTUMsUUFBVXJILEtBQUsyRSxNQUFNcUMsUUFBVSxRQUFVLE9BRS9GakIsRUFBVTNILE9BQVM0QixLQUFLMkUsTUFBTXZHLE9BQzlCNEIsS0FBS2lFLEdBQUdTLGNBQWMsd0JBQXdCNUYsTUFBUWtCLEtBQUsyRSxNQUFNdkcsTUFFakUySCxFQUFVSyxVQUFZcEcsS0FBSzJFLE1BQU15QixVQUNqQ3BHLEtBQUtpRSxHQUFHUyxjQUFjLHlCQUF5QjVGLE1BQVFrQixLQUFLMkUsTUFBTXlCLDBDQUt0RXBHLEtBQUtpRSxHQUFHYyxVQUFZLEdBQ3BCL0UsS0FBS2lFLEdBQUdxRCxtQkFBbUIsYUFBY3RILEtBQUsyRSxNQUFNNEMsVUFFcEQsSUFBTXRELEVBQUtqRSxLQUFLaUUsR0FBR1MsY0FBYyxpQkFDN0JULEdBQU1qRSxLQUFLMkUsTUFBTXVCLFdBQVdqQyxFQUFHZ0QsVUFBVUMsSUFBSSx1QkFNbkR6RCxFQUFPSSxFQUFjSixLQUFLcEUsS0FBS3dFLEdBQy9CRixFQUFTRSxFQUFjRixPQUFPdEUsS0FBS3dFLEdBQ25DSCxFQUFVRyxFQUFjSCxRQUFRckUsS0FBS3dFLEtBR3ZDSixTQUFNRSxXQUFRQyxpQkFBTUYseUZDbk14QixJQUFNd0IsR0FFRnFCLElBQUssVUFFTEwsV0FBVyxFQUVYcUIsMkRBUko1SixFQUFBLElBUWM2SixtQkFHQ3RDLGlCQ1hmNUgsRUFBQUQsUUFBQSwrL0JDU2UsU0FBY2tKLEdBQW1CLElBQWR2QixFQUFjN0MsVUFBQUMsT0FBQSxRQUFBbEIsSUFBQWlCLFVBQUEsR0FBQUEsVUFBQSxNQUNwQ2lFLEVBQWtCcEIsRUFBbEJvQixRQUFTaEksRUFBUzRHLEVBQVQ1RyxLQUVqQixPQUFPcUosTUFBTWxCLEdBQ1RtQixPQUFRLE9BQ1JDLEtBQU1DLEtBQUtDLFdBQ1B6SixPQUNBZ0ksZUFoQlp6SSxFQUFBLEdBQ0FBLEVBQUEsbUJDREEsU0FBQTJELEdBQ0EsYUFFQSxJQUFBQSxFQUFBbUcsTUFBQSxDQUlBLElBQUFLLEdBQ0FDLGFBQUEsb0JBQUF6RyxFQUNBMEcsU0FBQSxXQUFBMUcsR0FBQSxhQUFBMUMsT0FDQXFKLEtBQUEsZUFBQTNHLEdBQUEsU0FBQUEsR0FBQSxXQUNBLElBRUEsT0FEQSxJQUFBNEcsTUFDQSxFQUNPLE1BQUExSCxHQUNQLFVBTEEsR0FRQTJILFNBQUEsYUFBQTdHLEVBQ0E4RyxZQUFBLGdCQUFBOUcsR0FHQSxHQUFBd0csRUFBQU0sWUFDQSxJQUFBQyxHQUNBLHFCQUNBLHNCQUNBLDZCQUNBLHNCQUNBLHVCQUNBLHNCQUNBLHVCQUNBLHdCQUNBLHlCQUdBQyxFQUFBLFNBQUFDLEdBQ0EsT0FBQUEsR0FBQUMsU0FBQS9JLFVBQUFnSixjQUFBRixJQUdBRyxFQUFBQyxZQUFBQyxRQUFBLFNBQUFMLEdBQ0EsT0FBQUEsR0FBQUYsRUFBQVEsUUFBQXRLLE9BQUFrQixVQUFBcUosU0FBQTlLLEtBQUF1SyxLQUFBLEdBeURBUSxFQUFBdEosVUFBQXVKLE9BQUEsU0FBQTVLLEVBQUFVLEdBQ0FWLEVBQUE2SyxFQUFBN0ssR0FDQVUsRUFBQW9LLEVBQUFwSyxHQUNBLElBQUFxSyxFQUFBbkosS0FBQXdGLElBQUFwSCxHQUNBNEIsS0FBQXdGLElBQUFwSCxHQUFBK0ssSUFBQSxJQUFBckssS0FHQWlLLEVBQUF0SixVQUFBLGdCQUFBckIsVUFDQTRCLEtBQUF3RixJQUFBeUQsRUFBQTdLLEtBR0EySyxFQUFBdEosVUFBQWYsSUFBQSxTQUFBTixHQUVBLE9BREFBLEVBQUE2SyxFQUFBN0ssR0FDQTRCLEtBQUFvSixJQUFBaEwsR0FBQTRCLEtBQUF3RixJQUFBcEgsR0FBQSxNQUdBMkssRUFBQXRKLFVBQUEySixJQUFBLFNBQUFoTCxHQUNBLE9BQUE0QixLQUFBd0YsSUFBQTlGLGVBQUF1SixFQUFBN0ssS0FHQTJLLEVBQUF0SixVQUFBNEosSUFBQSxTQUFBakwsRUFBQVUsR0FDQWtCLEtBQUF3RixJQUFBeUQsRUFBQTdLLElBQUE4SyxFQUFBcEssSUFHQWlLLEVBQUF0SixVQUFBMkYsUUFBQSxTQUFBdEYsRUFBQW1DLEdBQ0EsUUFBQTdELEtBQUE0QixLQUFBd0YsSUFDQXhGLEtBQUF3RixJQUFBOUYsZUFBQXRCLElBQ0EwQixFQUFBOUIsS0FBQWlFLEVBQUFqQyxLQUFBd0YsSUFBQXBILEtBQUE0QixPQUtBK0ksRUFBQXRKLFVBQUE2SixLQUFBLFdBQ0EsSUFBQUMsS0FFQSxPQURBdkosS0FBQW9GLFFBQUEsU0FBQXRHLEVBQUFWLEdBQXdDbUwsRUFBQXpILEtBQUExRCxLQUN4Q29MLEVBQUFELElBR0FSLEVBQUF0SixVQUFBMkQsT0FBQSxXQUNBLElBQUFtRyxLQUVBLE9BREF2SixLQUFBb0YsUUFBQSxTQUFBdEcsR0FBa0N5SyxFQUFBekgsS0FBQWhELEtBQ2xDMEssRUFBQUQsSUFHQVIsRUFBQXRKLFVBQUFnSyxRQUFBLFdBQ0EsSUFBQUYsS0FFQSxPQURBdkosS0FBQW9GLFFBQUEsU0FBQXRHLEVBQUFWLEdBQXdDbUwsRUFBQXpILE1BQUExRCxFQUFBVSxNQUN4QzBLLEVBQUFELElBR0F6QixFQUFBRSxXQUNBZSxFQUFBdEosVUFBQWIsT0FBQThLLFVBQUFYLEVBQUF0SixVQUFBZ0ssU0FxSkEsSUFBQUUsR0FBQSw4Q0E0Q0FDLEVBQUFuSyxVQUFBb0ssTUFBQSxXQUNBLFdBQUFELEVBQUE1SixNQUE4QjJILEtBQUEzSCxLQUFBOEosYUFnQzlCQyxFQUFBL0wsS0FBQTRMLEVBQUFuSyxXQWdCQXNLLEVBQUEvTCxLQUFBZ00sRUFBQXZLLFdBRUF1SyxFQUFBdkssVUFBQW9LLE1BQUEsV0FDQSxXQUFBRyxFQUFBaEssS0FBQThKLFdBQ0FsRCxPQUFBNUcsS0FBQTRHLE9BQ0FFLFdBQUE5RyxLQUFBOEcsV0FDQW1ELFFBQUEsSUFBQWxCLEVBQUEvSSxLQUFBaUssU0FDQTFELElBQUF2RyxLQUFBdUcsT0FJQXlELEVBQUFFLE1BQUEsV0FDQSxJQUFBdkQsRUFBQSxJQUFBcUQsRUFBQSxNQUF1Q3BELE9BQUEsRUFBQUUsV0FBQSxLQUV2QyxPQURBSCxFQUFBd0QsS0FBQSxRQUNBeEQsR0FHQSxJQUFBeUQsR0FBQSxxQkFFQUosRUFBQUssU0FBQSxTQUFBOUQsRUFBQUssR0FDQSxRQUFBd0QsRUFBQXZCLFFBQUFqQyxHQUNBLFVBQUEwRCxXQUFBLHVCQUdBLFdBQUFOLEVBQUEsTUFBK0JwRCxTQUFBcUQsU0FBMEJNLFNBQUFoRSxNQUd6RGpGLEVBQUF5SCxVQUNBekgsRUFBQXNJLFVBQ0F0SSxFQUFBMEksV0FFQTFJLEVBQUFtRyxNQUFBLFNBQUErQyxFQUFBL0csR0FDQSxXQUFBN0MsUUFBQSxTQUFBVixFQUFBRSxHQUNBLElBQUFxSyxFQUFBLElBQUFiLEVBQUFZLEVBQUEvRyxHQUNBaUgsRUFBQSxJQUFBQyxlQUVBRCxFQUFBRSxPQUFBLFdBQ0EsSUFBQTVGLEdBQ0E0QixPQUFBOEQsRUFBQTlELE9BQ0FFLFdBQUE0RCxFQUFBNUQsV0FDQW1ELFFBeEVBLFNBQUFZLEdBQ0EsSUFBQVosRUFBQSxJQUFBbEIsRUFZQSxPQVRBOEIsRUFBQUMsUUFBQSxvQkFDQUMsTUFBQSxTQUFBM0YsUUFBQSxTQUFBNEYsR0FDQSxJQUFBQyxFQUFBRCxFQUFBRCxNQUFBLEtBQ0EzTCxFQUFBNkwsRUFBQUMsUUFBQUMsT0FDQSxHQUFBL0wsRUFBQSxDQUNBLElBQUFOLEVBQUFtTSxFQUFBRyxLQUFBLEtBQUFELE9BQ0FsQixFQUFBakIsT0FBQTVKLEVBQUFOLE1BR0FtTCxFQTJEQW9CLENBQUFYLEVBQUFZLHlCQUFBLEtBRUF0RyxFQUFBdUIsSUFBQSxnQkFBQW1FLElBQUFhLFlBQUF2RyxFQUFBaUYsUUFBQXZMLElBQUEsaUJBQ0EsSUFBQWlKLEVBQUEsYUFBQStDLElBQUEvRCxTQUFBK0QsRUFBQWMsYUFDQXRMLEVBQUEsSUFBQThKLEVBQUFyQyxFQUFBM0MsS0FHQTBGLEVBQUFlLFFBQUEsV0FDQXJMLEVBQUEsSUFBQVUsVUFBQSw0QkFHQTRKLEVBQUFnQixVQUFBLFdBQ0F0TCxFQUFBLElBQUFVLFVBQUEsNEJBR0E0SixFQUFBaUIsS0FBQWxCLEVBQUEvQyxPQUFBK0MsRUFBQWxFLEtBQUEsR0FFQSxZQUFBa0UsRUFBQW1CLFlBQ0FsQixFQUFBbUIsaUJBQUEsRUFDTyxTQUFBcEIsRUFBQW1CLGNBQ1BsQixFQUFBbUIsaUJBQUEsR0FHQSxpQkFBQW5CLEdBQUE1QyxFQUFBRyxPQUNBeUMsRUFBQW9CLGFBQUEsUUFHQXJCLEVBQUFSLFFBQUE3RSxRQUFBLFNBQUF0RyxFQUFBVixHQUNBc00sRUFBQXFCLGlCQUFBM04sRUFBQVUsS0FHQTRMLEVBQUE5RyxVQUFBLElBQUE2RyxFQUFBWCxVQUFBLEtBQUFXLEVBQUFYLGNBR0F4SSxFQUFBbUcsTUFBQXVFLFVBQUEsRUFwYUEsU0FBQS9DLEVBQUE3SyxHQUlBLEdBSEEsaUJBQUFBLElBQ0FBLEVBQUE2TixPQUFBN04sSUFFQSw2QkFBQThOLEtBQUE5TixHQUNBLFVBQUEwQyxVQUFBLDBDQUVBLE9BQUExQyxFQUFBK04sY0FHQSxTQUFBakQsRUFBQXBLLEdBSUEsTUFIQSxpQkFBQUEsSUFDQUEsRUFBQW1OLE9BQUFuTixJQUVBQSxFQUlBLFNBQUEwSyxFQUFBRCxHQUNBLElBQUFHLEdBQ0EwQyxLQUFBLFdBQ0EsSUFBQXROLEVBQUF5SyxFQUFBMkIsUUFDQSxPQUFnQjNJLFVBQUFyQixJQUFBcEMsYUFVaEIsT0FOQWdKLEVBQUFFLFdBQ0EwQixFQUFBOUssT0FBQThLLFVBQUEsV0FDQSxPQUFBQSxJQUlBQSxFQUdBLFNBQUFYLEVBQUFrQixHQUNBakssS0FBQXdGLE9BRUF5RSxhQUFBbEIsRUFDQWtCLEVBQUE3RSxRQUFBLFNBQUF0RyxFQUFBVixHQUNBNEIsS0FBQWdKLE9BQUE1SyxFQUFBVSxJQUNPa0IsTUFDRjhDLE1BQUF1SixRQUFBcEMsR0FDTEEsRUFBQTdFLFFBQUEsU0FBQWtILEdBQ0F0TSxLQUFBZ0osT0FBQXNELEVBQUEsR0FBQUEsRUFBQSxLQUNPdE0sTUFDRmlLLEdBQ0wxTCxPQUFBZ08sb0JBQUF0QyxHQUFBN0UsUUFBQSxTQUFBaEgsR0FDQTRCLEtBQUFnSixPQUFBNUssRUFBQTZMLEVBQUE3TCxLQUNPNEIsTUEwRFAsU0FBQXdNLEVBQUE3RSxHQUNBLEdBQUFBLEVBQUE4RSxTQUNBLE9BQUE3TCxRQUFBUixPQUFBLElBQUFVLFVBQUEsaUJBRUE2RyxFQUFBOEUsVUFBQSxFQUdBLFNBQUFDLEVBQUFDLEdBQ0EsV0FBQS9MLFFBQUEsU0FBQVYsRUFBQUUsR0FDQXVNLEVBQUEvQixPQUFBLFdBQ0ExSyxFQUFBeU0sRUFBQUMsU0FFQUQsRUFBQWxCLFFBQUEsV0FDQXJMLEVBQUF1TSxFQUFBekMsVUFLQSxTQUFBMkMsRUFBQTVFLEdBQ0EsSUFBQTBFLEVBQUEsSUFBQUcsV0FDQWpMLEVBQUE2SyxFQUFBQyxHQUVBLE9BREFBLEVBQUFJLGtCQUFBOUUsR0FDQXBHLEVBb0JBLFNBQUFtTCxFQUFBQyxHQUNBLEdBQUFBLEVBQUFsSyxNQUNBLE9BQUFrSyxFQUFBbEssTUFBQSxHQUVBLElBQUFtSyxFQUFBLElBQUFDLFdBQUFGLEVBQUFHLFlBRUEsT0FEQUYsRUFBQTdELElBQUEsSUFBQThELFdBQUFGLElBQ0FDLEVBQUFHLE9BSUEsU0FBQXRELElBMEZBLE9BekZBL0osS0FBQXlNLFVBQUEsRUFFQXpNLEtBQUFzTixVQUFBLFNBQUEzRixHQUVBLEdBREEzSCxLQUFBOEosVUFBQW5DLEVBQ0FBLEVBRU8sb0JBQUFBLEVBQ1AzSCxLQUFBdU4sVUFBQTVGLE9BQ08sR0FBQUcsRUFBQUcsTUFBQUMsS0FBQXpJLFVBQUFnSixjQUFBZCxHQUNQM0gsS0FBQXdOLFVBQUE3RixPQUNPLEdBQUFHLEVBQUFLLFVBQUFzRixTQUFBaE8sVUFBQWdKLGNBQUFkLEdBQ1AzSCxLQUFBME4sY0FBQS9GLE9BQ08sR0FBQUcsRUFBQUMsY0FBQTRGLGdCQUFBbE8sVUFBQWdKLGNBQUFkLEdBQ1AzSCxLQUFBdU4sVUFBQTVGLEVBQUFtQixnQkFDTyxHQUFBaEIsRUFBQU0sYUFBQU4sRUFBQUcsTUFBQUssRUFBQVgsR0FDUDNILEtBQUE0TixpQkFBQVosRUFBQXJGLEVBQUEwRixRQUVBck4sS0FBQThKLFVBQUEsSUFBQTVCLE1BQUFsSSxLQUFBNE4sdUJBQ08sS0FBQTlGLEVBQUFNLGNBQUFPLFlBQUFsSixVQUFBZ0osY0FBQWQsS0FBQWUsRUFBQWYsR0FHUCxVQUFBZCxNQUFBLDZCQUZBN0csS0FBQTROLGlCQUFBWixFQUFBckYsUUFkQTNILEtBQUF1TixVQUFBLEdBbUJBdk4sS0FBQWlLLFFBQUF2TCxJQUFBLGtCQUNBLGlCQUFBaUosRUFDQTNILEtBQUFpSyxRQUFBWixJQUFBLDJDQUNTckosS0FBQXdOLFdBQUF4TixLQUFBd04sVUFBQXJELEtBQ1RuSyxLQUFBaUssUUFBQVosSUFBQSxlQUFBckosS0FBQXdOLFVBQUFyRCxNQUNTckMsRUFBQUMsY0FBQTRGLGdCQUFBbE8sVUFBQWdKLGNBQUFkLElBQ1QzSCxLQUFBaUssUUFBQVosSUFBQSxvRUFLQXZCLEVBQUFHLE9BQ0FqSSxLQUFBaUksS0FBQSxXQUNBLElBQUE0RixFQUFBckIsRUFBQXhNLE1BQ0EsR0FBQTZOLEVBQ0EsT0FBQUEsRUFHQSxHQUFBN04sS0FBQXdOLFVBQ0EsT0FBQTVNLFFBQUFWLFFBQUFGLEtBQUF3TixXQUNTLEdBQUF4TixLQUFBNE4saUJBQ1QsT0FBQWhOLFFBQUFWLFFBQUEsSUFBQWdJLE1BQUFsSSxLQUFBNE4sb0JBQ1MsR0FBQTVOLEtBQUEwTixjQUNULFVBQUE3RyxNQUFBLHdDQUVBLE9BQUFqRyxRQUFBVixRQUFBLElBQUFnSSxNQUFBbEksS0FBQXVOLGNBSUF2TixLQUFBb0ksWUFBQSxXQUNBLE9BQUFwSSxLQUFBNE4saUJBQ0FwQixFQUFBeE0sT0FBQVksUUFBQVYsUUFBQUYsS0FBQTROLGtCQUVBNU4sS0FBQWlJLE9BQUFoSSxLQUFBNE0sS0FLQTdNLEtBQUE4TixLQUFBLFdBQ0EsSUFBQUQsRUFBQXJCLEVBQUF4TSxNQUNBLEdBQUE2TixFQUNBLE9BQUFBLEVBR0EsR0FBQTdOLEtBQUF3TixVQUNBLE9BakdBLFNBQUF2RixHQUNBLElBQUEwRSxFQUFBLElBQUFHLFdBQ0FqTCxFQUFBNkssRUFBQUMsR0FFQSxPQURBQSxFQUFBb0IsV0FBQTlGLEdBQ0FwRyxFQTZGQW1NLENBQUFoTyxLQUFBd04sV0FDTyxHQUFBeE4sS0FBQTROLGlCQUNQLE9BQUFoTixRQUFBVixRQTVGQSxTQUFBK00sR0FJQSxJQUhBLElBQUFDLEVBQUEsSUFBQUMsV0FBQUYsR0FDQWdCLEVBQUEsSUFBQW5MLE1BQUFvSyxFQUFBOUssUUFFQXZFLEVBQUEsRUFBbUJBLEVBQUFxUCxFQUFBOUssT0FBaUJ2RSxJQUNwQ29RLEVBQUFwUSxHQUFBb08sT0FBQWlDLGFBQUFoQixFQUFBclAsSUFFQSxPQUFBb1EsRUFBQTdDLEtBQUEsSUFxRkErQyxDQUFBbk8sS0FBQTROLG1CQUNPLEdBQUE1TixLQUFBME4sY0FDUCxVQUFBN0csTUFBQSx3Q0FFQSxPQUFBakcsUUFBQVYsUUFBQUYsS0FBQXVOLFlBSUF6RixFQUFBSyxXQUNBbkksS0FBQW1JLFNBQUEsV0FDQSxPQUFBbkksS0FBQThOLE9BQUE3TixLQUFBbU8sS0FJQXBPLEtBQUFxTyxLQUFBLFdBQ0EsT0FBQXJPLEtBQUE4TixPQUFBN04sS0FBQTJILEtBQUEwRyxRQUdBdE8sS0FXQSxTQUFBNEosRUFBQVksRUFBQXhGLEdBRUEsSUFBQTJDLEdBREEzQyxTQUNBMkMsS0FFQSxHQUFBNkMsYUFBQVosRUFBQSxDQUNBLEdBQUFZLEVBQUFpQyxTQUNBLFVBQUEzTCxVQUFBLGdCQUVBZCxLQUFBdUcsSUFBQWlFLEVBQUFqRSxJQUNBdkcsS0FBQTRMLFlBQUFwQixFQUFBb0IsWUFDQTVHLEVBQUFpRixVQUNBakssS0FBQWlLLFFBQUEsSUFBQWxCLEVBQUF5QixFQUFBUCxVQUVBakssS0FBQTBILE9BQUE4QyxFQUFBOUMsT0FDQTFILEtBQUFoQixLQUFBd0wsRUFBQXhMLEtBQ0EySSxHQUFBLE1BQUE2QyxFQUFBVixZQUNBbkMsRUFBQTZDLEVBQUFWLFVBQ0FVLEVBQUFpQyxVQUFBLFFBR0F6TSxLQUFBdUcsSUFBQTBGLE9BQUF6QixHQVdBLEdBUkF4SyxLQUFBNEwsWUFBQTVHLEVBQUE0RyxhQUFBNUwsS0FBQTRMLGFBQUEsUUFDQTVHLEVBQUFpRixTQUFBakssS0FBQWlLLFVBQ0FqSyxLQUFBaUssUUFBQSxJQUFBbEIsRUFBQS9ELEVBQUFpRixVQUVBakssS0FBQTBILE9BaENBLFNBQUFBLEdBQ0EsSUFBQTZHLEVBQUE3RyxFQUFBOEcsY0FDQSxPQUFBN0UsRUFBQWQsUUFBQTBGLElBQUEsRUFBQUEsRUFBQTdHLEVBOEJBK0csQ0FBQXpKLEVBQUEwQyxRQUFBMUgsS0FBQTBILFFBQUEsT0FDQTFILEtBQUFoQixLQUFBZ0csRUFBQWhHLE1BQUFnQixLQUFBaEIsTUFBQSxLQUNBZ0IsS0FBQTBPLFNBQUEsTUFFQSxRQUFBMU8sS0FBQTBILFFBQUEsU0FBQTFILEtBQUEwSCxTQUFBQyxFQUNBLFVBQUE3RyxVQUFBLDZDQUVBZCxLQUFBc04sVUFBQTNGLEdBT0EsU0FBQXlHLEVBQUF6RyxHQUNBLElBQUFnSCxFQUFBLElBQUFsQixTQVNBLE9BUkE5RixFQUFBd0QsT0FBQUosTUFBQSxLQUFBM0YsUUFBQSxTQUFBd0osR0FDQSxHQUFBQSxFQUFBLENBQ0EsSUFBQTdELEVBQUE2RCxFQUFBN0QsTUFBQSxLQUNBM00sRUFBQTJNLEVBQUFHLFFBQUFKLFFBQUEsV0FDQWhNLEVBQUFpTSxFQUFBSyxLQUFBLEtBQUFOLFFBQUEsV0FDQTZELEVBQUEzRixPQUFBNkYsbUJBQUF6USxHQUFBeVEsbUJBQUEvUCxPQUdBNlAsRUFxQkEsU0FBQTNFLEVBQUE4RSxFQUFBOUosR0FDQUEsSUFDQUEsTUFHQWhGLEtBQUFtSyxLQUFBLFVBQ0FuSyxLQUFBNEcsWUFBQTFGLElBQUE4RCxFQUFBNEIsT0FBQSxJQUFBNUIsRUFBQTRCLE9BQ0E1RyxLQUFBK08sR0FBQS9PLEtBQUE0RyxRQUFBLEtBQUE1RyxLQUFBNEcsT0FBQSxJQUNBNUcsS0FBQThHLFdBQUEsZUFBQTlCLElBQUE4QixXQUFBLEtBQ0E5RyxLQUFBaUssUUFBQSxJQUFBbEIsRUFBQS9ELEVBQUFpRixTQUNBakssS0FBQXVHLElBQUF2QixFQUFBdUIsS0FBQSxHQUNBdkcsS0FBQXNOLFVBQUF3QixJQW5ZQSxDQWlkQyxvQkFBQXhOLFVBQUF0Qix5RUM3Y0RnUCxFQUFBLFdBSUEsdUJBQUExTixLQUNBLE9BQUFBLEtBRUEsdUJBQUE3RCxPQUNBLE9BQUFBLE9BRUEsWUFBQXdSLEVBQ0EsT0FBQUEsRUFFQSxVQUFBcEksTUFBQSxrQ0FiQSxHQWdCQSxZQUFBbUksRUFFQ0EsRUFBQXBPLFFBQUFuQixVQUFBLFVBQ0R1UCxFQUFBcE8sUUFBQW5CLFVBQUEsUUFBQXlQLEVBQUEsR0FGQUYsRUFBQSxRQUFBRyxFQUFBLHFDQ3JCQSxTQUFBRixHQUFBLElBQUFHLE9BQUEsSUFBQUgsTUFDQSxvQkFBQTNOLFlBQ0E3RCxPQUNBeUUsRUFBQTVCLFNBQUFiLFVBQUF5QyxNQWlCQSxTQUFBbU4sRUFBQUMsRUFBQUMsR0FDQXZQLEtBQUF3UCxJQUFBRixFQUNBdFAsS0FBQXlQLFNBQUFGLEVBZkFsUyxFQUFBcUQsV0FBQSxXQUNBLFdBQUEyTyxFQUFBbk4sRUFBQWxFLEtBQUEwQyxXQUFBME8sRUFBQWpOLFdBQUF1TixlQUVBclMsRUFBQXNTLFlBQUEsV0FDQSxXQUFBTixFQUFBbk4sRUFBQWxFLEtBQUEyUixZQUFBUCxFQUFBak4sV0FBQXlOLGdCQUVBdlMsRUFBQXFTLGFBQ0FyUyxFQUFBdVMsY0FBQSxTQUFBQyxHQUNBQSxHQUNBQSxFQUFBQyxTQVFBVCxFQUFBNVAsVUFBQXNRLE1BQUFWLEVBQUE1UCxVQUFBdVEsSUFBQSxhQUNBWCxFQUFBNVAsVUFBQXFRLE1BQUEsV0FDQTlQLEtBQUF5UCxTQUFBelIsS0FBQW9SLEVBQUFwUCxLQUFBd1AsTUFJQW5TLEVBQUE0UyxPQUFBLFNBQUFDLEVBQUFDLEdBQ0FULGFBQUFRLEVBQUFFLGdCQUNBRixFQUFBRyxhQUFBRixHQUdBOVMsRUFBQWlULFNBQUEsU0FBQUosR0FDQVIsYUFBQVEsRUFBQUUsZ0JBQ0FGLEVBQUFHLGNBQUEsR0FHQWhULEVBQUFrVCxhQUFBbFQsRUFBQW1ULE9BQUEsU0FBQU4sR0FDQVIsYUFBQVEsRUFBQUUsZ0JBRUEsSUFBQUQsRUFBQUQsRUFBQUcsYUFDQUYsR0FBQSxJQUNBRCxFQUFBRSxlQUFBMVAsV0FBQSxXQUNBd1AsRUFBQU8sWUFDQVAsRUFBQU8sY0FDS04sS0FLTHhTLEVBQUEsSUFJQU4sRUFBQWdHLGFBQUEsb0JBQUEvQixXQUFBK0IsbUJBQ0EsSUFBQTRMLEtBQUE1TCxjQUNBckQsV0FBQXFELGFBQ0FoRyxFQUFBcVQsZUFBQSxvQkFBQXBQLFdBQUFvUCxxQkFDQSxJQUFBekIsS0FBQXlCLGdCQUNBMVEsV0FBQTBRLG1EQzlEQSxTQUFBekIsRUFBQTBCLElBQUEsU0FBQTFCLEVBQUEvTixHQUNBLGFBRUEsSUFBQStOLEVBQUE1TCxhQUFBLENBSUEsSUFJQXVOLEVBSkFDLEVBQUEsRUFDQUMsS0FDQUMsR0FBQSxFQUNBQyxFQUFBL0IsRUFBQXhLLFNBb0pBd00sRUFBQTFTLE9BQUEyUyxnQkFBQTNTLE9BQUEyUyxlQUFBakMsR0FDQWdDLE9BQUF2USxXQUFBdVEsRUFBQWhDLEVBR1Usd0JBQUFuRyxTQUFBOUssS0FBQWlSLEVBQUEwQixTQXBGVkMsRUFBQSxTQUFBdlAsR0FDQXNQLEVBQUFRLFNBQUEsV0FBMENDLEVBQUEvUCxNQUkxQyxXQUdBLEdBQUE0TixFQUFBb0MsY0FBQXBDLEVBQUFxQyxjQUFBLENBQ0EsSUFBQUMsR0FBQSxFQUNBQyxFQUFBdkMsRUFBQXdDLFVBTUEsT0FMQXhDLEVBQUF3QyxVQUFBLFdBQ0FGLEdBQUEsR0FFQXRDLEVBQUFvQyxZQUFBLFFBQ0FwQyxFQUFBd0MsVUFBQUQsRUFDQUQsR0F3RUtHLEdBcEVMLFdBS0EsSUFBQUMsRUFBQSxnQkFBQUMsS0FBQUMsU0FBQSxJQUNBQyxFQUFBLFNBQUFDLEdBQ0FBLEVBQUFDLFNBQUEvQyxHQUNBLGlCQUFBOEMsRUFBQUUsTUFDQSxJQUFBRixFQUFBRSxLQUFBcEosUUFBQThJLElBQ0FQLEdBQUFXLEVBQUFFLEtBQUFsUCxNQUFBNE8sRUFBQXZQLFVBSUE2TSxFQUFBdkosaUJBQ0F1SixFQUFBdkosaUJBQUEsVUFBQW9NLEdBQUEsR0FFQTdDLEVBQUFpRCxZQUFBLFlBQUFKLEdBR0FsQixFQUFBLFNBQUF2UCxHQUNBNE4sRUFBQW9DLFlBQUFNLEVBQUF0USxFQUFBLE1BaURBOFEsR0FFS2xELEVBQUFtRCxlQS9DTCxXQUNBLElBQUFDLEVBQUEsSUFBQUQsZUFDQUMsRUFBQUMsTUFBQWIsVUFBQSxTQUFBTSxHQUVBWCxFQURBVyxFQUFBRSxPQUlBckIsRUFBQSxTQUFBdlAsR0FDQWdSLEVBQUFFLE1BQUFsQixZQUFBaFEsSUF5Q0FtUixHQUVLeEIsR0FBQSx1QkFBQUEsRUFBQXlCLGNBQUEsVUF2Q0wsV0FDQSxJQUFBakwsRUFBQXdKLEVBQUEwQixnQkFDQTlCLEVBQUEsU0FBQXZQLEdBR0EsSUFBQXNSLEVBQUEzQixFQUFBeUIsY0FBQSxVQUNBRSxFQUFBQyxtQkFBQSxXQUNBeEIsRUFBQS9QLEdBQ0FzUixFQUFBQyxtQkFBQSxLQUNBcEwsRUFBQXFMLFlBQUFGLEdBQ0FBLEVBQUEsTUFFQW5MLEVBQUFzTCxZQUFBSCxJQTZCQUksR0F4QkFuQyxFQUFBLFNBQUF2UCxHQUNBWCxXQUFBMFEsRUFBQSxFQUFBL1AsSUE4QkE0UCxFQUFBNU4sYUExS0EsU0FBQXZELEdBRUEsbUJBQUFBLElBQ0FBLEVBQUEsSUFBQVEsU0FBQSxHQUFBUixJQUlBLElBREEsSUFBQStDLEVBQUEsSUFBQUMsTUFBQVgsVUFBQUMsT0FBQSxHQUNBdkUsRUFBQSxFQUFxQkEsRUFBQWdGLEVBQUFULE9BQWlCdkUsSUFDdENnRixFQUFBaEYsR0FBQXNFLFVBQUF0RSxFQUFBLEdBR0EsSUFBQW1WLEdBQWtCbFQsV0FBQStDLFFBR2xCLE9BRkFpTyxFQUFBRCxHQUFBbUMsRUFDQXBDLEVBQUFDLEdBQ0FBLEtBNkpBSSxFQUFBUCxpQkExSkEsU0FBQUEsRUFBQXJQLFVBQ0F5UCxFQUFBelAsR0F5QkEsU0FBQStQLEVBQUEvUCxHQUdBLEdBQUEwUCxFQUdBclEsV0FBQTBRLEVBQUEsRUFBQS9QLE9BQ1MsQ0FDVCxJQUFBMlIsRUFBQWxDLEVBQUF6UCxHQUNBLEdBQUEyUixFQUFBLENBQ0FqQyxHQUFBLEVBQ0EsS0FqQ0EsU0FBQWlDLEdBQ0EsSUFBQWxULEVBQUFrVCxFQUFBbFQsU0FDQStDLEVBQUFtUSxFQUFBblEsS0FDQSxPQUFBQSxFQUFBVCxRQUNBLE9BQ0F0QyxJQUNBLE1BQ0EsT0FDQUEsRUFBQStDLEVBQUEsSUFDQSxNQUNBLE9BQ0EvQyxFQUFBK0MsRUFBQSxHQUFBQSxFQUFBLElBQ0EsTUFDQSxPQUNBL0MsRUFBQStDLEVBQUEsR0FBQUEsRUFBQSxHQUFBQSxFQUFBLElBQ0EsTUFDQSxRQUNBL0MsRUFBQW9DLE1BQUFoQixFQUFBMkIsSUFpQkFvUSxDQUFBRCxHQUNpQixRQUNqQnRDLEVBQUFyUCxHQUNBMFAsR0FBQSxNQXZFQSxDQXlMQyxvQkFBQXpQLFVBQUEsSUFBQTJOLEVBQUFqUCxLQUFBaVAsRUFBQTNOLDZDQ3hMRCxJQU9BNFIsRUFDQUMsRUFSQXhDLEVBQUFyVCxFQUFBRCxXQVVBLFNBQUErVixJQUNBLFVBQUF2TSxNQUFBLG1DQUVBLFNBQUF3TSxJQUNBLFVBQUF4TSxNQUFBLHFDQXNCQSxTQUFBeU0sRUFBQUMsR0FDQSxHQUFBTCxJQUFBeFMsV0FFQSxPQUFBQSxXQUFBNlMsRUFBQSxHQUdBLElBQUFMLElBQUFFLElBQUFGLElBQUF4UyxXQUVBLE9BREF3UyxFQUFBeFMsV0FDQUEsV0FBQTZTLEVBQUEsR0FFQSxJQUVBLE9BQUFMLEVBQUFLLEVBQUEsR0FDSyxNQUFBL1MsR0FDTCxJQUVBLE9BQUEwUyxFQUFBbFYsS0FBQSxLQUFBdVYsRUFBQSxHQUNTLE1BQUEvUyxHQUVULE9BQUEwUyxFQUFBbFYsS0FBQWdDLEtBQUF1VCxFQUFBLE1BdkNBLFdBQ0EsSUFFQUwsRUFEQSxtQkFBQXhTLFdBQ0FBLFdBRUEwUyxFQUVLLE1BQUE1UyxHQUNMMFMsRUFBQUUsRUFFQSxJQUVBRCxFQURBLG1CQUFBekQsYUFDQUEsYUFFQTJELEVBRUssTUFBQTdTLEdBQ0wyUyxFQUFBRSxHQWpCQSxHQXdFQSxJQUVBRyxFQUZBQyxLQUNBQyxHQUFBLEVBRUFDLEdBQUEsRUFFQSxTQUFBQyxJQUNBRixHQUFBRixJQUdBRSxHQUFBLEVBQ0FGLEVBQUFwUixPQUNBcVIsRUFBQUQsRUFBQUssT0FBQUosR0FFQUUsR0FBQSxFQUVBRixFQUFBclIsUUFDQTBSLEtBSUEsU0FBQUEsSUFDQSxJQUFBSixFQUFBLENBR0EsSUFBQTdELEVBQUF5RCxFQUFBTSxHQUNBRixHQUFBLEVBR0EsSUFEQSxJQUFBcFIsRUFBQW1SLEVBQUFyUixPQUNBRSxHQUFBLENBR0EsSUFGQWtSLEVBQUFDLEVBQ0FBLE9BQ0FFLEVBQUFyUixHQUNBa1IsR0FDQUEsRUFBQUcsR0FBQVYsTUFHQVUsR0FBQSxFQUNBclIsRUFBQW1SLEVBQUFyUixPQUVBb1IsRUFBQSxLQUNBRSxHQUFBLEVBbkVBLFNBQUFLLEdBQ0EsR0FBQVosSUFBQXpELGFBRUEsT0FBQUEsYUFBQXFFLEdBR0EsSUFBQVosSUFBQUUsSUFBQUYsSUFBQXpELGFBRUEsT0FEQXlELEVBQUF6RCxhQUNBQSxhQUFBcUUsR0FFQSxJQUVBWixFQUFBWSxHQUNLLE1BQUF2VCxHQUNMLElBRUEsT0FBQTJTLEVBQUFuVixLQUFBLEtBQUErVixHQUNTLE1BQUF2VCxHQUdULE9BQUEyUyxFQUFBblYsS0FBQWdDLEtBQUErVCxLQWdEQUMsQ0FBQW5FLElBaUJBLFNBQUFvRSxFQUFBVixFQUFBVyxHQUNBbFUsS0FBQXVULE1BQ0F2VCxLQUFBa1UsUUFZQSxTQUFBdlQsS0E1QkFnUSxFQUFBUSxTQUFBLFNBQUFvQyxHQUNBLElBQUExUSxFQUFBLElBQUFDLE1BQUFYLFVBQUFDLE9BQUEsR0FDQSxHQUFBRCxVQUFBQyxPQUFBLEVBQ0EsUUFBQXZFLEVBQUEsRUFBdUJBLEVBQUFzRSxVQUFBQyxPQUFzQnZFLElBQzdDZ0YsRUFBQWhGLEVBQUEsR0FBQXNFLFVBQUF0RSxHQUdBNFYsRUFBQTNSLEtBQUEsSUFBQW1TLEVBQUFWLEVBQUExUSxJQUNBLElBQUE0USxFQUFBclIsUUFBQXNSLEdBQ0FKLEVBQUFRLElBU0FHLEVBQUF4VSxVQUFBd1QsSUFBQSxXQUNBalQsS0FBQXVULElBQUFyUixNQUFBLEtBQUFsQyxLQUFBa1UsUUFFQXZELEVBQUF3RCxNQUFBLFVBQ0F4RCxFQUFBeUQsU0FBQSxFQUNBekQsRUFBQTBELE9BQ0ExRCxFQUFBMkQsUUFDQTNELEVBQUE0RCxRQUFBLEdBQ0E1RCxFQUFBNkQsWUFJQTdELEVBQUE4RCxHQUFBOVQsRUFDQWdRLEVBQUErRCxZQUFBL1QsRUFDQWdRLEVBQUFnRSxLQUFBaFUsRUFDQWdRLEVBQUFpRSxJQUFBalUsRUFDQWdRLEVBQUFrRSxlQUFBbFUsRUFDQWdRLEVBQUFtRSxtQkFBQW5VLEVBQ0FnUSxFQUFBb0UsS0FBQXBVLEVBQ0FnUSxFQUFBcUUsZ0JBQUFyVSxFQUNBZ1EsRUFBQXNFLG9CQUFBdFUsRUFFQWdRLEVBQUF1RSxVQUFBLFNBQUE5VyxHQUFxQyxVQUVyQ3VTLEVBQUF3RSxRQUFBLFNBQUEvVyxHQUNBLFVBQUF5SSxNQUFBLHFDQUdBOEosRUFBQXlFLElBQUEsV0FBMkIsV0FDM0J6RSxFQUFBMEUsTUFBQSxTQUFBQyxHQUNBLFVBQUF6TyxNQUFBLG1DQUVBOEosRUFBQTRFLE1BQUEsV0FBNEIsMkJDdEw1QixJQUFBQyxFQUFBN1gsRUFBQSxJQUVBLGlCQUFBNlgsUUFBQWxZLEVBQUFPLEVBQUEyWCxFQUFBLE1BT0EsSUFBQXhRLEdBQWV5USxLQUFBLEVBRWZDLGVBUEFBLEVBUUFDLGdCQUFBelUsR0FFQXZELEVBQUEsR0FBQUEsQ0FBQTZYLEVBQUF4USxHQUVBd1EsRUFBQUksU0FBQXRZLEVBQUFELFFBQUFtWSxFQUFBSSx1QkNqQkF0WSxFQUFBRCxRQUFBLHc4RENLQSxJQUFBd1ksS0FXQUMsRUFUQSxTQUFBalYsR0FDQSxJQUFBa1YsRUFFQSxrQkFFQSxZQURBLElBQUFBLE1BQUFsVixFQUFBcUIsTUFBQWxDLEtBQUFtQyxZQUNBNFQsR0FJQUMsQ0FBQSxXQU1BLE9BQUF2WSxRQUFBZ0gsbUJBQUE5QixNQUFBbEYsT0FBQXdZLE9BVUFDLEVBQUEsU0FBQXJWLEdBQ0EsSUFBQWtWLEtBRUEsZ0JBQUFJLEVBQUFDLEdBTUEsc0JBQUFELEVBQ0EsT0FBQUEsSUFFQSxZQUFBSixFQUFBSSxHQUFBLENBQ0EsSUFBQUUsRUFwQkEsU0FBQUYsRUFBQUMsR0FDQSxPQUFBQSxFQUNBQSxFQUFBMVIsY0FBQXlSLEdBRUExUixTQUFBQyxjQUFBeVIsSUFnQkFuWSxLQUFBZ0MsS0FBQW1XLEVBQUFDLEdBRUEsR0FBQTNZLE9BQUE2WSxtQkFBQUQsYUFBQTVZLE9BQUE2WSxrQkFDQSxJQUdBRCxJQUFBRSxnQkFBQUMsS0FDSyxNQUFBaFcsR0FDTDZWLEVBQUEsS0FHQU4sRUFBQUksR0FBQUUsRUFFQSxPQUFBTixFQUFBSSxJQTFCQSxHQThCQU0sRUFBQSxLQUNBQyxFQUFBLEVBQ0FDLEtBRUFDLEVBQUFqWixFQUFBLElBcURBLFNBQUFrWixFQUFBQyxFQUFBOVIsR0FDQSxRQUFBbkgsRUFBQSxFQUFnQkEsRUFBQWlaLEVBQUExVSxPQUFtQnZFLElBQUEsQ0FDbkMsSUFBQXFTLEVBQUE0RyxFQUFBalosR0FDQWtaLEVBQUFsQixFQUFBM0YsRUFBQVosSUFFQSxHQUFBeUgsRUFBQSxDQUNBQSxFQUFBQyxPQUVBLFFBQUFDLEVBQUEsRUFBaUJBLEVBQUFGLEVBQUE5TCxNQUFBN0ksT0FBMkI2VSxJQUM1Q0YsRUFBQTlMLE1BQUFnTSxHQUFBL0csRUFBQWpGLE1BQUFnTSxJQUdBLEtBQVFBLEVBQUEvRyxFQUFBakYsTUFBQTdJLE9BQXVCNlUsSUFDL0JGLEVBQUE5TCxNQUFBbkosS0FBQW9WLEVBQUFoSCxFQUFBakYsTUFBQWdNLEdBQUFqUyxRQUVHLENBQ0gsSUFBQWlHLEtBRUEsSUFBQWdNLEVBQUEsRUFBaUJBLEVBQUEvRyxFQUFBakYsTUFBQTdJLE9BQXVCNlUsSUFDeENoTSxFQUFBbkosS0FBQW9WLEVBQUFoSCxFQUFBakYsTUFBQWdNLEdBQUFqUyxJQUdBNlEsRUFBQTNGLEVBQUFaLEtBQTJCQSxHQUFBWSxFQUFBWixHQUFBMEgsS0FBQSxFQUFBL0wsV0FLM0IsU0FBQWtNLEVBQUFDLEVBQUFwUyxHQUlBLElBSEEsSUFBQThSLEtBQ0FPLEtBRUF4WixFQUFBLEVBQWdCQSxFQUFBdVosRUFBQWhWLE9BQWlCdkUsSUFBQSxDQUNqQyxJQUFBcVMsRUFBQWtILEVBQUF2WixHQUNBeVIsRUFBQXRLLEVBQUFzUyxLQUFBcEgsRUFBQSxHQUFBbEwsRUFBQXNTLEtBQUFwSCxFQUFBLEdBSUFxSCxHQUFjQyxJQUhkdEgsRUFBQSxHQUdjdUgsTUFGZHZILEVBQUEsR0FFY3dILFVBRGR4SCxFQUFBLElBR0FtSCxFQUFBL0gsR0FDQStILEVBQUEvSCxHQUFBckUsTUFBQW5KLEtBQUF5VixHQURBVCxFQUFBaFYsS0FBQXVWLEVBQUEvSCxJQUFrREEsS0FBQXJFLE9BQUFzTSxLQUlsRCxPQUFBVCxFQUdBLFNBQUFhLEVBQUEzUyxFQUFBb0MsR0FDQSxJQUFBK08sRUFBQUQsRUFBQWxSLEVBQUEyUSxZQUVBLElBQUFRLEVBQ0EsVUFBQXRQLE1BQUEsK0dBR0EsSUFBQStRLEVBQUFqQixJQUFBdlUsT0FBQSxHQUVBLFdBQUE0QyxFQUFBNlMsU0FDQUQsRUFFR0EsRUFBQUUsWUFDSDNCLEVBQUE0QixhQUFBM1EsRUFBQXdRLEVBQUFFLGFBRUEzQixFQUFBckQsWUFBQTFMLEdBSkErTyxFQUFBNEIsYUFBQTNRLEVBQUErTyxFQUFBNkIsWUFNQXJCLEVBQUE3VSxLQUFBc0YsUUFDRSxjQUFBcEMsRUFBQTZTLFNBQ0YxQixFQUFBckQsWUFBQTFMLE9BQ0UscUJBQUFwQyxFQUFBNlMsV0FBQTdTLEVBQUE2UyxTQUFBSSxPQUlGLFVBQUFwUixNQUFBLDhMQUhBLElBQUFpUixFQUFBNUIsRUFBQWxSLEVBQUE2UyxTQUFBSSxPQUFBOUIsR0FDQUEsRUFBQTRCLGFBQUEzUSxFQUFBMFEsSUFNQSxTQUFBSSxFQUFBOVEsR0FDQSxVQUFBQSxFQUFBK1EsV0FBQSxTQUNBL1EsRUFBQStRLFdBQUF0RixZQUFBekwsR0FFQSxJQUFBZ1IsRUFBQXpCLEVBQUE5TixRQUFBekIsR0FDQWdSLEdBQUEsR0FDQXpCLEVBQUEwQixPQUFBRCxFQUFBLEdBSUEsU0FBQUUsRUFBQXRULEdBQ0EsSUFBQW9DLEVBQUEzQyxTQUFBZ08sY0FBQSxTQU1BLFFBSkF2UixJQUFBOEQsRUFBQXVULE1BQUFwTyxPQUNBbkYsRUFBQXVULE1BQUFwTyxLQUFBLGlCQUdBakosSUFBQThELEVBQUF1VCxNQUFBQyxNQUFBLENBQ0EsSUFBQUEsRUFnQ0EsV0FDQSxFQUlBLE9BQUE3YSxFQUFBOGEsR0FyQ0FDLEdBQ0FGLElBQ0F4VCxFQUFBdVQsTUFBQUMsU0FPQSxPQUhBRyxFQUFBdlIsRUFBQXBDLEVBQUF1VCxPQUNBWixFQUFBM1MsRUFBQW9DLEdBRUFBLEVBaUJBLFNBQUF1UixFQUFBMVUsRUFBQXNVLEdBQ0FoYSxPQUFBK0ssS0FBQWlQLEdBQUFuVCxRQUFBLFNBQUFoRyxHQUNBNkUsRUFBQTJVLGFBQUF4WixFQUFBbVosRUFBQW5aLE1BWUEsU0FBQThYLEVBQUEzTyxFQUFBdkQsR0FDQSxJQUFBb0MsRUFBQXBCLEVBQUFtQixFQUFBeUYsRUFHQSxHQUFBNUgsRUFBQTBRLFdBQUFuTixFQUFBaVAsSUFBQSxDQUdBLEtBRkE1SyxFQUFBNUgsRUFBQTBRLFVBQUFuTixFQUFBaVAsTUFTQSxvQkFKQWpQLEVBQUFpUCxJQUFBNUssRUFVQSxHQUFBNUgsRUFBQXlSLFVBQUEsQ0FDQSxJQUFBb0MsRUFBQW5DLElBRUF0UCxFQUFBcVAsTUFBQTZCLEVBQUF0VCxJQUVBZ0IsRUFBQThTLEVBQUF6WixLQUFBLEtBQUErSCxFQUFBeVIsR0FBQSxHQUNBMVIsRUFBQTJSLEVBQUF6WixLQUFBLEtBQUErSCxFQUFBeVIsR0FBQSxRQUdBdFEsRUFBQW1QLFdBQ0EsbUJBQUFxQixLQUNBLG1CQUFBQSxJQUFBQyxpQkFDQSxtQkFBQUQsSUFBQUUsaUJBQ0EsbUJBQUEvUSxNQUNBLG1CQUFBZ1IsTUFFQTlSLEVBaEVBLFNBQUFwQyxHQUNBLElBQUFtVSxFQUFBMVUsU0FBQWdPLGNBQUEsUUFVQSxZQVJBdlIsSUFBQThELEVBQUF1VCxNQUFBcE8sT0FDQW5GLEVBQUF1VCxNQUFBcE8sS0FBQSxZQUVBbkYsRUFBQXVULE1BQUFhLElBQUEsYUFFQVQsRUFBQVEsRUFBQW5VLEVBQUF1VCxPQUNBWixFQUFBM1MsRUFBQW1VLEdBRUFBLEVBcURBRSxDQUFBclUsR0FDQWdCLEVBaUZBLFNBQUFtVCxFQUFBblUsRUFBQXVELEdBQ0EsSUFBQWlQLEVBQUFqUCxFQUFBaVAsSUFDQUUsRUFBQW5QLEVBQUFtUCxVQVFBNEIsT0FBQXBZLElBQUE4RCxFQUFBdVUsdUJBQUE3QixHQUVBMVMsRUFBQXVVLHVCQUFBRCxLQUNBOUIsRUFBQVosRUFBQVksSUFHQUUsSUFFQUYsR0FBQSx1REFBdUQwQixLQUFBTSxTQUFBQyxtQkFBQTdSLEtBQUFDLFVBQUE2UCxNQUFBLE9BR3ZELElBQUF6UCxFQUFBLElBQUFDLE1BQUFzUCxJQUE2QnJOLEtBQUEsYUFFN0J1UCxFQUFBUCxFQUFBUSxLQUVBUixFQUFBUSxLQUFBWixJQUFBQyxnQkFBQS9RLEdBRUF5UixHQUFBWCxJQUFBRSxnQkFBQVMsSUE1R0FyYSxLQUFBLEtBQUErSCxFQUFBcEMsR0FDQW1DLEVBQUEsV0FDQStRLEVBQUE5USxHQUVBQSxFQUFBdVMsTUFBQVosSUFBQUUsZ0JBQUE3UixFQUFBdVMsU0FHQXZTLEVBQUFrUixFQUFBdFQsR0FDQWdCLEVBc0RBLFNBQUFvQixFQUFBbUIsR0FDQSxJQUFBaVAsRUFBQWpQLEVBQUFpUCxJQUNBQyxFQUFBbFAsRUFBQWtQLE1BRUFBLEdBQ0FyUSxFQUFBd1IsYUFBQSxRQUFBbkIsR0FHQSxHQUFBclEsRUFBQXdTLFdBQ0F4UyxFQUFBd1MsV0FBQUMsUUFBQXJDLE1BQ0UsQ0FDRixLQUFBcFEsRUFBQTRRLFlBQ0E1USxFQUFBeUwsWUFBQXpMLEVBQUE0USxZQUdBNVEsRUFBQTBMLFlBQUFyTyxTQUFBcVYsZUFBQXRDLE1BckVBblksS0FBQSxLQUFBK0gsR0FDQUQsRUFBQSxXQUNBK1EsRUFBQTlRLEtBTUEsT0FGQXBCLEVBQUF1QyxHQUVBLFNBQUF3UixHQUNBLEdBQUFBLEVBQUEsQ0FDQSxHQUNBQSxFQUFBdkMsTUFBQWpQLEVBQUFpUCxLQUNBdUMsRUFBQXRDLFFBQUFsUCxFQUFBa1AsT0FDQXNDLEVBQUFyQyxZQUFBblAsRUFBQW1QLFVBRUEsT0FHQTFSLEVBQUF1QyxFQUFBd1IsUUFFQTVTLEtBeFBBN0osRUFBQUQsUUFBQSxTQUFBK1osRUFBQXBTLEdBQ0EsdUJBQUFnVixjQUNBLGlCQUFBdlYsU0FBQSxVQUFBb0MsTUFBQSxpRUFHQTdCLFNBRUF1VCxNQUFBLGlCQUFBdlQsRUFBQXVULE1BQUF2VCxFQUFBdVQsU0FJQXZULEVBQUF5UixXQUFBLGtCQUFBelIsRUFBQXlSLFlBQUF6UixFQUFBeVIsVUFBQVgsS0FHQTlRLEVBQUEyUSxhQUFBM1EsRUFBQTJRLFdBQUEsUUFHQTNRLEVBQUE2UyxXQUFBN1MsRUFBQTZTLFNBQUEsVUFFQSxJQUFBZixFQUFBSyxFQUFBQyxFQUFBcFMsR0FJQSxPQUZBNlIsRUFBQUMsRUFBQTlSLEdBRUEsU0FBQWlWLEdBR0EsSUFGQSxJQUFBQyxLQUVBcmMsRUFBQSxFQUFpQkEsRUFBQWlaLEVBQUExVSxPQUFtQnZFLElBQUEsQ0FDcEMsSUFBQXFTLEVBQUE0RyxFQUFBalosSUFDQWtaLEVBQUFsQixFQUFBM0YsRUFBQVosS0FFQTBILE9BQ0FrRCxFQUFBcFksS0FBQWlWLEdBR0FrRCxHQUVBcEQsRUFEQU0sRUFBQThDLEVBQUFqVixHQUNBQSxHQUdBLElBQUFuSCxFQUFBLEVBQWlCQSxFQUFBcWMsRUFBQTlYLE9BQXNCdkUsSUFBQSxDQUN2QyxJQUFBa1osRUFFQSxRQUZBQSxFQUFBbUQsRUFBQXJjLElBRUFtWixLQUFBLENBQ0EsUUFBQUMsRUFBQSxFQUFtQkEsRUFBQUYsRUFBQTlMLE1BQUE3SSxPQUEyQjZVLElBQUFGLEVBQUE5TCxNQUFBZ00sWUFFOUNwQixFQUFBa0IsRUFBQXpILFFBZ05BLElBQUE2SyxFQUFBLFdBQ0EsSUFBQUMsS0FFQSxnQkFBQUMsRUFBQUMsR0FHQSxPQUZBRixFQUFBQyxHQUFBQyxFQUVBRixFQUFBRyxPQUFBQyxTQUFBcFAsS0FBQSxPQU5BLEdBVUEsU0FBQTBOLEVBQUExUixFQUFBaVQsRUFBQWxULEVBQUFvQixHQUNBLElBQUFpUCxFQUFBclEsRUFBQSxHQUFBb0IsRUFBQWlQLElBRUEsR0FBQXBRLEVBQUF3UyxXQUNBeFMsRUFBQXdTLFdBQUFDLFFBQUFNLEVBQUFFLEVBQUE3QyxPQUNFLENBQ0YsSUFBQWlELEVBQUFoVyxTQUFBcVYsZUFBQXRDLEdBQ0FrRCxFQUFBdFQsRUFBQXNULFdBRUFBLEVBQUFMLElBQUFqVCxFQUFBeUwsWUFBQTZILEVBQUFMLElBRUFLLEVBQUF0WSxPQUNBZ0YsRUFBQTJRLGFBQUEwQyxFQUFBQyxFQUFBTCxJQUVBalQsRUFBQTBMLFlBQUEySCxvQkMzVUFuZCxFQUFBRCxRQUFBLFNBQUFtYSxHQUVBLElBQUFqTixFQUFBLG9CQUFBOU0sZUFBQThNLFNBRUEsSUFBQUEsRUFDQSxVQUFBMUQsTUFBQSxvQ0FJQSxJQUFBMlEsR0FBQSxpQkFBQUEsRUFDQSxPQUFBQSxFQUdBLElBQUFtRCxFQUFBcFEsRUFBQXFRLFNBQUEsS0FBQXJRLEVBQUFzUSxLQUNBQyxFQUFBSCxFQUFBcFEsRUFBQXdRLFNBQUFqUSxRQUFBLGlCQTJEQSxPQS9CQTBNLEVBQUExTSxRQUFBLCtEQUFBa1EsRUFBQUMsR0FFQSxJQVdBQyxFQVhBQyxFQUFBRixFQUNBOVAsT0FDQUwsUUFBQSxvQkFBQXhNLEVBQUE4YyxHQUF3QyxPQUFBQSxJQUN4Q3RRLFFBQUEsb0JBQUF4TSxFQUFBOGMsR0FBd0MsT0FBQUEsSUFHeEMsMERBQUFsUCxLQUFBaVAsR0FDQUgsR0FRQUUsRUFGQSxJQUFBQyxFQUFBdFMsUUFBQSxNQUVBc1MsRUFDRyxJQUFBQSxFQUFBdFMsUUFBQSxLQUVIOFIsRUFBQVEsRUFHQUwsRUFBQUssRUFBQXJRLFFBQUEsWUFJQSxPQUFBbEQsS0FBQUMsVUFBQXFULEdBQUEiLCJmaWxlIjoicmVwb3J0LnV0aWxpdHkuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShbXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJSZXBvcnRVdGlsaXR5XCJdID0gZmFjdG9yeSgpO1xuXHRlbHNlXG5cdFx0cm9vdFtcIlJlcG9ydFV0aWxpdHlcIl0gPSBmYWN0b3J5KCk7XG59KSh3aW5kb3csIGZ1bmN0aW9uKCkge1xucmV0dXJuICIsIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiL2Rpc3RcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDMpO1xuIiwiLyoqXG4gKiBAdGhpcyB7UHJvbWlzZX1cbiAqL1xuZnVuY3Rpb24gZmluYWxseUNvbnN0cnVjdG9yKGNhbGxiYWNrKSB7XG4gIHZhciBjb25zdHJ1Y3RvciA9IHRoaXMuY29uc3RydWN0b3I7XG4gIHJldHVybiB0aGlzLnRoZW4oXG4gICAgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiBjb25zdHJ1Y3Rvci5yZXNvbHZlKGNhbGxiYWNrKCkpLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZnVuY3Rpb24ocmVhc29uKSB7XG4gICAgICByZXR1cm4gY29uc3RydWN0b3IucmVzb2x2ZShjYWxsYmFjaygpKS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gY29uc3RydWN0b3IucmVqZWN0KHJlYXNvbik7XG4gICAgICB9KTtcbiAgICB9XG4gICk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZpbmFsbHlDb25zdHJ1Y3RvcjtcbiIsInZhciBnO1xuXG4vLyBUaGlzIHdvcmtzIGluIG5vbi1zdHJpY3QgbW9kZVxuZyA9IChmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXM7XG59KSgpO1xuXG50cnkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIGV2YWwgaXMgYWxsb3dlZCAoc2VlIENTUClcblx0ZyA9IGcgfHwgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpIHx8ICgxLCBldmFsKShcInRoaXNcIik7XG59IGNhdGNoIChlKSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXG5cdGlmICh0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiKSBnID0gd2luZG93O1xufVxuXG4vLyBnIGNhbiBzdGlsbCBiZSB1bmRlZmluZWQsIGJ1dCBub3RoaW5nIHRvIGRvIGFib3V0IGl0Li4uXG4vLyBXZSByZXR1cm4gdW5kZWZpbmVkLCBpbnN0ZWFkIG9mIG5vdGhpbmcgaGVyZSwgc28gaXQnc1xuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGc7XG4iLCJpbXBvcnQgcHJvbWlzZUZpbmFsbHkgZnJvbSAnLi9maW5hbGx5JztcblxuLy8gU3RvcmUgc2V0VGltZW91dCByZWZlcmVuY2Ugc28gcHJvbWlzZS1wb2x5ZmlsbCB3aWxsIGJlIHVuYWZmZWN0ZWQgYnlcbi8vIG90aGVyIGNvZGUgbW9kaWZ5aW5nIHNldFRpbWVvdXQgKGxpa2Ugc2lub24udXNlRmFrZVRpbWVycygpKVxudmFyIHNldFRpbWVvdXRGdW5jID0gc2V0VGltZW91dDtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbi8vIFBvbHlmaWxsIGZvciBGdW5jdGlvbi5wcm90b3R5cGUuYmluZFxuZnVuY3Rpb24gYmluZChmbiwgdGhpc0FyZykge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgZm4uYXBwbHkodGhpc0FyZywgYXJndW1lbnRzKTtcbiAgfTtcbn1cblxuLyoqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXG4gKi9cbmZ1bmN0aW9uIFByb21pc2UoZm4pIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFByb21pc2UpKVxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Byb21pc2VzIG11c3QgYmUgY29uc3RydWN0ZWQgdmlhIG5ldycpO1xuICBpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdub3QgYSBmdW5jdGlvbicpO1xuICAvKiogQHR5cGUgeyFudW1iZXJ9ICovXG4gIHRoaXMuX3N0YXRlID0gMDtcbiAgLyoqIEB0eXBlIHshYm9vbGVhbn0gKi9cbiAgdGhpcy5faGFuZGxlZCA9IGZhbHNlO1xuICAvKiogQHR5cGUge1Byb21pc2V8dW5kZWZpbmVkfSAqL1xuICB0aGlzLl92YWx1ZSA9IHVuZGVmaW5lZDtcbiAgLyoqIEB0eXBlIHshQXJyYXk8IUZ1bmN0aW9uPn0gKi9cbiAgdGhpcy5fZGVmZXJyZWRzID0gW107XG5cbiAgZG9SZXNvbHZlKGZuLCB0aGlzKTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlKHNlbGYsIGRlZmVycmVkKSB7XG4gIHdoaWxlIChzZWxmLl9zdGF0ZSA9PT0gMykge1xuICAgIHNlbGYgPSBzZWxmLl92YWx1ZTtcbiAgfVxuICBpZiAoc2VsZi5fc3RhdGUgPT09IDApIHtcbiAgICBzZWxmLl9kZWZlcnJlZHMucHVzaChkZWZlcnJlZCk7XG4gICAgcmV0dXJuO1xuICB9XG4gIHNlbGYuX2hhbmRsZWQgPSB0cnVlO1xuICBQcm9taXNlLl9pbW1lZGlhdGVGbihmdW5jdGlvbigpIHtcbiAgICB2YXIgY2IgPSBzZWxmLl9zdGF0ZSA9PT0gMSA/IGRlZmVycmVkLm9uRnVsZmlsbGVkIDogZGVmZXJyZWQub25SZWplY3RlZDtcbiAgICBpZiAoY2IgPT09IG51bGwpIHtcbiAgICAgIChzZWxmLl9zdGF0ZSA9PT0gMSA/IHJlc29sdmUgOiByZWplY3QpKGRlZmVycmVkLnByb21pc2UsIHNlbGYuX3ZhbHVlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHJldDtcbiAgICB0cnkge1xuICAgICAgcmV0ID0gY2Ioc2VsZi5fdmFsdWUpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJlamVjdChkZWZlcnJlZC5wcm9taXNlLCBlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcmVzb2x2ZShkZWZlcnJlZC5wcm9taXNlLCByZXQpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gcmVzb2x2ZShzZWxmLCBuZXdWYWx1ZSkge1xuICB0cnkge1xuICAgIC8vIFByb21pc2UgUmVzb2x1dGlvbiBQcm9jZWR1cmU6IGh0dHBzOi8vZ2l0aHViLmNvbS9wcm9taXNlcy1hcGx1cy9wcm9taXNlcy1zcGVjI3RoZS1wcm9taXNlLXJlc29sdXRpb24tcHJvY2VkdXJlXG4gICAgaWYgKG5ld1ZhbHVlID09PSBzZWxmKVxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQSBwcm9taXNlIGNhbm5vdCBiZSByZXNvbHZlZCB3aXRoIGl0c2VsZi4nKTtcbiAgICBpZiAoXG4gICAgICBuZXdWYWx1ZSAmJlxuICAgICAgKHR5cGVvZiBuZXdWYWx1ZSA9PT0gJ29iamVjdCcgfHwgdHlwZW9mIG5ld1ZhbHVlID09PSAnZnVuY3Rpb24nKVxuICAgICkge1xuICAgICAgdmFyIHRoZW4gPSBuZXdWYWx1ZS50aGVuO1xuICAgICAgaWYgKG5ld1ZhbHVlIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICBzZWxmLl9zdGF0ZSA9IDM7XG4gICAgICAgIHNlbGYuX3ZhbHVlID0gbmV3VmFsdWU7XG4gICAgICAgIGZpbmFsZShzZWxmKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdGhlbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBkb1Jlc29sdmUoYmluZCh0aGVuLCBuZXdWYWx1ZSksIHNlbGYpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICAgIHNlbGYuX3N0YXRlID0gMTtcbiAgICBzZWxmLl92YWx1ZSA9IG5ld1ZhbHVlO1xuICAgIGZpbmFsZShzZWxmKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJlamVjdChzZWxmLCBlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiByZWplY3Qoc2VsZiwgbmV3VmFsdWUpIHtcbiAgc2VsZi5fc3RhdGUgPSAyO1xuICBzZWxmLl92YWx1ZSA9IG5ld1ZhbHVlO1xuICBmaW5hbGUoc2VsZik7XG59XG5cbmZ1bmN0aW9uIGZpbmFsZShzZWxmKSB7XG4gIGlmIChzZWxmLl9zdGF0ZSA9PT0gMiAmJiBzZWxmLl9kZWZlcnJlZHMubGVuZ3RoID09PSAwKSB7XG4gICAgUHJvbWlzZS5faW1tZWRpYXRlRm4oZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoIXNlbGYuX2hhbmRsZWQpIHtcbiAgICAgICAgUHJvbWlzZS5fdW5oYW5kbGVkUmVqZWN0aW9uRm4oc2VsZi5fdmFsdWUpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHNlbGYuX2RlZmVycmVkcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIGhhbmRsZShzZWxmLCBzZWxmLl9kZWZlcnJlZHNbaV0pO1xuICB9XG4gIHNlbGYuX2RlZmVycmVkcyA9IG51bGw7XG59XG5cbi8qKlxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIEhhbmRsZXIob25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQsIHByb21pc2UpIHtcbiAgdGhpcy5vbkZ1bGZpbGxlZCA9IHR5cGVvZiBvbkZ1bGZpbGxlZCA9PT0gJ2Z1bmN0aW9uJyA/IG9uRnVsZmlsbGVkIDogbnVsbDtcbiAgdGhpcy5vblJlamVjdGVkID0gdHlwZW9mIG9uUmVqZWN0ZWQgPT09ICdmdW5jdGlvbicgPyBvblJlamVjdGVkIDogbnVsbDtcbiAgdGhpcy5wcm9taXNlID0gcHJvbWlzZTtcbn1cblxuLyoqXG4gKiBUYWtlIGEgcG90ZW50aWFsbHkgbWlzYmVoYXZpbmcgcmVzb2x2ZXIgZnVuY3Rpb24gYW5kIG1ha2Ugc3VyZVxuICogb25GdWxmaWxsZWQgYW5kIG9uUmVqZWN0ZWQgYXJlIG9ubHkgY2FsbGVkIG9uY2UuXG4gKlxuICogTWFrZXMgbm8gZ3VhcmFudGVlcyBhYm91dCBhc3luY2hyb255LlxuICovXG5mdW5jdGlvbiBkb1Jlc29sdmUoZm4sIHNlbGYpIHtcbiAgdmFyIGRvbmUgPSBmYWxzZTtcbiAgdHJ5IHtcbiAgICBmbihcbiAgICAgIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIGlmIChkb25lKSByZXR1cm47XG4gICAgICAgIGRvbmUgPSB0cnVlO1xuICAgICAgICByZXNvbHZlKHNlbGYsIHZhbHVlKTtcbiAgICAgIH0sXG4gICAgICBmdW5jdGlvbihyZWFzb24pIHtcbiAgICAgICAgaWYgKGRvbmUpIHJldHVybjtcbiAgICAgICAgZG9uZSA9IHRydWU7XG4gICAgICAgIHJlamVjdChzZWxmLCByZWFzb24pO1xuICAgICAgfVxuICAgICk7XG4gIH0gY2F0Y2ggKGV4KSB7XG4gICAgaWYgKGRvbmUpIHJldHVybjtcbiAgICBkb25lID0gdHJ1ZTtcbiAgICByZWplY3Qoc2VsZiwgZXgpO1xuICB9XG59XG5cblByb21pc2UucHJvdG90eXBlWydjYXRjaCddID0gZnVuY3Rpb24ob25SZWplY3RlZCkge1xuICByZXR1cm4gdGhpcy50aGVuKG51bGwsIG9uUmVqZWN0ZWQpO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUudGhlbiA9IGZ1bmN0aW9uKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkKSB7XG4gIC8vIEB0cy1pZ25vcmVcbiAgdmFyIHByb20gPSBuZXcgdGhpcy5jb25zdHJ1Y3Rvcihub29wKTtcblxuICBoYW5kbGUodGhpcywgbmV3IEhhbmRsZXIob25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQsIHByb20pKTtcbiAgcmV0dXJuIHByb207XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZVsnZmluYWxseSddID0gcHJvbWlzZUZpbmFsbHk7XG5cblByb21pc2UuYWxsID0gZnVuY3Rpb24oYXJyKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICBpZiAoIWFyciB8fCB0eXBlb2YgYXJyLmxlbmd0aCA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdQcm9taXNlLmFsbCBhY2NlcHRzIGFuIGFycmF5Jyk7XG4gICAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcnIpO1xuICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHJlc29sdmUoW10pO1xuICAgIHZhciByZW1haW5pbmcgPSBhcmdzLmxlbmd0aDtcblxuICAgIGZ1bmN0aW9uIHJlcyhpLCB2YWwpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmICh2YWwgJiYgKHR5cGVvZiB2YWwgPT09ICdvYmplY3QnIHx8IHR5cGVvZiB2YWwgPT09ICdmdW5jdGlvbicpKSB7XG4gICAgICAgICAgdmFyIHRoZW4gPSB2YWwudGhlbjtcbiAgICAgICAgICBpZiAodHlwZW9mIHRoZW4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRoZW4uY2FsbChcbiAgICAgICAgICAgICAgdmFsLFxuICAgICAgICAgICAgICBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgICAgICAgICByZXMoaSwgdmFsKTtcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgcmVqZWN0XG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBhcmdzW2ldID0gdmFsO1xuICAgICAgICBpZiAoLS1yZW1haW5pbmcgPT09IDApIHtcbiAgICAgICAgICByZXNvbHZlKGFyZ3MpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChleCkge1xuICAgICAgICByZWplY3QoZXgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7IGkrKykge1xuICAgICAgcmVzKGksIGFyZ3NbaV0pO1xuICAgIH1cbiAgfSk7XG59O1xuXG5Qcm9taXNlLnJlc29sdmUgPSBmdW5jdGlvbih2YWx1ZSkge1xuICBpZiAodmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZS5jb25zdHJ1Y3RvciA9PT0gUHJvbWlzZSkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuXG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlKSB7XG4gICAgcmVzb2x2ZSh2YWx1ZSk7XG4gIH0pO1xufTtcblxuUHJvbWlzZS5yZWplY3QgPSBmdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgcmVqZWN0KHZhbHVlKTtcbiAgfSk7XG59O1xuXG5Qcm9taXNlLnJhY2UgPSBmdW5jdGlvbih2YWx1ZXMpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSB2YWx1ZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIHZhbHVlc1tpXS50aGVuKHJlc29sdmUsIHJlamVjdCk7XG4gICAgfVxuICB9KTtcbn07XG5cbi8vIFVzZSBwb2x5ZmlsbCBmb3Igc2V0SW1tZWRpYXRlIGZvciBwZXJmb3JtYW5jZSBnYWluc1xuUHJvbWlzZS5faW1tZWRpYXRlRm4gPVxuICAodHlwZW9mIHNldEltbWVkaWF0ZSA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgIGZ1bmN0aW9uKGZuKSB7XG4gICAgICBzZXRJbW1lZGlhdGUoZm4pO1xuICAgIH0pIHx8XG4gIGZ1bmN0aW9uKGZuKSB7XG4gICAgc2V0VGltZW91dEZ1bmMoZm4sIDApO1xuICB9O1xuXG5Qcm9taXNlLl91bmhhbmRsZWRSZWplY3Rpb25GbiA9IGZ1bmN0aW9uIF91bmhhbmRsZWRSZWplY3Rpb25GbihlcnIpIHtcbiAgaWYgKHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJyAmJiBjb25zb2xlKSB7XG4gICAgY29uc29sZS53YXJuKCdQb3NzaWJsZSBVbmhhbmRsZWQgUHJvbWlzZSBSZWplY3Rpb246JywgZXJyKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlXG4gIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IFByb21pc2U7XG4iLCJleHBvcnQge1xuICAgIGluaXQsIGRlc3Ryb3ksIGNvbmZpZywgc2VuZCxcbn0gZnJvbSAnLi9yZXBvcnR1dGlsaXR5J1xuIiwiaW1wb3J0IGRlZmF1bHRzIGZyb20gJy4vZGVmYXVsdHMnXG5pbXBvcnQgc2VuZCBmcm9tICcuL3V0aWxzL3NlbmQnXG5cbmltcG9ydCAnLi9jc3Mvc3R5bGVzLmNzcydcblxuLyoqIENsYXNzIHJlcHJlc2VudGluZyByZXBvcnQgZm9ybSAqL1xuY2xhc3MgUmVwb3J0VXRpbGl0eSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMub25TZW5kID0gdGhpcy5vblNlbmQuYmluZCh0aGlzKVxuICAgICAgICB0aGlzLm9uU2VuZEVycm9yID0gdGhpcy5vblNlbmRFcnJvci5iaW5kKHRoaXMpXG4gICAgICAgIHRoaXMub25TZW5kU3VjY2VzcyA9IHRoaXMub25TZW5kU3VjY2Vzcy5iaW5kKHRoaXMpXG4gICAgICAgIHRoaXMub25DaGFuZ2VBdXRob3IgPSB0aGlzLm9uQ2hhbmdlQXV0aG9yLmJpbmQodGhpcylcbiAgICAgICAgdGhpcy5vbkNoYW5nZU1lc3NhZ2UgPSB0aGlzLm9uQ2hhbmdlTWVzc2FnZS5iaW5kKHRoaXMpXG4gICAgICAgIHRoaXMub25Ub2dnbGUgPSB0aGlzLm9uVG9nZ2xlLmJpbmQodGhpcylcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXIgYW5kIGJpbmQgZXZlbnRzIHRvIHJlcG9ydCBmb3JtIChgZWxgIG11c3QgYmUgc3BlY2lmaWVkIHRocm91Z2ggYGNvbmZpZ2AgbWV0aG9kKVxuICAgICAqIEByZXR1cm4ge1JlcG9ydFV0aWxpdHl9IEEgUmVwb3J0VXRpbGl0eSBpbnN0YW5jZShkb24ndCB1c2UgaXQgZGlyZWN0bHksIG9ubHkgZm9yIHRlc3RzKVxuICAgICAqL1xuICAgIGluaXQoKSB7XG4gICAgICAgIHRoaXMuZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuc3RhdGUuZWwpXG4gICAgICAgIGlmICghdGhpcy5lbCkgdGhyb3cgVHlwZUVycm9yKCdgZWxgIG11c3QgYmUgc3BlY2lmaWVkIHRocm91Z2ggYGNvbmZpZ2AgbWV0aG9kJylcblxuICAgICAgICB0aGlzLnJlbmRlcigpXG4gICAgICAgIHRoaXMuYmluZEV2ZW50cygpXG5cbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDbGVhciBkZXN0cm95IGZvcm1cbiAgICAgKi9cbiAgICBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLnVuYmluZEV2ZW50cygpXG4gICAgICAgIHRoaXMuZWwuaW5uZXJIVE1MID0gJydcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgbmV3IHN0YXRlIG1lcmdlcyB3aXRoIGRlZmF1bHRzXG4gICAgICogQHBhcmFtICB7b2JqZWN0fSBvcHRpb25zLiBzZWUgZGVmYXVsdHMgc2VjdGlvblxuICAgICAqL1xuICAgIGNvbmZpZyhvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0cywgb3B0aW9ucylcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFdmVudHMgYXJyYXksIHsgZWwsIGV2dCwgY2IgfSAoc2VsZWN0b3IsIGV2ZW50TmFtZSwgY2FsbGJhY2tOYW1lKVxuICAgICAqL1xuICAgIGV2ZW50cyA9IFtcbiAgICAgICAge1xuICAgICAgICAgICAgZWw6ICdbZGF0YS1uYW1lPVwic2VuZFwiXScsXG4gICAgICAgICAgICBldnQ6ICdjbGljaycsXG4gICAgICAgICAgICBjYjogJ29uU2VuZCcsXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIGVsOiAnW2RhdGEtbmFtZT1cImF1dGhvclwiXScsXG4gICAgICAgICAgICBldnQ6ICdjaGFuZ2UnLFxuICAgICAgICAgICAgY2I6ICdvbkNoYW5nZUF1dGhvcicsXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIGVsOiAnW2RhdGEtbmFtZT1cIm1lc3NhZ2VcIl0nLFxuICAgICAgICAgICAgZXZ0OiAnY2hhbmdlJyxcbiAgICAgICAgICAgIGNiOiAnb25DaGFuZ2VNZXNzYWdlJyxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgZWw6ICdbZGF0YS1uYW1lPVwiaGVhZGVyXCJdJyxcbiAgICAgICAgICAgIGV2dDogJ2NsaWNrJyxcbiAgICAgICAgICAgIGNiOiAnb25Ub2dnbGUnLFxuICAgICAgICB9LFxuICAgIF1cblxuICAgIGJpbmRFdmVudHMoKSB7XG4gICAgICAgIHRoaXMuZXZlbnRzLmZvckVhY2goKHsgZWwsIGV2dCwgY2IgfSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZG9tRWxlbWVudHMgPSB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3JBbGwoZWwpXG4gICAgICAgICAgICBpZiAoZG9tRWxlbWVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgQXJyYXkucHJvdG90eXBlLm1hcC5jYWxsKGRvbUVsZW1lbnRzLCAoZG9tRWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBkb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoZXZ0LCB0aGlzW2NiXSwgZmFsc2UpXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICB1bmJpbmRFdmVudHMoKSB7XG4gICAgICAgIHRoaXMuZXZlbnRzLmZvckVhY2goKHsgZWwsIGV2dCwgY2IgfSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZG9tRWxlbWVudHMgPSB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3JBbGwoZWwpXG4gICAgICAgICAgICBpZiAoZG9tRWxlbWVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgQXJyYXkucHJvdG90eXBlLm1hcC5jYWxsKGRvbUVsZW1lbnRzLCAoZG9tRWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBkb21FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZ0LCB0aGlzW2NiXSwgZmFsc2UpXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNZXJnZXMgc3RhdGUgd2l0aCBuZXdTdGF0ZSBhbmQgdXBkYXRlcyByZXBvcnQgZm9ybVxuICAgICAqIEBwYXJhbSAge29iamVjdH0gbmV3U3RhdGVcbiAgICAgKi9cbiAgICBzZXRTdGF0ZShuZXdTdGF0ZSkge1xuICAgICAgICBjb25zdCBwcmV2U3RhdGUgPSB0aGlzLnN0YXRlXG4gICAgICAgIHRoaXMuc3RhdGUgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLnN0YXRlLCBuZXdTdGF0ZSlcbiAgICAgICAgdGhpcy51cGRhdGUocHJldlN0YXRlKVxuICAgIH1cblxuICAgIG9uVG9nZ2xlKCkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIG1pbmltaXplZDogIXRoaXMuc3RhdGUubWluaW1pemVkLFxuICAgICAgICB9KVxuICAgIH1cblxuICAgIG9uQ2hhbmdlQXV0aG9yKGUpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBuYW1lOiBlLmN1cnJlbnRUYXJnZXQudmFsdWUsXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgb25DaGFuZ2VNZXNzYWdlKGUpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBtZXNzYWdlOiBlLmN1cnJlbnRUYXJnZXQudmFsdWUsXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSGFuZGxlcyBzZW5kIGJ1dHRvbiBjbGlja1xuICAgICAqL1xuICAgIG9uU2VuZChlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKVxuXG4gICAgICAgIGNvbnN0IHsgbmFtZSwgbWVzc2FnZSwgdXJsIH0gPSB0aGlzLnN0YXRlXG5cbiAgICAgICAgaWYgKCF1cmwpIHJldHVyblxuXG4gICAgICAgIC8vIHNob3cgbG9hZGVyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpc1NlbmRpbmc6IHRydWUgfSlcblxuICAgICAgICAvLyBzZW5kaW5nIG1lc3NhZ2UgdG8gdGhlIHNlcnZlclxuICAgICAgICBzZW5kKHVybCwgeyBuYW1lLCBtZXNzYWdlIH0pLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uU2VuZFN1Y2Nlc3MoKVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzcG9uc2Uuc3RhdHVzVGV4dClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkuY2F0Y2godGhpcy5vblNlbmRFcnJvcilcbiAgICB9XG5cbiAgICBvblNlbmRTdWNjZXNzKCkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIG5hbWU6ICcnLFxuICAgICAgICAgICAgbWVzc2FnZTogJycsXG4gICAgICAgICAgICBpc1NlbmRpbmc6IGZhbHNlLFxuICAgICAgICB9KVxuICAgIH1cblxuICAgIG9uU2VuZEVycm9yKCkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGlzRXJyb3I6IHRydWUsXG4gICAgICAgICAgICBpc1NlbmRpbmc6IGZhbHNlLFxuICAgICAgICB9KVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgZm9ybSBhY2NvcmRpbmcgdG8gc3RhdGUgY2hhbmdlXG4gICAgICogQHBhcmFtICB7b2JqZWN0fSBwcmV2aW91cyBzdGF0ZSBvYmplY3RcbiAgICAgKi9cbiAgICB1cGRhdGUocHJldlN0YXRlKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLm1pbmltaXplZCkge1xuICAgICAgICAgICAgdGhpcy5lbC5xdWVyeVNlbGVjdG9yKCcucnAtY29udGFpbmVyJykuY2xhc3NMaXN0LmFkZCgncnAtY29udGFpbmVyX21pbmltaXplZCcpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3IoJy5ycC1jb250YWluZXInKS5jbGFzc0xpc3QucmVtb3ZlKCdycC1jb250YWluZXJfbWluaW1pemVkJylcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3IoJy5ycC1jb250YWluZXJfX2NvdmVyX2xvYWRpbmcnKS5zdHlsZS5kaXNwbGF5ID0gdGhpcy5zdGF0ZS5pc1NlbmRpbmcgPyAnYmxvY2snIDogJ25vbmUnXG4gICAgICAgIHRoaXMuZWwucXVlcnlTZWxlY3RvcignLnJwLWNvbnRhaW5lcl9fY292ZXJfZXJyb3InKS5zdHlsZS5kaXNwbGF5ID0gdGhpcy5zdGF0ZS5pc0Vycm9yID8gJ2Jsb2NrJyA6ICdub25lJ1xuXG4gICAgICAgIGlmIChwcmV2U3RhdGUubmFtZSAhPT0gdGhpcy5zdGF0ZS5uYW1lKSB7XG4gICAgICAgICAgICB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW5hbWU9XCJhdXRob3JcIl0nKS52YWx1ZSA9IHRoaXMuc3RhdGUubmFtZVxuICAgICAgICB9XG4gICAgICAgIGlmIChwcmV2U3RhdGUubWVzc2FnZSAhPT0gdGhpcy5zdGF0ZS5tZXNzYWdlKSB7XG4gICAgICAgICAgICB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW5hbWU9XCJtZXNzYWdlXCJdJykudmFsdWUgPSB0aGlzLnN0YXRlLm1lc3NhZ2VcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgdGhpcy5lbC5pbm5lckhUTUwgPSAnJ1xuICAgICAgICB0aGlzLmVsLmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIHRoaXMuc3RhdGUudGVtcGxhdGUpXG5cbiAgICAgICAgY29uc3QgZWwgPSB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3IoJy5ycC1jb250YWluZXInKVxuICAgICAgICBpZiAoZWwgJiYgdGhpcy5zdGF0ZS5taW5pbWl6ZWQpIGVsLmNsYXNzTGlzdC5hZGQoJ21pbmltaXplZCcpXG4gICAgfVxufVxuXG5jb25zdCByZXBvcnRVdGlsaXR5ID0gbmV3IFJlcG9ydFV0aWxpdHkoKVxuXG5jb25zdCBpbml0ID0gcmVwb3J0VXRpbGl0eS5pbml0LmJpbmQocmVwb3J0VXRpbGl0eSlcbmNvbnN0IGNvbmZpZyA9IHJlcG9ydFV0aWxpdHkuY29uZmlnLmJpbmQocmVwb3J0VXRpbGl0eSlcbmNvbnN0IGRlc3Ryb3kgPSByZXBvcnRVdGlsaXR5LmRlc3Ryb3kuYmluZChyZXBvcnRVdGlsaXR5KVxuXG5leHBvcnQge1xuICAgIGluaXQsIGNvbmZpZywgc2VuZCwgZGVzdHJveSxcbn1cbiIsImltcG9ydCBodG1sIGZyb20gJy4vdGVtcGxhdGVzL2Zvcm0uaHRtbCdcblxuY29uc3QgZGVmYXVsdHMgPSB7XG4gICAgLyoqIGVuZHBvaW50IHRvIHNlbmQgbG9ncyAqL1xuICAgIHVybDogJy9yZXBvcnQnLFxuICAgIC8qKiBzZXQgd2luZG93IGNvbXBhY3QgbW9kZSAgKi9cbiAgICBtaW5pbWl6ZWQ6IHRydWUsXG4gICAgLyoqIHNldCBodG1sIGZvciByZW5kZXIgZnVuY3Rpb24gKi9cbiAgICB0ZW1wbGF0ZTogaHRtbCxcbn1cblxuZXhwb3J0IGRlZmF1bHQgZGVmYXVsdHNcbiIsIm1vZHVsZS5leHBvcnRzID0gXCI8ZGl2IGNsYXNzPXJwLWNvbnRhaW5lcj4gPGRpdiBjbGFzcz1ycC1jb250YWluZXJfX2hlYWRlciBkYXRhLW5hbWU9aGVhZGVyPiDQndCw0L/QuNGI0LjRgtC1INC90LDQvCDQvtCxINC+0YjQuNCx0LrQtSEgPGRpdiBjbGFzcz1ycC1jb250YWluZXJfX2Rpc21pc3M+PC9kaXY+IDwvZGl2PiA8ZGl2IGNsYXNzPXJwLWNvbnRhaW5lcl9fd3JhcHBlcj4gPGZvcm0+IDxmaWVsZHNldD4gPGRpdiBjbGFzcz1ycC1jb250YWluZXJfX2F1dGhvcj4gPGxhYmVsPiDQktCw0YjQtSDQmNC80Y8gPGlucHV0IGRhdGEtbmFtZT1hdXRob3IgY2xhc3M9cnAtY29udGFpbmVyX19maWVsZCB0eXBlPXRleHQgLz4gPC9sYWJlbD4gPC9kaXY+IDxkaXYgY2xhc3M9cnAtY29udGFpbmVyX19tZXNzYWdlPiA8bGFiZWw+INCe0YHRgtCw0LLRjNGC0LUg0YHQvtC+0LHRidC10L3QuNC1IDx0ZXh0YXJlYSBkYXRhLW5hbWU9bWVzc2FnZSBjbGFzcz1ycC1jb250YWluZXJfX2ZpZWxkIHR5cGU9dGV4dD48L3RleHRhcmVhPiA8L2xhYmVsPiA8L2Rpdj4gPC9maWVsZHNldD4gPGRpdiBjbGFzcz1ycC1jb250YWluZXJfX2FjdGlvbnM+IDxidXR0b24gY2xhc3M9cnAtY29udGFpbmVyX19idXR0b24gZGF0YS1uYW1lPXNlbmQ+0J7RgtC/0YDQsNCy0LjRgtGMPC9idXR0b24+IDwvZGl2PiA8ZGl2IGNsYXNzPVxcXCJycC1jb250YWluZXJfX2NvdmVyIHJwLWNvbnRhaW5lcl9fY292ZXJfbG9hZGluZ1xcXCI+0J7RgtC/0YDQsNCy0LvRj9C10LwsINC20LTQuNGC0LUuLi48L2Rpdj4gPGRpdiBjbGFzcz1cXFwicnAtY29udGFpbmVyX19jb3ZlciBycC1jb250YWluZXJfX2NvdmVyX2Vycm9yXFxcIj4gPGRpdiBjbGFzcz1ycC1jb250YWluZXJfX2ZpZWxkPtCj0L/RgSwg0YfRgtC+LdGC0L4g0L/QvtGI0LvQviDQvdC1INGC0LDQui4uLjwvZGl2PiA8aW5wdXQgdHlwZT1zdWJtaXQgY2xhc3M9cnAtY29udGFpbmVyX19idXR0b24gZGF0YS1uYW1lPXNlbmQgdmFsdWU9XFxcItCe0YLQv9GA0LDQstC40YLRjCDQtdGJ0LUg0YDQsNC3XFxcIj4gPC9kaXY+IDwvZm9ybT4gPC9kaXY+IDwvZGl2PlwiOyIsImltcG9ydCAnd2hhdHdnLWZldGNoJ1xuaW1wb3J0ICdwcm9taXNlLXBvbHlmaWxsL3NyYy9wb2x5ZmlsbCdcblxuLyoqXG4gKiBzZW5kcyBQT1NUIHRvIHVybCB3aXRoIHsgbWVzc2FnZSwgbmFtZSB9IGluIEpTT04uXG4gKiBAcGFyYW0ge3VybH0gdXJsXG4gKiBAcGFyYW0ge29iamVjdH0gb3B0aW9uc1xuICogQHJldHVybnMge1Byb21pc2V9IEEgUHJvbWlzZSBvYmplY3RcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc2VuZCh1cmwsIG9wdGlvbnMgPSB7fSkge1xuICAgIGNvbnN0IHsgbWVzc2FnZSwgbmFtZSB9ID0gb3B0aW9uc1xuXG4gICAgcmV0dXJuIGZldGNoKHVybCwge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgIG1lc3NhZ2UsXG4gICAgICAgIH0pLFxuICAgIH0pXG59XG4iLCIoZnVuY3Rpb24oc2VsZikge1xuICAndXNlIHN0cmljdCc7XG5cbiAgaWYgKHNlbGYuZmV0Y2gpIHtcbiAgICByZXR1cm5cbiAgfVxuXG4gIHZhciBzdXBwb3J0ID0ge1xuICAgIHNlYXJjaFBhcmFtczogJ1VSTFNlYXJjaFBhcmFtcycgaW4gc2VsZixcbiAgICBpdGVyYWJsZTogJ1N5bWJvbCcgaW4gc2VsZiAmJiAnaXRlcmF0b3InIGluIFN5bWJvbCxcbiAgICBibG9iOiAnRmlsZVJlYWRlcicgaW4gc2VsZiAmJiAnQmxvYicgaW4gc2VsZiAmJiAoZnVuY3Rpb24oKSB7XG4gICAgICB0cnkge1xuICAgICAgICBuZXcgQmxvYigpXG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9XG4gICAgfSkoKSxcbiAgICBmb3JtRGF0YTogJ0Zvcm1EYXRhJyBpbiBzZWxmLFxuICAgIGFycmF5QnVmZmVyOiAnQXJyYXlCdWZmZXInIGluIHNlbGZcbiAgfVxuXG4gIGlmIChzdXBwb3J0LmFycmF5QnVmZmVyKSB7XG4gICAgdmFyIHZpZXdDbGFzc2VzID0gW1xuICAgICAgJ1tvYmplY3QgSW50OEFycmF5XScsXG4gICAgICAnW29iamVjdCBVaW50OEFycmF5XScsXG4gICAgICAnW29iamVjdCBVaW50OENsYW1wZWRBcnJheV0nLFxuICAgICAgJ1tvYmplY3QgSW50MTZBcnJheV0nLFxuICAgICAgJ1tvYmplY3QgVWludDE2QXJyYXldJyxcbiAgICAgICdbb2JqZWN0IEludDMyQXJyYXldJyxcbiAgICAgICdbb2JqZWN0IFVpbnQzMkFycmF5XScsXG4gICAgICAnW29iamVjdCBGbG9hdDMyQXJyYXldJyxcbiAgICAgICdbb2JqZWN0IEZsb2F0NjRBcnJheV0nXG4gICAgXVxuXG4gICAgdmFyIGlzRGF0YVZpZXcgPSBmdW5jdGlvbihvYmopIHtcbiAgICAgIHJldHVybiBvYmogJiYgRGF0YVZpZXcucHJvdG90eXBlLmlzUHJvdG90eXBlT2Yob2JqKVxuICAgIH1cblxuICAgIHZhciBpc0FycmF5QnVmZmVyVmlldyA9IEFycmF5QnVmZmVyLmlzVmlldyB8fCBmdW5jdGlvbihvYmopIHtcbiAgICAgIHJldHVybiBvYmogJiYgdmlld0NsYXNzZXMuaW5kZXhPZihPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKSkgPiAtMVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIG5vcm1hbGl6ZU5hbWUobmFtZSkge1xuICAgIGlmICh0eXBlb2YgbmFtZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgIG5hbWUgPSBTdHJpbmcobmFtZSlcbiAgICB9XG4gICAgaWYgKC9bXmEtejAtOVxcLSMkJSYnKisuXFxeX2B8fl0vaS50ZXN0KG5hbWUpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIGNoYXJhY3RlciBpbiBoZWFkZXIgZmllbGQgbmFtZScpXG4gICAgfVxuICAgIHJldHVybiBuYW1lLnRvTG93ZXJDYXNlKClcbiAgfVxuXG4gIGZ1bmN0aW9uIG5vcm1hbGl6ZVZhbHVlKHZhbHVlKSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHZhbHVlID0gU3RyaW5nKHZhbHVlKVxuICAgIH1cbiAgICByZXR1cm4gdmFsdWVcbiAgfVxuXG4gIC8vIEJ1aWxkIGEgZGVzdHJ1Y3RpdmUgaXRlcmF0b3IgZm9yIHRoZSB2YWx1ZSBsaXN0XG4gIGZ1bmN0aW9uIGl0ZXJhdG9yRm9yKGl0ZW1zKSB7XG4gICAgdmFyIGl0ZXJhdG9yID0ge1xuICAgICAgbmV4dDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGl0ZW1zLnNoaWZ0KClcbiAgICAgICAgcmV0dXJuIHtkb25lOiB2YWx1ZSA9PT0gdW5kZWZpbmVkLCB2YWx1ZTogdmFsdWV9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHN1cHBvcnQuaXRlcmFibGUpIHtcbiAgICAgIGl0ZXJhdG9yW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGl0ZXJhdG9yXG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGl0ZXJhdG9yXG4gIH1cblxuICBmdW5jdGlvbiBIZWFkZXJzKGhlYWRlcnMpIHtcbiAgICB0aGlzLm1hcCA9IHt9XG5cbiAgICBpZiAoaGVhZGVycyBpbnN0YW5jZW9mIEhlYWRlcnMpIHtcbiAgICAgIGhlYWRlcnMuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSwgbmFtZSkge1xuICAgICAgICB0aGlzLmFwcGVuZChuYW1lLCB2YWx1ZSlcbiAgICAgIH0sIHRoaXMpXG4gICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGhlYWRlcnMpKSB7XG4gICAgICBoZWFkZXJzLmZvckVhY2goZnVuY3Rpb24oaGVhZGVyKSB7XG4gICAgICAgIHRoaXMuYXBwZW5kKGhlYWRlclswXSwgaGVhZGVyWzFdKVxuICAgICAgfSwgdGhpcylcbiAgICB9IGVsc2UgaWYgKGhlYWRlcnMpIHtcbiAgICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGhlYWRlcnMpLmZvckVhY2goZnVuY3Rpb24obmFtZSkge1xuICAgICAgICB0aGlzLmFwcGVuZChuYW1lLCBoZWFkZXJzW25hbWVdKVxuICAgICAgfSwgdGhpcylcbiAgICB9XG4gIH1cblxuICBIZWFkZXJzLnByb3RvdHlwZS5hcHBlbmQgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICAgIG5hbWUgPSBub3JtYWxpemVOYW1lKG5hbWUpXG4gICAgdmFsdWUgPSBub3JtYWxpemVWYWx1ZSh2YWx1ZSlcbiAgICB2YXIgb2xkVmFsdWUgPSB0aGlzLm1hcFtuYW1lXVxuICAgIHRoaXMubWFwW25hbWVdID0gb2xkVmFsdWUgPyBvbGRWYWx1ZSsnLCcrdmFsdWUgOiB2YWx1ZVxuICB9XG5cbiAgSGVhZGVycy5wcm90b3R5cGVbJ2RlbGV0ZSddID0gZnVuY3Rpb24obmFtZSkge1xuICAgIGRlbGV0ZSB0aGlzLm1hcFtub3JtYWxpemVOYW1lKG5hbWUpXVxuICB9XG5cbiAgSGVhZGVycy5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24obmFtZSkge1xuICAgIG5hbWUgPSBub3JtYWxpemVOYW1lKG5hbWUpXG4gICAgcmV0dXJuIHRoaXMuaGFzKG5hbWUpID8gdGhpcy5tYXBbbmFtZV0gOiBudWxsXG4gIH1cblxuICBIZWFkZXJzLnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbihuYW1lKSB7XG4gICAgcmV0dXJuIHRoaXMubWFwLmhhc093blByb3BlcnR5KG5vcm1hbGl6ZU5hbWUobmFtZSkpXG4gIH1cblxuICBIZWFkZXJzLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICAgIHRoaXMubWFwW25vcm1hbGl6ZU5hbWUobmFtZSldID0gbm9ybWFsaXplVmFsdWUodmFsdWUpXG4gIH1cblxuICBIZWFkZXJzLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24oY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgICBmb3IgKHZhciBuYW1lIGluIHRoaXMubWFwKSB7XG4gICAgICBpZiAodGhpcy5tYXAuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgICAgY2FsbGJhY2suY2FsbCh0aGlzQXJnLCB0aGlzLm1hcFtuYW1lXSwgbmFtZSwgdGhpcylcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBIZWFkZXJzLnByb3RvdHlwZS5rZXlzID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGl0ZW1zID0gW11cbiAgICB0aGlzLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIG5hbWUpIHsgaXRlbXMucHVzaChuYW1lKSB9KVxuICAgIHJldHVybiBpdGVyYXRvckZvcihpdGVtcylcbiAgfVxuXG4gIEhlYWRlcnMucHJvdG90eXBlLnZhbHVlcyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBpdGVtcyA9IFtdXG4gICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlKSB7IGl0ZW1zLnB1c2godmFsdWUpIH0pXG4gICAgcmV0dXJuIGl0ZXJhdG9yRm9yKGl0ZW1zKVxuICB9XG5cbiAgSGVhZGVycy5wcm90b3R5cGUuZW50cmllcyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBpdGVtcyA9IFtdXG4gICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7IGl0ZW1zLnB1c2goW25hbWUsIHZhbHVlXSkgfSlcbiAgICByZXR1cm4gaXRlcmF0b3JGb3IoaXRlbXMpXG4gIH1cblxuICBpZiAoc3VwcG9ydC5pdGVyYWJsZSkge1xuICAgIEhlYWRlcnMucHJvdG90eXBlW1N5bWJvbC5pdGVyYXRvcl0gPSBIZWFkZXJzLnByb3RvdHlwZS5lbnRyaWVzXG4gIH1cblxuICBmdW5jdGlvbiBjb25zdW1lZChib2R5KSB7XG4gICAgaWYgKGJvZHkuYm9keVVzZWQpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgVHlwZUVycm9yKCdBbHJlYWR5IHJlYWQnKSlcbiAgICB9XG4gICAgYm9keS5ib2R5VXNlZCA9IHRydWVcbiAgfVxuXG4gIGZ1bmN0aW9uIGZpbGVSZWFkZXJSZWFkeShyZWFkZXIpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJlc29sdmUocmVhZGVyLnJlc3VsdClcbiAgICAgIH1cbiAgICAgIHJlYWRlci5vbmVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJlamVjdChyZWFkZXIuZXJyb3IpXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlYWRCbG9iQXNBcnJheUJ1ZmZlcihibG9iKSB7XG4gICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKClcbiAgICB2YXIgcHJvbWlzZSA9IGZpbGVSZWFkZXJSZWFkeShyZWFkZXIpXG4gICAgcmVhZGVyLnJlYWRBc0FycmF5QnVmZmVyKGJsb2IpXG4gICAgcmV0dXJuIHByb21pc2VcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlYWRCbG9iQXNUZXh0KGJsb2IpIHtcbiAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKVxuICAgIHZhciBwcm9taXNlID0gZmlsZVJlYWRlclJlYWR5KHJlYWRlcilcbiAgICByZWFkZXIucmVhZEFzVGV4dChibG9iKVxuICAgIHJldHVybiBwcm9taXNlXG4gIH1cblxuICBmdW5jdGlvbiByZWFkQXJyYXlCdWZmZXJBc1RleHQoYnVmKSB7XG4gICAgdmFyIHZpZXcgPSBuZXcgVWludDhBcnJheShidWYpXG4gICAgdmFyIGNoYXJzID0gbmV3IEFycmF5KHZpZXcubGVuZ3RoKVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2aWV3Lmxlbmd0aDsgaSsrKSB7XG4gICAgICBjaGFyc1tpXSA9IFN0cmluZy5mcm9tQ2hhckNvZGUodmlld1tpXSlcbiAgICB9XG4gICAgcmV0dXJuIGNoYXJzLmpvaW4oJycpXG4gIH1cblxuICBmdW5jdGlvbiBidWZmZXJDbG9uZShidWYpIHtcbiAgICBpZiAoYnVmLnNsaWNlKSB7XG4gICAgICByZXR1cm4gYnVmLnNsaWNlKDApXG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciB2aWV3ID0gbmV3IFVpbnQ4QXJyYXkoYnVmLmJ5dGVMZW5ndGgpXG4gICAgICB2aWV3LnNldChuZXcgVWludDhBcnJheShidWYpKVxuICAgICAgcmV0dXJuIHZpZXcuYnVmZmVyXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gQm9keSgpIHtcbiAgICB0aGlzLmJvZHlVc2VkID0gZmFsc2VcblxuICAgIHRoaXMuX2luaXRCb2R5ID0gZnVuY3Rpb24oYm9keSkge1xuICAgICAgdGhpcy5fYm9keUluaXQgPSBib2R5XG4gICAgICBpZiAoIWJvZHkpIHtcbiAgICAgICAgdGhpcy5fYm9keVRleHQgPSAnJ1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgYm9keSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgdGhpcy5fYm9keVRleHQgPSBib2R5XG4gICAgICB9IGVsc2UgaWYgKHN1cHBvcnQuYmxvYiAmJiBCbG9iLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGJvZHkpKSB7XG4gICAgICAgIHRoaXMuX2JvZHlCbG9iID0gYm9keVxuICAgICAgfSBlbHNlIGlmIChzdXBwb3J0LmZvcm1EYXRhICYmIEZvcm1EYXRhLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGJvZHkpKSB7XG4gICAgICAgIHRoaXMuX2JvZHlGb3JtRGF0YSA9IGJvZHlcbiAgICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5zZWFyY2hQYXJhbXMgJiYgVVJMU2VhcmNoUGFyYW1zLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGJvZHkpKSB7XG4gICAgICAgIHRoaXMuX2JvZHlUZXh0ID0gYm9keS50b1N0cmluZygpXG4gICAgICB9IGVsc2UgaWYgKHN1cHBvcnQuYXJyYXlCdWZmZXIgJiYgc3VwcG9ydC5ibG9iICYmIGlzRGF0YVZpZXcoYm9keSkpIHtcbiAgICAgICAgdGhpcy5fYm9keUFycmF5QnVmZmVyID0gYnVmZmVyQ2xvbmUoYm9keS5idWZmZXIpXG4gICAgICAgIC8vIElFIDEwLTExIGNhbid0IGhhbmRsZSBhIERhdGFWaWV3IGJvZHkuXG4gICAgICAgIHRoaXMuX2JvZHlJbml0ID0gbmV3IEJsb2IoW3RoaXMuX2JvZHlBcnJheUJ1ZmZlcl0pXG4gICAgICB9IGVsc2UgaWYgKHN1cHBvcnQuYXJyYXlCdWZmZXIgJiYgKEFycmF5QnVmZmVyLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGJvZHkpIHx8IGlzQXJyYXlCdWZmZXJWaWV3KGJvZHkpKSkge1xuICAgICAgICB0aGlzLl9ib2R5QXJyYXlCdWZmZXIgPSBidWZmZXJDbG9uZShib2R5KVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd1bnN1cHBvcnRlZCBCb2R5SW5pdCB0eXBlJylcbiAgICAgIH1cblxuICAgICAgaWYgKCF0aGlzLmhlYWRlcnMuZ2V0KCdjb250ZW50LXR5cGUnKSkge1xuICAgICAgICBpZiAodHlwZW9mIGJvZHkgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgdGhpcy5oZWFkZXJzLnNldCgnY29udGVudC10eXBlJywgJ3RleHQvcGxhaW47Y2hhcnNldD1VVEYtOCcpXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5fYm9keUJsb2IgJiYgdGhpcy5fYm9keUJsb2IudHlwZSkge1xuICAgICAgICAgIHRoaXMuaGVhZGVycy5zZXQoJ2NvbnRlbnQtdHlwZScsIHRoaXMuX2JvZHlCbG9iLnR5cGUpXG4gICAgICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5zZWFyY2hQYXJhbXMgJiYgVVJMU2VhcmNoUGFyYW1zLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGJvZHkpKSB7XG4gICAgICAgICAgdGhpcy5oZWFkZXJzLnNldCgnY29udGVudC10eXBlJywgJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDtjaGFyc2V0PVVURi04JylcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChzdXBwb3J0LmJsb2IpIHtcbiAgICAgIHRoaXMuYmxvYiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgcmVqZWN0ZWQgPSBjb25zdW1lZCh0aGlzKVxuICAgICAgICBpZiAocmVqZWN0ZWQpIHtcbiAgICAgICAgICByZXR1cm4gcmVqZWN0ZWRcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9ib2R5QmxvYikge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5fYm9keUJsb2IpXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5fYm9keUFycmF5QnVmZmVyKSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShuZXcgQmxvYihbdGhpcy5fYm9keUFycmF5QnVmZmVyXSkpXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5fYm9keUZvcm1EYXRhKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdjb3VsZCBub3QgcmVhZCBGb3JtRGF0YSBib2R5IGFzIGJsb2InKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobmV3IEJsb2IoW3RoaXMuX2JvZHlUZXh0XSkpXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdGhpcy5hcnJheUJ1ZmZlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5fYm9keUFycmF5QnVmZmVyKSB7XG4gICAgICAgICAgcmV0dXJuIGNvbnN1bWVkKHRoaXMpIHx8IFByb21pc2UucmVzb2x2ZSh0aGlzLl9ib2R5QXJyYXlCdWZmZXIpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuYmxvYigpLnRoZW4ocmVhZEJsb2JBc0FycmF5QnVmZmVyKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy50ZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgcmVqZWN0ZWQgPSBjb25zdW1lZCh0aGlzKVxuICAgICAgaWYgKHJlamVjdGVkKSB7XG4gICAgICAgIHJldHVybiByZWplY3RlZFxuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5fYm9keUJsb2IpIHtcbiAgICAgICAgcmV0dXJuIHJlYWRCbG9iQXNUZXh0KHRoaXMuX2JvZHlCbG9iKVxuICAgICAgfSBlbHNlIGlmICh0aGlzLl9ib2R5QXJyYXlCdWZmZXIpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZWFkQXJyYXlCdWZmZXJBc1RleHQodGhpcy5fYm9keUFycmF5QnVmZmVyKSlcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5fYm9keUZvcm1EYXRhKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignY291bGQgbm90IHJlYWQgRm9ybURhdGEgYm9keSBhcyB0ZXh0JylcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5fYm9keVRleHQpXG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHN1cHBvcnQuZm9ybURhdGEpIHtcbiAgICAgIHRoaXMuZm9ybURhdGEgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGV4dCgpLnRoZW4oZGVjb2RlKVxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuanNvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMudGV4dCgpLnRoZW4oSlNPTi5wYXJzZSlcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLy8gSFRUUCBtZXRob2RzIHdob3NlIGNhcGl0YWxpemF0aW9uIHNob3VsZCBiZSBub3JtYWxpemVkXG4gIHZhciBtZXRob2RzID0gWydERUxFVEUnLCAnR0VUJywgJ0hFQUQnLCAnT1BUSU9OUycsICdQT1NUJywgJ1BVVCddXG5cbiAgZnVuY3Rpb24gbm9ybWFsaXplTWV0aG9kKG1ldGhvZCkge1xuICAgIHZhciB1cGNhc2VkID0gbWV0aG9kLnRvVXBwZXJDYXNlKClcbiAgICByZXR1cm4gKG1ldGhvZHMuaW5kZXhPZih1cGNhc2VkKSA+IC0xKSA/IHVwY2FzZWQgOiBtZXRob2RcbiAgfVxuXG4gIGZ1bmN0aW9uIFJlcXVlc3QoaW5wdXQsIG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fVxuICAgIHZhciBib2R5ID0gb3B0aW9ucy5ib2R5XG5cbiAgICBpZiAoaW5wdXQgaW5zdGFuY2VvZiBSZXF1ZXN0KSB7XG4gICAgICBpZiAoaW5wdXQuYm9keVVzZWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQWxyZWFkeSByZWFkJylcbiAgICAgIH1cbiAgICAgIHRoaXMudXJsID0gaW5wdXQudXJsXG4gICAgICB0aGlzLmNyZWRlbnRpYWxzID0gaW5wdXQuY3JlZGVudGlhbHNcbiAgICAgIGlmICghb3B0aW9ucy5oZWFkZXJzKSB7XG4gICAgICAgIHRoaXMuaGVhZGVycyA9IG5ldyBIZWFkZXJzKGlucHV0LmhlYWRlcnMpXG4gICAgICB9XG4gICAgICB0aGlzLm1ldGhvZCA9IGlucHV0Lm1ldGhvZFxuICAgICAgdGhpcy5tb2RlID0gaW5wdXQubW9kZVxuICAgICAgaWYgKCFib2R5ICYmIGlucHV0Ll9ib2R5SW5pdCAhPSBudWxsKSB7XG4gICAgICAgIGJvZHkgPSBpbnB1dC5fYm9keUluaXRcbiAgICAgICAgaW5wdXQuYm9keVVzZWQgPSB0cnVlXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMudXJsID0gU3RyaW5nKGlucHV0KVxuICAgIH1cblxuICAgIHRoaXMuY3JlZGVudGlhbHMgPSBvcHRpb25zLmNyZWRlbnRpYWxzIHx8IHRoaXMuY3JlZGVudGlhbHMgfHwgJ29taXQnXG4gICAgaWYgKG9wdGlvbnMuaGVhZGVycyB8fCAhdGhpcy5oZWFkZXJzKSB7XG4gICAgICB0aGlzLmhlYWRlcnMgPSBuZXcgSGVhZGVycyhvcHRpb25zLmhlYWRlcnMpXG4gICAgfVxuICAgIHRoaXMubWV0aG9kID0gbm9ybWFsaXplTWV0aG9kKG9wdGlvbnMubWV0aG9kIHx8IHRoaXMubWV0aG9kIHx8ICdHRVQnKVxuICAgIHRoaXMubW9kZSA9IG9wdGlvbnMubW9kZSB8fCB0aGlzLm1vZGUgfHwgbnVsbFxuICAgIHRoaXMucmVmZXJyZXIgPSBudWxsXG5cbiAgICBpZiAoKHRoaXMubWV0aG9kID09PSAnR0VUJyB8fCB0aGlzLm1ldGhvZCA9PT0gJ0hFQUQnKSAmJiBib2R5KSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdCb2R5IG5vdCBhbGxvd2VkIGZvciBHRVQgb3IgSEVBRCByZXF1ZXN0cycpXG4gICAgfVxuICAgIHRoaXMuX2luaXRCb2R5KGJvZHkpXG4gIH1cblxuICBSZXF1ZXN0LnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBuZXcgUmVxdWVzdCh0aGlzLCB7IGJvZHk6IHRoaXMuX2JvZHlJbml0IH0pXG4gIH1cblxuICBmdW5jdGlvbiBkZWNvZGUoYm9keSkge1xuICAgIHZhciBmb3JtID0gbmV3IEZvcm1EYXRhKClcbiAgICBib2R5LnRyaW0oKS5zcGxpdCgnJicpLmZvckVhY2goZnVuY3Rpb24oYnl0ZXMpIHtcbiAgICAgIGlmIChieXRlcykge1xuICAgICAgICB2YXIgc3BsaXQgPSBieXRlcy5zcGxpdCgnPScpXG4gICAgICAgIHZhciBuYW1lID0gc3BsaXQuc2hpZnQoKS5yZXBsYWNlKC9cXCsvZywgJyAnKVxuICAgICAgICB2YXIgdmFsdWUgPSBzcGxpdC5qb2luKCc9JykucmVwbGFjZSgvXFwrL2csICcgJylcbiAgICAgICAgZm9ybS5hcHBlbmQoZGVjb2RlVVJJQ29tcG9uZW50KG5hbWUpLCBkZWNvZGVVUklDb21wb25lbnQodmFsdWUpKVxuICAgICAgfVxuICAgIH0pXG4gICAgcmV0dXJuIGZvcm1cbiAgfVxuXG4gIGZ1bmN0aW9uIHBhcnNlSGVhZGVycyhyYXdIZWFkZXJzKSB7XG4gICAgdmFyIGhlYWRlcnMgPSBuZXcgSGVhZGVycygpXG4gICAgLy8gUmVwbGFjZSBpbnN0YW5jZXMgb2YgXFxyXFxuIGFuZCBcXG4gZm9sbG93ZWQgYnkgYXQgbGVhc3Qgb25lIHNwYWNlIG9yIGhvcml6b250YWwgdGFiIHdpdGggYSBzcGFjZVxuICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM3MjMwI3NlY3Rpb24tMy4yXG4gICAgdmFyIHByZVByb2Nlc3NlZEhlYWRlcnMgPSByYXdIZWFkZXJzLnJlcGxhY2UoL1xccj9cXG5bXFx0IF0rL2csICcgJylcbiAgICBwcmVQcm9jZXNzZWRIZWFkZXJzLnNwbGl0KC9cXHI/XFxuLykuZm9yRWFjaChmdW5jdGlvbihsaW5lKSB7XG4gICAgICB2YXIgcGFydHMgPSBsaW5lLnNwbGl0KCc6JylcbiAgICAgIHZhciBrZXkgPSBwYXJ0cy5zaGlmdCgpLnRyaW0oKVxuICAgICAgaWYgKGtleSkge1xuICAgICAgICB2YXIgdmFsdWUgPSBwYXJ0cy5qb2luKCc6JykudHJpbSgpXG4gICAgICAgIGhlYWRlcnMuYXBwZW5kKGtleSwgdmFsdWUpXG4gICAgICB9XG4gICAgfSlcbiAgICByZXR1cm4gaGVhZGVyc1xuICB9XG5cbiAgQm9keS5jYWxsKFJlcXVlc3QucHJvdG90eXBlKVxuXG4gIGZ1bmN0aW9uIFJlc3BvbnNlKGJvZHlJbml0LCBvcHRpb25zKSB7XG4gICAgaWYgKCFvcHRpb25zKSB7XG4gICAgICBvcHRpb25zID0ge31cbiAgICB9XG5cbiAgICB0aGlzLnR5cGUgPSAnZGVmYXVsdCdcbiAgICB0aGlzLnN0YXR1cyA9IG9wdGlvbnMuc3RhdHVzID09PSB1bmRlZmluZWQgPyAyMDAgOiBvcHRpb25zLnN0YXR1c1xuICAgIHRoaXMub2sgPSB0aGlzLnN0YXR1cyA+PSAyMDAgJiYgdGhpcy5zdGF0dXMgPCAzMDBcbiAgICB0aGlzLnN0YXR1c1RleHQgPSAnc3RhdHVzVGV4dCcgaW4gb3B0aW9ucyA/IG9wdGlvbnMuc3RhdHVzVGV4dCA6ICdPSydcbiAgICB0aGlzLmhlYWRlcnMgPSBuZXcgSGVhZGVycyhvcHRpb25zLmhlYWRlcnMpXG4gICAgdGhpcy51cmwgPSBvcHRpb25zLnVybCB8fCAnJ1xuICAgIHRoaXMuX2luaXRCb2R5KGJvZHlJbml0KVxuICB9XG5cbiAgQm9keS5jYWxsKFJlc3BvbnNlLnByb3RvdHlwZSlcblxuICBSZXNwb25zZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gbmV3IFJlc3BvbnNlKHRoaXMuX2JvZHlJbml0LCB7XG4gICAgICBzdGF0dXM6IHRoaXMuc3RhdHVzLFxuICAgICAgc3RhdHVzVGV4dDogdGhpcy5zdGF0dXNUZXh0LFxuICAgICAgaGVhZGVyczogbmV3IEhlYWRlcnModGhpcy5oZWFkZXJzKSxcbiAgICAgIHVybDogdGhpcy51cmxcbiAgICB9KVxuICB9XG5cbiAgUmVzcG9uc2UuZXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgcmVzcG9uc2UgPSBuZXcgUmVzcG9uc2UobnVsbCwge3N0YXR1czogMCwgc3RhdHVzVGV4dDogJyd9KVxuICAgIHJlc3BvbnNlLnR5cGUgPSAnZXJyb3InXG4gICAgcmV0dXJuIHJlc3BvbnNlXG4gIH1cblxuICB2YXIgcmVkaXJlY3RTdGF0dXNlcyA9IFszMDEsIDMwMiwgMzAzLCAzMDcsIDMwOF1cblxuICBSZXNwb25zZS5yZWRpcmVjdCA9IGZ1bmN0aW9uKHVybCwgc3RhdHVzKSB7XG4gICAgaWYgKHJlZGlyZWN0U3RhdHVzZXMuaW5kZXhPZihzdGF0dXMpID09PSAtMSkge1xuICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0ludmFsaWQgc3RhdHVzIGNvZGUnKVxuICAgIH1cblxuICAgIHJldHVybiBuZXcgUmVzcG9uc2UobnVsbCwge3N0YXR1czogc3RhdHVzLCBoZWFkZXJzOiB7bG9jYXRpb246IHVybH19KVxuICB9XG5cbiAgc2VsZi5IZWFkZXJzID0gSGVhZGVyc1xuICBzZWxmLlJlcXVlc3QgPSBSZXF1ZXN0XG4gIHNlbGYuUmVzcG9uc2UgPSBSZXNwb25zZVxuXG4gIHNlbGYuZmV0Y2ggPSBmdW5jdGlvbihpbnB1dCwgaW5pdCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHZhciByZXF1ZXN0ID0gbmV3IFJlcXVlc3QoaW5wdXQsIGluaXQpXG4gICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KClcblxuICAgICAgeGhyLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgICAgICBzdGF0dXM6IHhoci5zdGF0dXMsXG4gICAgICAgICAgc3RhdHVzVGV4dDogeGhyLnN0YXR1c1RleHQsXG4gICAgICAgICAgaGVhZGVyczogcGFyc2VIZWFkZXJzKHhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSB8fCAnJylcbiAgICAgICAgfVxuICAgICAgICBvcHRpb25zLnVybCA9ICdyZXNwb25zZVVSTCcgaW4geGhyID8geGhyLnJlc3BvbnNlVVJMIDogb3B0aW9ucy5oZWFkZXJzLmdldCgnWC1SZXF1ZXN0LVVSTCcpXG4gICAgICAgIHZhciBib2R5ID0gJ3Jlc3BvbnNlJyBpbiB4aHIgPyB4aHIucmVzcG9uc2UgOiB4aHIucmVzcG9uc2VUZXh0XG4gICAgICAgIHJlc29sdmUobmV3IFJlc3BvbnNlKGJvZHksIG9wdGlvbnMpKVxuICAgICAgfVxuXG4gICAgICB4aHIub25lcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZWplY3QobmV3IFR5cGVFcnJvcignTmV0d29yayByZXF1ZXN0IGZhaWxlZCcpKVxuICAgICAgfVxuXG4gICAgICB4aHIub250aW1lb3V0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJlamVjdChuZXcgVHlwZUVycm9yKCdOZXR3b3JrIHJlcXVlc3QgZmFpbGVkJykpXG4gICAgICB9XG5cbiAgICAgIHhoci5vcGVuKHJlcXVlc3QubWV0aG9kLCByZXF1ZXN0LnVybCwgdHJ1ZSlcblxuICAgICAgaWYgKHJlcXVlc3QuY3JlZGVudGlhbHMgPT09ICdpbmNsdWRlJykge1xuICAgICAgICB4aHIud2l0aENyZWRlbnRpYWxzID0gdHJ1ZVxuICAgICAgfSBlbHNlIGlmIChyZXF1ZXN0LmNyZWRlbnRpYWxzID09PSAnb21pdCcpIHtcbiAgICAgICAgeGhyLndpdGhDcmVkZW50aWFscyA9IGZhbHNlXG4gICAgICB9XG5cbiAgICAgIGlmICgncmVzcG9uc2VUeXBlJyBpbiB4aHIgJiYgc3VwcG9ydC5ibG9iKSB7XG4gICAgICAgIHhoci5yZXNwb25zZVR5cGUgPSAnYmxvYidcbiAgICAgIH1cblxuICAgICAgcmVxdWVzdC5oZWFkZXJzLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIG5hbWUpIHtcbiAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIobmFtZSwgdmFsdWUpXG4gICAgICB9KVxuXG4gICAgICB4aHIuc2VuZCh0eXBlb2YgcmVxdWVzdC5fYm9keUluaXQgPT09ICd1bmRlZmluZWQnID8gbnVsbCA6IHJlcXVlc3QuX2JvZHlJbml0KVxuICAgIH0pXG4gIH1cbiAgc2VsZi5mZXRjaC5wb2x5ZmlsbCA9IHRydWVcbn0pKHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJyA/IHNlbGYgOiB0aGlzKTtcbiIsImltcG9ydCBQcm9taXNlIGZyb20gJy4vaW5kZXgnO1xuaW1wb3J0IHByb21pc2VGaW5hbGx5IGZyb20gJy4vZmluYWxseSc7XG5cbi8qKiBAc3VwcHJlc3Mge3VuZGVmaW5lZFZhcnN9ICovXG52YXIgZ2xvYmFsTlMgPSAoZnVuY3Rpb24oKSB7XG4gIC8vIHRoZSBvbmx5IHJlbGlhYmxlIG1lYW5zIHRvIGdldCB0aGUgZ2xvYmFsIG9iamVjdCBpc1xuICAvLyBgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKWBcbiAgLy8gSG93ZXZlciwgdGhpcyBjYXVzZXMgQ1NQIHZpb2xhdGlvbnMgaW4gQ2hyb21lIGFwcHMuXG4gIGlmICh0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gc2VsZjtcbiAgfVxuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gd2luZG93O1xuICB9XG4gIGlmICh0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiBnbG9iYWw7XG4gIH1cbiAgdGhyb3cgbmV3IEVycm9yKCd1bmFibGUgdG8gbG9jYXRlIGdsb2JhbCBvYmplY3QnKTtcbn0pKCk7XG5cbmlmICghKCdQcm9taXNlJyBpbiBnbG9iYWxOUykpIHtcbiAgZ2xvYmFsTlNbJ1Byb21pc2UnXSA9IFByb21pc2U7XG59IGVsc2UgaWYgKCFnbG9iYWxOUy5Qcm9taXNlLnByb3RvdHlwZVsnZmluYWxseSddKSB7XG4gIGdsb2JhbE5TLlByb21pc2UucHJvdG90eXBlWydmaW5hbGx5J10gPSBwcm9taXNlRmluYWxseTtcbn1cbiIsInZhciBzY29wZSA9ICh0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiICYmIGdsb2JhbCkgfHxcbiAgICAgICAgICAgICh0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiAmJiBzZWxmKSB8fFxuICAgICAgICAgICAgd2luZG93O1xudmFyIGFwcGx5ID0gRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5O1xuXG4vLyBET00gQVBJcywgZm9yIGNvbXBsZXRlbmVzc1xuXG5leHBvcnRzLnNldFRpbWVvdXQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBUaW1lb3V0KGFwcGx5LmNhbGwoc2V0VGltZW91dCwgc2NvcGUsIGFyZ3VtZW50cyksIGNsZWFyVGltZW91dCk7XG59O1xuZXhwb3J0cy5zZXRJbnRlcnZhbCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IFRpbWVvdXQoYXBwbHkuY2FsbChzZXRJbnRlcnZhbCwgc2NvcGUsIGFyZ3VtZW50cyksIGNsZWFySW50ZXJ2YWwpO1xufTtcbmV4cG9ydHMuY2xlYXJUaW1lb3V0ID1cbmV4cG9ydHMuY2xlYXJJbnRlcnZhbCA9IGZ1bmN0aW9uKHRpbWVvdXQpIHtcbiAgaWYgKHRpbWVvdXQpIHtcbiAgICB0aW1lb3V0LmNsb3NlKCk7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIFRpbWVvdXQoaWQsIGNsZWFyRm4pIHtcbiAgdGhpcy5faWQgPSBpZDtcbiAgdGhpcy5fY2xlYXJGbiA9IGNsZWFyRm47XG59XG5UaW1lb3V0LnByb3RvdHlwZS51bnJlZiA9IFRpbWVvdXQucHJvdG90eXBlLnJlZiA9IGZ1bmN0aW9uKCkge307XG5UaW1lb3V0LnByb3RvdHlwZS5jbG9zZSA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLl9jbGVhckZuLmNhbGwoc2NvcGUsIHRoaXMuX2lkKTtcbn07XG5cbi8vIERvZXMgbm90IHN0YXJ0IHRoZSB0aW1lLCBqdXN0IHNldHMgdXAgdGhlIG1lbWJlcnMgbmVlZGVkLlxuZXhwb3J0cy5lbnJvbGwgPSBmdW5jdGlvbihpdGVtLCBtc2Vjcykge1xuICBjbGVhclRpbWVvdXQoaXRlbS5faWRsZVRpbWVvdXRJZCk7XG4gIGl0ZW0uX2lkbGVUaW1lb3V0ID0gbXNlY3M7XG59O1xuXG5leHBvcnRzLnVuZW5yb2xsID0gZnVuY3Rpb24oaXRlbSkge1xuICBjbGVhclRpbWVvdXQoaXRlbS5faWRsZVRpbWVvdXRJZCk7XG4gIGl0ZW0uX2lkbGVUaW1lb3V0ID0gLTE7XG59O1xuXG5leHBvcnRzLl91bnJlZkFjdGl2ZSA9IGV4cG9ydHMuYWN0aXZlID0gZnVuY3Rpb24oaXRlbSkge1xuICBjbGVhclRpbWVvdXQoaXRlbS5faWRsZVRpbWVvdXRJZCk7XG5cbiAgdmFyIG1zZWNzID0gaXRlbS5faWRsZVRpbWVvdXQ7XG4gIGlmIChtc2VjcyA+PSAwKSB7XG4gICAgaXRlbS5faWRsZVRpbWVvdXRJZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gb25UaW1lb3V0KCkge1xuICAgICAgaWYgKGl0ZW0uX29uVGltZW91dClcbiAgICAgICAgaXRlbS5fb25UaW1lb3V0KCk7XG4gICAgfSwgbXNlY3MpO1xuICB9XG59O1xuXG4vLyBzZXRpbW1lZGlhdGUgYXR0YWNoZXMgaXRzZWxmIHRvIHRoZSBnbG9iYWwgb2JqZWN0XG5yZXF1aXJlKFwic2V0aW1tZWRpYXRlXCIpO1xuLy8gT24gc29tZSBleG90aWMgZW52aXJvbm1lbnRzLCBpdCdzIG5vdCBjbGVhciB3aGljaCBvYmplY3QgYHNldGltbWVkaWF0ZWAgd2FzXG4vLyBhYmxlIHRvIGluc3RhbGwgb250by4gIFNlYXJjaCBlYWNoIHBvc3NpYmlsaXR5IGluIHRoZSBzYW1lIG9yZGVyIGFzIHRoZVxuLy8gYHNldGltbWVkaWF0ZWAgbGlicmFyeS5cbmV4cG9ydHMuc2V0SW1tZWRpYXRlID0gKHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiICYmIHNlbGYuc2V0SW1tZWRpYXRlKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAodHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBnbG9iYWwuc2V0SW1tZWRpYXRlKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAodGhpcyAmJiB0aGlzLnNldEltbWVkaWF0ZSk7XG5leHBvcnRzLmNsZWFySW1tZWRpYXRlID0gKHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiICYmIHNlbGYuY2xlYXJJbW1lZGlhdGUpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgKHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgJiYgZ2xvYmFsLmNsZWFySW1tZWRpYXRlKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICh0aGlzICYmIHRoaXMuY2xlYXJJbW1lZGlhdGUpO1xuIiwiKGZ1bmN0aW9uIChnbG9iYWwsIHVuZGVmaW5lZCkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuXG4gICAgaWYgKGdsb2JhbC5zZXRJbW1lZGlhdGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBuZXh0SGFuZGxlID0gMTsgLy8gU3BlYyBzYXlzIGdyZWF0ZXIgdGhhbiB6ZXJvXG4gICAgdmFyIHRhc2tzQnlIYW5kbGUgPSB7fTtcbiAgICB2YXIgY3VycmVudGx5UnVubmluZ0FUYXNrID0gZmFsc2U7XG4gICAgdmFyIGRvYyA9IGdsb2JhbC5kb2N1bWVudDtcbiAgICB2YXIgcmVnaXN0ZXJJbW1lZGlhdGU7XG5cbiAgICBmdW5jdGlvbiBzZXRJbW1lZGlhdGUoY2FsbGJhY2spIHtcbiAgICAgIC8vIENhbGxiYWNrIGNhbiBlaXRoZXIgYmUgYSBmdW5jdGlvbiBvciBhIHN0cmluZ1xuICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIGNhbGxiYWNrID0gbmV3IEZ1bmN0aW9uKFwiXCIgKyBjYWxsYmFjayk7XG4gICAgICB9XG4gICAgICAvLyBDb3B5IGZ1bmN0aW9uIGFyZ3VtZW50c1xuICAgICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgYXJnc1tpXSA9IGFyZ3VtZW50c1tpICsgMV07XG4gICAgICB9XG4gICAgICAvLyBTdG9yZSBhbmQgcmVnaXN0ZXIgdGhlIHRhc2tcbiAgICAgIHZhciB0YXNrID0geyBjYWxsYmFjazogY2FsbGJhY2ssIGFyZ3M6IGFyZ3MgfTtcbiAgICAgIHRhc2tzQnlIYW5kbGVbbmV4dEhhbmRsZV0gPSB0YXNrO1xuICAgICAgcmVnaXN0ZXJJbW1lZGlhdGUobmV4dEhhbmRsZSk7XG4gICAgICByZXR1cm4gbmV4dEhhbmRsZSsrO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNsZWFySW1tZWRpYXRlKGhhbmRsZSkge1xuICAgICAgICBkZWxldGUgdGFza3NCeUhhbmRsZVtoYW5kbGVdO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJ1bih0YXNrKSB7XG4gICAgICAgIHZhciBjYWxsYmFjayA9IHRhc2suY2FsbGJhY2s7XG4gICAgICAgIHZhciBhcmdzID0gdGFzay5hcmdzO1xuICAgICAgICBzd2l0Y2ggKGFyZ3MubGVuZ3RoKSB7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgY2FsbGJhY2soYXJnc1swXSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgY2FsbGJhY2soYXJnc1swXSwgYXJnc1sxXSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgY2FsbGJhY2soYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNhbGxiYWNrLmFwcGx5KHVuZGVmaW5lZCwgYXJncyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJ1bklmUHJlc2VudChoYW5kbGUpIHtcbiAgICAgICAgLy8gRnJvbSB0aGUgc3BlYzogXCJXYWl0IHVudGlsIGFueSBpbnZvY2F0aW9ucyBvZiB0aGlzIGFsZ29yaXRobSBzdGFydGVkIGJlZm9yZSB0aGlzIG9uZSBoYXZlIGNvbXBsZXRlZC5cIlxuICAgICAgICAvLyBTbyBpZiB3ZSdyZSBjdXJyZW50bHkgcnVubmluZyBhIHRhc2ssIHdlJ2xsIG5lZWQgdG8gZGVsYXkgdGhpcyBpbnZvY2F0aW9uLlxuICAgICAgICBpZiAoY3VycmVudGx5UnVubmluZ0FUYXNrKSB7XG4gICAgICAgICAgICAvLyBEZWxheSBieSBkb2luZyBhIHNldFRpbWVvdXQuIHNldEltbWVkaWF0ZSB3YXMgdHJpZWQgaW5zdGVhZCwgYnV0IGluIEZpcmVmb3ggNyBpdCBnZW5lcmF0ZWQgYVxuICAgICAgICAgICAgLy8gXCJ0b28gbXVjaCByZWN1cnNpb25cIiBlcnJvci5cbiAgICAgICAgICAgIHNldFRpbWVvdXQocnVuSWZQcmVzZW50LCAwLCBoYW5kbGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIHRhc2sgPSB0YXNrc0J5SGFuZGxlW2hhbmRsZV07XG4gICAgICAgICAgICBpZiAodGFzaykge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRseVJ1bm5pbmdBVGFzayA9IHRydWU7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgcnVuKHRhc2spO1xuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFySW1tZWRpYXRlKGhhbmRsZSk7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRseVJ1bm5pbmdBVGFzayA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGluc3RhbGxOZXh0VGlja0ltcGxlbWVudGF0aW9uKCkge1xuICAgICAgICByZWdpc3RlckltbWVkaWF0ZSA9IGZ1bmN0aW9uKGhhbmRsZSkge1xuICAgICAgICAgICAgcHJvY2Vzcy5uZXh0VGljayhmdW5jdGlvbiAoKSB7IHJ1bklmUHJlc2VudChoYW5kbGUpOyB9KTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjYW5Vc2VQb3N0TWVzc2FnZSgpIHtcbiAgICAgICAgLy8gVGhlIHRlc3QgYWdhaW5zdCBgaW1wb3J0U2NyaXB0c2AgcHJldmVudHMgdGhpcyBpbXBsZW1lbnRhdGlvbiBmcm9tIGJlaW5nIGluc3RhbGxlZCBpbnNpZGUgYSB3ZWIgd29ya2VyLFxuICAgICAgICAvLyB3aGVyZSBgZ2xvYmFsLnBvc3RNZXNzYWdlYCBtZWFucyBzb21ldGhpbmcgY29tcGxldGVseSBkaWZmZXJlbnQgYW5kIGNhbid0IGJlIHVzZWQgZm9yIHRoaXMgcHVycG9zZS5cbiAgICAgICAgaWYgKGdsb2JhbC5wb3N0TWVzc2FnZSAmJiAhZ2xvYmFsLmltcG9ydFNjcmlwdHMpIHtcbiAgICAgICAgICAgIHZhciBwb3N0TWVzc2FnZUlzQXN5bmNocm9ub3VzID0gdHJ1ZTtcbiAgICAgICAgICAgIHZhciBvbGRPbk1lc3NhZ2UgPSBnbG9iYWwub25tZXNzYWdlO1xuICAgICAgICAgICAgZ2xvYmFsLm9ubWVzc2FnZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHBvc3RNZXNzYWdlSXNBc3luY2hyb25vdXMgPSBmYWxzZTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBnbG9iYWwucG9zdE1lc3NhZ2UoXCJcIiwgXCIqXCIpO1xuICAgICAgICAgICAgZ2xvYmFsLm9ubWVzc2FnZSA9IG9sZE9uTWVzc2FnZTtcbiAgICAgICAgICAgIHJldHVybiBwb3N0TWVzc2FnZUlzQXN5bmNocm9ub3VzO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5zdGFsbFBvc3RNZXNzYWdlSW1wbGVtZW50YXRpb24oKSB7XG4gICAgICAgIC8vIEluc3RhbGxzIGFuIGV2ZW50IGhhbmRsZXIgb24gYGdsb2JhbGAgZm9yIHRoZSBgbWVzc2FnZWAgZXZlbnQ6IHNlZVxuICAgICAgICAvLyAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL0RPTS93aW5kb3cucG9zdE1lc3NhZ2VcbiAgICAgICAgLy8gKiBodHRwOi8vd3d3LndoYXR3Zy5vcmcvc3BlY3Mvd2ViLWFwcHMvY3VycmVudC13b3JrL211bHRpcGFnZS9jb21tcy5odG1sI2Nyb3NzRG9jdW1lbnRNZXNzYWdlc1xuXG4gICAgICAgIHZhciBtZXNzYWdlUHJlZml4ID0gXCJzZXRJbW1lZGlhdGUkXCIgKyBNYXRoLnJhbmRvbSgpICsgXCIkXCI7XG4gICAgICAgIHZhciBvbkdsb2JhbE1lc3NhZ2UgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgaWYgKGV2ZW50LnNvdXJjZSA9PT0gZ2xvYmFsICYmXG4gICAgICAgICAgICAgICAgdHlwZW9mIGV2ZW50LmRhdGEgPT09IFwic3RyaW5nXCIgJiZcbiAgICAgICAgICAgICAgICBldmVudC5kYXRhLmluZGV4T2YobWVzc2FnZVByZWZpeCkgPT09IDApIHtcbiAgICAgICAgICAgICAgICBydW5JZlByZXNlbnQoK2V2ZW50LmRhdGEuc2xpY2UobWVzc2FnZVByZWZpeC5sZW5ndGgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoZ2xvYmFsLmFkZEV2ZW50TGlzdGVuZXIpIHtcbiAgICAgICAgICAgIGdsb2JhbC5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCBvbkdsb2JhbE1lc3NhZ2UsIGZhbHNlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGdsb2JhbC5hdHRhY2hFdmVudChcIm9ubWVzc2FnZVwiLCBvbkdsb2JhbE1lc3NhZ2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVnaXN0ZXJJbW1lZGlhdGUgPSBmdW5jdGlvbihoYW5kbGUpIHtcbiAgICAgICAgICAgIGdsb2JhbC5wb3N0TWVzc2FnZShtZXNzYWdlUHJlZml4ICsgaGFuZGxlLCBcIipcIik7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5zdGFsbE1lc3NhZ2VDaGFubmVsSW1wbGVtZW50YXRpb24oKSB7XG4gICAgICAgIHZhciBjaGFubmVsID0gbmV3IE1lc3NhZ2VDaGFubmVsKCk7XG4gICAgICAgIGNoYW5uZWwucG9ydDEub25tZXNzYWdlID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIHZhciBoYW5kbGUgPSBldmVudC5kYXRhO1xuICAgICAgICAgICAgcnVuSWZQcmVzZW50KGhhbmRsZSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmVnaXN0ZXJJbW1lZGlhdGUgPSBmdW5jdGlvbihoYW5kbGUpIHtcbiAgICAgICAgICAgIGNoYW5uZWwucG9ydDIucG9zdE1lc3NhZ2UoaGFuZGxlKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbnN0YWxsUmVhZHlTdGF0ZUNoYW5nZUltcGxlbWVudGF0aW9uKCkge1xuICAgICAgICB2YXIgaHRtbCA9IGRvYy5kb2N1bWVudEVsZW1lbnQ7XG4gICAgICAgIHJlZ2lzdGVySW1tZWRpYXRlID0gZnVuY3Rpb24oaGFuZGxlKSB7XG4gICAgICAgICAgICAvLyBDcmVhdGUgYSA8c2NyaXB0PiBlbGVtZW50OyBpdHMgcmVhZHlzdGF0ZWNoYW5nZSBldmVudCB3aWxsIGJlIGZpcmVkIGFzeW5jaHJvbm91c2x5IG9uY2UgaXQgaXMgaW5zZXJ0ZWRcbiAgICAgICAgICAgIC8vIGludG8gdGhlIGRvY3VtZW50LiBEbyBzbywgdGh1cyBxdWV1aW5nIHVwIHRoZSB0YXNrLiBSZW1lbWJlciB0byBjbGVhbiB1cCBvbmNlIGl0J3MgYmVlbiBjYWxsZWQuXG4gICAgICAgICAgICB2YXIgc2NyaXB0ID0gZG9jLmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7XG4gICAgICAgICAgICBzY3JpcHQub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJ1bklmUHJlc2VudChoYW5kbGUpO1xuICAgICAgICAgICAgICAgIHNjcmlwdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBudWxsO1xuICAgICAgICAgICAgICAgIGh0bWwucmVtb3ZlQ2hpbGQoc2NyaXB0KTtcbiAgICAgICAgICAgICAgICBzY3JpcHQgPSBudWxsO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGh0bWwuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbnN0YWxsU2V0VGltZW91dEltcGxlbWVudGF0aW9uKCkge1xuICAgICAgICByZWdpc3RlckltbWVkaWF0ZSA9IGZ1bmN0aW9uKGhhbmRsZSkge1xuICAgICAgICAgICAgc2V0VGltZW91dChydW5JZlByZXNlbnQsIDAsIGhhbmRsZSk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gSWYgc3VwcG9ydGVkLCB3ZSBzaG91bGQgYXR0YWNoIHRvIHRoZSBwcm90b3R5cGUgb2YgZ2xvYmFsLCBzaW5jZSB0aGF0IGlzIHdoZXJlIHNldFRpbWVvdXQgZXQgYWwuIGxpdmUuXG4gICAgdmFyIGF0dGFjaFRvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mICYmIE9iamVjdC5nZXRQcm90b3R5cGVPZihnbG9iYWwpO1xuICAgIGF0dGFjaFRvID0gYXR0YWNoVG8gJiYgYXR0YWNoVG8uc2V0VGltZW91dCA/IGF0dGFjaFRvIDogZ2xvYmFsO1xuXG4gICAgLy8gRG9uJ3QgZ2V0IGZvb2xlZCBieSBlLmcuIGJyb3dzZXJpZnkgZW52aXJvbm1lbnRzLlxuICAgIGlmICh7fS50b1N0cmluZy5jYWxsKGdsb2JhbC5wcm9jZXNzKSA9PT0gXCJbb2JqZWN0IHByb2Nlc3NdXCIpIHtcbiAgICAgICAgLy8gRm9yIE5vZGUuanMgYmVmb3JlIDAuOVxuICAgICAgICBpbnN0YWxsTmV4dFRpY2tJbXBsZW1lbnRhdGlvbigpO1xuXG4gICAgfSBlbHNlIGlmIChjYW5Vc2VQb3N0TWVzc2FnZSgpKSB7XG4gICAgICAgIC8vIEZvciBub24tSUUxMCBtb2Rlcm4gYnJvd3NlcnNcbiAgICAgICAgaW5zdGFsbFBvc3RNZXNzYWdlSW1wbGVtZW50YXRpb24oKTtcblxuICAgIH0gZWxzZSBpZiAoZ2xvYmFsLk1lc3NhZ2VDaGFubmVsKSB7XG4gICAgICAgIC8vIEZvciB3ZWIgd29ya2Vycywgd2hlcmUgc3VwcG9ydGVkXG4gICAgICAgIGluc3RhbGxNZXNzYWdlQ2hhbm5lbEltcGxlbWVudGF0aW9uKCk7XG5cbiAgICB9IGVsc2UgaWYgKGRvYyAmJiBcIm9ucmVhZHlzdGF0ZWNoYW5nZVwiIGluIGRvYy5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpKSB7XG4gICAgICAgIC8vIEZvciBJRSA24oCTOFxuICAgICAgICBpbnN0YWxsUmVhZHlTdGF0ZUNoYW5nZUltcGxlbWVudGF0aW9uKCk7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyBGb3Igb2xkZXIgYnJvd3NlcnNcbiAgICAgICAgaW5zdGFsbFNldFRpbWVvdXRJbXBsZW1lbnRhdGlvbigpO1xuICAgIH1cblxuICAgIGF0dGFjaFRvLnNldEltbWVkaWF0ZSA9IHNldEltbWVkaWF0ZTtcbiAgICBhdHRhY2hUby5jbGVhckltbWVkaWF0ZSA9IGNsZWFySW1tZWRpYXRlO1xufSh0eXBlb2Ygc2VsZiA9PT0gXCJ1bmRlZmluZWRcIiA/IHR5cGVvZiBnbG9iYWwgPT09IFwidW5kZWZpbmVkXCIgPyB0aGlzIDogZ2xvYmFsIDogc2VsZikpO1xuIiwiLy8gc2hpbSBmb3IgdXNpbmcgcHJvY2VzcyBpbiBicm93c2VyXG52YXIgcHJvY2VzcyA9IG1vZHVsZS5leHBvcnRzID0ge307XG5cbi8vIGNhY2hlZCBmcm9tIHdoYXRldmVyIGdsb2JhbCBpcyBwcmVzZW50IHNvIHRoYXQgdGVzdCBydW5uZXJzIHRoYXQgc3R1YiBpdFxuLy8gZG9uJ3QgYnJlYWsgdGhpbmdzLiAgQnV0IHdlIG5lZWQgdG8gd3JhcCBpdCBpbiBhIHRyeSBjYXRjaCBpbiBjYXNlIGl0IGlzXG4vLyB3cmFwcGVkIGluIHN0cmljdCBtb2RlIGNvZGUgd2hpY2ggZG9lc24ndCBkZWZpbmUgYW55IGdsb2JhbHMuICBJdCdzIGluc2lkZSBhXG4vLyBmdW5jdGlvbiBiZWNhdXNlIHRyeS9jYXRjaGVzIGRlb3B0aW1pemUgaW4gY2VydGFpbiBlbmdpbmVzLlxuXG52YXIgY2FjaGVkU2V0VGltZW91dDtcbnZhciBjYWNoZWRDbGVhclRpbWVvdXQ7XG5cbmZ1bmN0aW9uIGRlZmF1bHRTZXRUaW1vdXQoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG5mdW5jdGlvbiBkZWZhdWx0Q2xlYXJUaW1lb3V0ICgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuKGZ1bmN0aW9uICgpIHtcbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIHNldFRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIGNsZWFyVGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICB9XG59ICgpKVxuZnVuY3Rpb24gcnVuVGltZW91dChmdW4pIHtcbiAgICBpZiAoY2FjaGVkU2V0VGltZW91dCA9PT0gc2V0VGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgLy8gaWYgc2V0VGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZFNldFRpbWVvdXQgPT09IGRlZmF1bHRTZXRUaW1vdXQgfHwgIWNhY2hlZFNldFRpbWVvdXQpICYmIHNldFRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9IGNhdGNoKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0IHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKG51bGwsIGZ1biwgMCk7XG4gICAgICAgIH0gY2F0Y2goZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvclxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbCh0aGlzLCBmdW4sIDApO1xuICAgICAgICB9XG4gICAgfVxuXG5cbn1cbmZ1bmN0aW9uIHJ1bkNsZWFyVGltZW91dChtYXJrZXIpIHtcbiAgICBpZiAoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgLy8gaWYgY2xlYXJUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBkZWZhdWx0Q2xlYXJUaW1lb3V0IHx8ICFjYWNoZWRDbGVhclRpbWVvdXQpICYmIGNsZWFyVGltZW91dCkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfSBjYXRjaCAoZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgIHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwobnVsbCwgbWFya2VyKTtcbiAgICAgICAgfSBjYXRjaCAoZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvci5cbiAgICAgICAgICAgIC8vIFNvbWUgdmVyc2lvbnMgb2YgSS5FLiBoYXZlIGRpZmZlcmVudCBydWxlcyBmb3IgY2xlYXJUaW1lb3V0IHZzIHNldFRpbWVvdXRcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbCh0aGlzLCBtYXJrZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG5cblxufVxudmFyIHF1ZXVlID0gW107XG52YXIgZHJhaW5pbmcgPSBmYWxzZTtcbnZhciBjdXJyZW50UXVldWU7XG52YXIgcXVldWVJbmRleCA9IC0xO1xuXG5mdW5jdGlvbiBjbGVhblVwTmV4dFRpY2soKSB7XG4gICAgaWYgKCFkcmFpbmluZyB8fCAhY3VycmVudFF1ZXVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBpZiAoY3VycmVudFF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBxdWV1ZSA9IGN1cnJlbnRRdWV1ZS5jb25jYXQocXVldWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICB9XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBkcmFpblF1ZXVlKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkcmFpblF1ZXVlKCkge1xuICAgIGlmIChkcmFpbmluZykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciB0aW1lb3V0ID0gcnVuVGltZW91dChjbGVhblVwTmV4dFRpY2spO1xuICAgIGRyYWluaW5nID0gdHJ1ZTtcblxuICAgIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgd2hpbGUobGVuKSB7XG4gICAgICAgIGN1cnJlbnRRdWV1ZSA9IHF1ZXVlO1xuICAgICAgICBxdWV1ZSA9IFtdO1xuICAgICAgICB3aGlsZSAoKytxdWV1ZUluZGV4IDwgbGVuKSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudFF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICAgICAgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIH1cbiAgICBjdXJyZW50UXVldWUgPSBudWxsO1xuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgcnVuQ2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xufVxuXG5wcm9jZXNzLm5leHRUaWNrID0gZnVuY3Rpb24gKGZ1bikge1xuICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHF1ZXVlLnB1c2gobmV3IEl0ZW0oZnVuLCBhcmdzKSk7XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCA9PT0gMSAmJiAhZHJhaW5pbmcpIHtcbiAgICAgICAgcnVuVGltZW91dChkcmFpblF1ZXVlKTtcbiAgICB9XG59O1xuXG4vLyB2OCBsaWtlcyBwcmVkaWN0aWJsZSBvYmplY3RzXG5mdW5jdGlvbiBJdGVtKGZ1biwgYXJyYXkpIHtcbiAgICB0aGlzLmZ1biA9IGZ1bjtcbiAgICB0aGlzLmFycmF5ID0gYXJyYXk7XG59XG5JdGVtLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mdW4uYXBwbHkobnVsbCwgdGhpcy5hcnJheSk7XG59O1xucHJvY2Vzcy50aXRsZSA9ICdicm93c2VyJztcbnByb2Nlc3MuYnJvd3NlciA9IHRydWU7XG5wcm9jZXNzLmVudiA9IHt9O1xucHJvY2Vzcy5hcmd2ID0gW107XG5wcm9jZXNzLnZlcnNpb24gPSAnJzsgLy8gZW1wdHkgc3RyaW5nIHRvIGF2b2lkIHJlZ2V4cCBpc3N1ZXNcbnByb2Nlc3MudmVyc2lvbnMgPSB7fTtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbnByb2Nlc3Mub24gPSBub29wO1xucHJvY2Vzcy5hZGRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLm9uY2UgPSBub29wO1xucHJvY2Vzcy5vZmYgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUFsbExpc3RlbmVycyA9IG5vb3A7XG5wcm9jZXNzLmVtaXQgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kT25jZUxpc3RlbmVyID0gbm9vcDtcblxucHJvY2Vzcy5saXN0ZW5lcnMgPSBmdW5jdGlvbiAobmFtZSkgeyByZXR1cm4gW10gfVxuXG5wcm9jZXNzLmJpbmRpbmcgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5cbnByb2Nlc3MuY3dkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJy8nIH07XG5wcm9jZXNzLmNoZGlyID0gZnVuY3Rpb24gKGRpcikge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xucHJvY2Vzcy51bWFzayA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gMDsgfTtcbiIsIlxudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvc3JjL2luZGV4LmpzPz9yZWYtLTUtMSEuL3N0eWxlcy5jc3NcIik7XG5cbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXG52YXIgdHJhbnNmb3JtO1xudmFyIGluc2VydEludG87XG5cblxuXG52YXIgb3B0aW9ucyA9IHtcImhtclwiOnRydWV9XG5cbm9wdGlvbnMudHJhbnNmb3JtID0gdHJhbnNmb3JtXG5vcHRpb25zLmluc2VydEludG8gPSB1bmRlZmluZWQ7XG5cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCBvcHRpb25zKTtcblxuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cbmlmKG1vZHVsZS5ob3QpIHtcblx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9zcmMvaW5kZXguanM/P3JlZi0tNS0xIS4vc3R5bGVzLmNzc1wiLCBmdW5jdGlvbigpIHtcblx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9zcmMvaW5kZXguanM/P3JlZi0tNS0xIS4vc3R5bGVzLmNzc1wiKTtcblxuXHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXG5cdFx0dmFyIGxvY2FscyA9IChmdW5jdGlvbihhLCBiKSB7XG5cdFx0XHR2YXIga2V5LCBpZHggPSAwO1xuXG5cdFx0XHRmb3Ioa2V5IGluIGEpIHtcblx0XHRcdFx0aWYoIWIgfHwgYVtrZXldICE9PSBiW2tleV0pIHJldHVybiBmYWxzZTtcblx0XHRcdFx0aWR4Kys7XG5cdFx0XHR9XG5cblx0XHRcdGZvcihrZXkgaW4gYikgaWR4LS07XG5cblx0XHRcdHJldHVybiBpZHggPT09IDA7XG5cdFx0fShjb250ZW50LmxvY2FscywgbmV3Q29udGVudC5sb2NhbHMpKTtcblxuXHRcdGlmKCFsb2NhbHMpIHRocm93IG5ldyBFcnJvcignQWJvcnRpbmcgQ1NTIEhNUiBkdWUgdG8gY2hhbmdlZCBjc3MtbW9kdWxlcyBsb2NhbHMuJyk7XG5cblx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdH0pO1xuXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufSIsIm1vZHVsZS5leHBvcnRzID0gXCIucnAtY29udGFpbmVyICp7LXdlYmtpdC1ib3gtc2l6aW5nOmJvcmRlci1ib3g7Ym94LXNpemluZzpib3JkZXItYm94fS5ycC1jb250YWluZXIgZmllbGRzZXR7Ym9yZGVyOm5vbmU7bWFyZ2luOjA7cGFkZGluZzowfS5ycC1jb250YWluZXJ7LXdlYmtpdC1ib3gtc2hhZG93OjAgMnB4IDJweCAwIHJnYmEoMCwwLDAsLjE0KSwwIDNweCAxcHggLTJweCByZ2JhKDAsMCwwLC4yKSwwIDFweCA1cHggMCByZ2JhKDAsMCwwLC4xMik7Ym90dG9tOjA7Ym94LXNoYWRvdzowIDJweCAycHggMCByZ2JhKDAsMCwwLC4xNCksMCAzcHggMXB4IC0ycHggcmdiYSgwLDAsMCwuMiksMCAxcHggNXB4IDAgcmdiYSgwLDAsMCwuMTIpO2N1cnNvcjpwb2ludGVyO2ZvbnQtZmFtaWx5OlZlcmRhbmEsR2VuZXZhLFRhaG9tYSxzYW5zLXNlcmlmO21hcmdpbjowO3BhZGRpbmc6MDtwb3NpdGlvbjphYnNvbHV0ZTtyaWdodDoyMHB4O3dpZHRoOjI4MHB4fS5ycC1jb250YWluZXJfbWluaW1pemVkIC5ycC1jb250YWluZXJfX3dyYXBwZXJ7bWF4LWhlaWdodDowO29wYWNpdHk6MX0ucnAtY29udGFpbmVyX21pbmltaXplZCAucnAtY29udGFpbmVyX19kaXNtaXNze2Rpc3BsYXk6bm9uZX0ucnAtY29udGFpbmVyX193cmFwcGVyey1vLXRyYW5zaXRpb246YWxsIC4ycyBlYXNlLWluLW91dDstd2Via2l0LXRyYW5zaXRpb246YWxsIC4ycyBlYXNlLWluLW91dDttYXgtaGVpZ2h0OjUwMHB4O29wYWNpdHk6MTtvdmVyZmxvdzpoaWRkZW47cG9zaXRpb246cmVsYXRpdmU7dHJhbnNpdGlvbjphbGwgLjJzIGVhc2UtaW4tb3V0fS5ycC1jb250YWluZXJfX2NvdmVye2JhY2tncm91bmQtY29sb3I6I2Y1ZjlmYjtjb2xvcjojODg5MTg5O2Rpc3BsYXk6bm9uZTtoZWlnaHQ6MTAwJTtsZWZ0OjA7cGFkZGluZzoyMHB4O3Bvc2l0aW9uOmFic29sdXRlO3RleHQtYWxpZ246Y2VudGVyO3RvcDowO3dpZHRoOjEwMCV9LnJwLWNvbnRhaW5lcl9faGVhZGVye2JhY2tncm91bmQtY29sb3I6IzAwOTJlYjtjb2xvcjojZmZmO3BhZGRpbmc6MTVweCAyMHB4fS5ycC1jb250YWluZXJfX2Rpc21pc3N7Y29sb3I6I2ZmZjtjdXJzb3I6cG9pbnRlcjtmb250LWZhbWlseTpBcmlhbCxzYW5zLXNlcmlmO2ZvbnQtc2l6ZToxNHB4O2ZvbnQtd2VpZ2h0OmxpZ2h0ZXI7cG9zaXRpb246YWJzb2x1dGU7cmlnaHQ6OHB4O3RleHQtZGVjb3JhdGlvbjpub25lO3RvcDo4cHh9LnJwLWNvbnRhaW5lcl9fZGlzbWlzczphZnRlcntjb250ZW50OlxcXCLinJZcXFwifS5ycC1jb250YWluZXJfX2NvdmVyIC5ycC1jb250YWluZXJfX2ZpZWxke3BhZGRpbmc6MjBweCAwfS5ycC1jb250YWluZXJfX2ZpZWxke2JvcmRlcjpub25lO2JvcmRlci1ib3R0b206MXB4IHNvbGlkIHRyYW5zcGFyZW50O2ZvbnQtZmFtaWx5OlZlcmRhbmEsR2VuZXZhLFRhaG9tYSxzYW5zLXNlcmlmO21hcmdpbjowO3BhZGRpbmc6MTBweCAwIDA7d2lkdGg6MTAwJX0ucnAtY29udGFpbmVyX19idXR0b246Zm9jdXMsLnJwLWNvbnRhaW5lcl9fZmllbGQ6Zm9jdXN7b3V0bGluZTowfS5ycC1jb250YWluZXJfX2J1dHRvbntiYWNrZ3JvdW5kLWNvbG9yOiMwMDkyZWI7Ym9yZGVyOm5vbmU7Y29sb3I6I2ZmZjtjdXJzb3I6cG9pbnRlcjtsZXR0ZXItc3BhY2luZzoxcHg7cGFkZGluZzoxMnB4IDM1cHggMTBweDt0ZXh0LXRyYW5zZm9ybTp1cHBlcmNhc2U7d2lkdGg6MTAwJX0ucnAtY29udGFpbmVyX19tZXNzYWdle2JhY2tncm91bmQtY29sb3I6I2Y1ZjlmYn0ucnAtY29udGFpbmVyX19tZXNzYWdlIC5ycC1jb250YWluZXJfX2ZpZWxke2JhY2tncm91bmQtY29sb3I6dHJhbnNwYXJlbnQ7bWluLWhlaWdodDo4MHB4O3Jlc2l6ZTpub25lfS5ycC1jb250YWluZXIgbGFiZWx7Y29sb3I6Izg4OTE4OTtkaXNwbGF5OmJsb2NrO2ZvbnQtZmFtaWx5OlZlcmRhbmEsR2VuZXZhLFRhaG9tYSxzYW5zLXNlcmlmO2ZvbnQtc2l6ZToxMnB4O3BhZGRpbmc6MjBweH0ucnAtY29udGFpbmVyX19hY3Rpb25ze3BhZGRpbmc6MjBweH1cIiIsIi8qXG5cdE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG5cdEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG5cbnZhciBzdHlsZXNJbkRvbSA9IHt9O1xuXG52YXJcdG1lbW9pemUgPSBmdW5jdGlvbiAoZm4pIHtcblx0dmFyIG1lbW87XG5cblx0cmV0dXJuIGZ1bmN0aW9uICgpIHtcblx0XHRpZiAodHlwZW9mIG1lbW8gPT09IFwidW5kZWZpbmVkXCIpIG1lbW8gPSBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHRcdHJldHVybiBtZW1vO1xuXHR9O1xufTtcblxudmFyIGlzT2xkSUUgPSBtZW1vaXplKGZ1bmN0aW9uICgpIHtcblx0Ly8gVGVzdCBmb3IgSUUgPD0gOSBhcyBwcm9wb3NlZCBieSBCcm93c2VyaGFja3Ncblx0Ly8gQHNlZSBodHRwOi8vYnJvd3NlcmhhY2tzLmNvbS8jaGFjay1lNzFkODY5MmY2NTMzNDE3M2ZlZTcxNWMyMjJjYjgwNVxuXHQvLyBUZXN0cyBmb3IgZXhpc3RlbmNlIG9mIHN0YW5kYXJkIGdsb2JhbHMgaXMgdG8gYWxsb3cgc3R5bGUtbG9hZGVyXG5cdC8vIHRvIG9wZXJhdGUgY29ycmVjdGx5IGludG8gbm9uLXN0YW5kYXJkIGVudmlyb25tZW50c1xuXHQvLyBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrLWNvbnRyaWIvc3R5bGUtbG9hZGVyL2lzc3Vlcy8xNzdcblx0cmV0dXJuIHdpbmRvdyAmJiBkb2N1bWVudCAmJiBkb2N1bWVudC5hbGwgJiYgIXdpbmRvdy5hdG9iO1xufSk7XG5cbnZhciBnZXRUYXJnZXQgPSBmdW5jdGlvbiAodGFyZ2V0LCBwYXJlbnQpIHtcbiAgaWYgKHBhcmVudCl7XG4gICAgcmV0dXJuIHBhcmVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7XG4gIH1cbiAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTtcbn07XG5cbnZhciBnZXRFbGVtZW50ID0gKGZ1bmN0aW9uIChmbikge1xuXHR2YXIgbWVtbyA9IHt9O1xuXG5cdHJldHVybiBmdW5jdGlvbih0YXJnZXQsIHBhcmVudCkge1xuICAgICAgICAgICAgICAgIC8vIElmIHBhc3NpbmcgZnVuY3Rpb24gaW4gb3B0aW9ucywgdGhlbiB1c2UgaXQgZm9yIHJlc29sdmUgXCJoZWFkXCIgZWxlbWVudC5cbiAgICAgICAgICAgICAgICAvLyBVc2VmdWwgZm9yIFNoYWRvdyBSb290IHN0eWxlIGkuZVxuICAgICAgICAgICAgICAgIC8vIHtcbiAgICAgICAgICAgICAgICAvLyAgIGluc2VydEludG86IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZm9vXCIpLnNoYWRvd1Jvb3QgfVxuICAgICAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRhcmdldCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhcmdldCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1lbW9bdGFyZ2V0XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuXHRcdFx0dmFyIHN0eWxlVGFyZ2V0ID0gZ2V0VGFyZ2V0LmNhbGwodGhpcywgdGFyZ2V0LCBwYXJlbnQpO1xuXHRcdFx0Ly8gU3BlY2lhbCBjYXNlIHRvIHJldHVybiBoZWFkIG9mIGlmcmFtZSBpbnN0ZWFkIG9mIGlmcmFtZSBpdHNlbGZcblx0XHRcdGlmICh3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQgJiYgc3R5bGVUYXJnZXQgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpIHtcblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHQvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFjY2VzcyB0byBpZnJhbWUgaXMgYmxvY2tlZFxuXHRcdFx0XHRcdC8vIGR1ZSB0byBjcm9zcy1vcmlnaW4gcmVzdHJpY3Rpb25zXG5cdFx0XHRcdFx0c3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcblx0XHRcdFx0fSBjYXRjaChlKSB7XG5cdFx0XHRcdFx0c3R5bGVUYXJnZXQgPSBudWxsO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRtZW1vW3RhcmdldF0gPSBzdHlsZVRhcmdldDtcblx0XHR9XG5cdFx0cmV0dXJuIG1lbW9bdGFyZ2V0XVxuXHR9O1xufSkoKTtcblxudmFyIHNpbmdsZXRvbiA9IG51bGw7XG52YXJcdHNpbmdsZXRvbkNvdW50ZXIgPSAwO1xudmFyXHRzdHlsZXNJbnNlcnRlZEF0VG9wID0gW107XG5cbnZhclx0Zml4VXJscyA9IHJlcXVpcmUoXCIuL3VybHNcIik7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obGlzdCwgb3B0aW9ucykge1xuXHRpZiAodHlwZW9mIERFQlVHICE9PSBcInVuZGVmaW5lZFwiICYmIERFQlVHKSB7XG5cdFx0aWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gXCJvYmplY3RcIikgdGhyb3cgbmV3IEVycm9yKFwiVGhlIHN0eWxlLWxvYWRlciBjYW5ub3QgYmUgdXNlZCBpbiBhIG5vbi1icm93c2VyIGVudmlyb25tZW50XCIpO1xuXHR9XG5cblx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cblx0b3B0aW9ucy5hdHRycyA9IHR5cGVvZiBvcHRpb25zLmF0dHJzID09PSBcIm9iamVjdFwiID8gb3B0aW9ucy5hdHRycyA6IHt9O1xuXG5cdC8vIEZvcmNlIHNpbmdsZS10YWcgc29sdXRpb24gb24gSUU2LTksIHdoaWNoIGhhcyBhIGhhcmQgbGltaXQgb24gdGhlICMgb2YgPHN0eWxlPlxuXHQvLyB0YWdzIGl0IHdpbGwgYWxsb3cgb24gYSBwYWdlXG5cdGlmICghb3B0aW9ucy5zaW5nbGV0b24gJiYgdHlwZW9mIG9wdGlvbnMuc2luZ2xldG9uICE9PSBcImJvb2xlYW5cIikgb3B0aW9ucy5zaW5nbGV0b24gPSBpc09sZElFKCk7XG5cblx0Ly8gQnkgZGVmYXVsdCwgYWRkIDxzdHlsZT4gdGFncyB0byB0aGUgPGhlYWQ+IGVsZW1lbnRcbiAgICAgICAgaWYgKCFvcHRpb25zLmluc2VydEludG8pIG9wdGlvbnMuaW5zZXJ0SW50byA9IFwiaGVhZFwiO1xuXG5cdC8vIEJ5IGRlZmF1bHQsIGFkZCA8c3R5bGU+IHRhZ3MgdG8gdGhlIGJvdHRvbSBvZiB0aGUgdGFyZ2V0XG5cdGlmICghb3B0aW9ucy5pbnNlcnRBdCkgb3B0aW9ucy5pbnNlcnRBdCA9IFwiYm90dG9tXCI7XG5cblx0dmFyIHN0eWxlcyA9IGxpc3RUb1N0eWxlcyhsaXN0LCBvcHRpb25zKTtcblxuXHRhZGRTdHlsZXNUb0RvbShzdHlsZXMsIG9wdGlvbnMpO1xuXG5cdHJldHVybiBmdW5jdGlvbiB1cGRhdGUgKG5ld0xpc3QpIHtcblx0XHR2YXIgbWF5UmVtb3ZlID0gW107XG5cblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGl0ZW0gPSBzdHlsZXNbaV07XG5cdFx0XHR2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXTtcblxuXHRcdFx0ZG9tU3R5bGUucmVmcy0tO1xuXHRcdFx0bWF5UmVtb3ZlLnB1c2goZG9tU3R5bGUpO1xuXHRcdH1cblxuXHRcdGlmKG5ld0xpc3QpIHtcblx0XHRcdHZhciBuZXdTdHlsZXMgPSBsaXN0VG9TdHlsZXMobmV3TGlzdCwgb3B0aW9ucyk7XG5cdFx0XHRhZGRTdHlsZXNUb0RvbShuZXdTdHlsZXMsIG9wdGlvbnMpO1xuXHRcdH1cblxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgbWF5UmVtb3ZlLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgZG9tU3R5bGUgPSBtYXlSZW1vdmVbaV07XG5cblx0XHRcdGlmKGRvbVN0eWxlLnJlZnMgPT09IDApIHtcblx0XHRcdFx0Zm9yICh2YXIgaiA9IDA7IGogPCBkb21TdHlsZS5wYXJ0cy5sZW5ndGg7IGorKykgZG9tU3R5bGUucGFydHNbal0oKTtcblxuXHRcdFx0XHRkZWxldGUgc3R5bGVzSW5Eb21bZG9tU3R5bGUuaWRdO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcbn07XG5cbmZ1bmN0aW9uIGFkZFN0eWxlc1RvRG9tIChzdHlsZXMsIG9wdGlvbnMpIHtcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgaXRlbSA9IHN0eWxlc1tpXTtcblx0XHR2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXTtcblxuXHRcdGlmKGRvbVN0eWxlKSB7XG5cdFx0XHRkb21TdHlsZS5yZWZzKys7XG5cblx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBkb21TdHlsZS5wYXJ0cy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRkb21TdHlsZS5wYXJ0c1tqXShpdGVtLnBhcnRzW2pdKTtcblx0XHRcdH1cblxuXHRcdFx0Zm9yKDsgaiA8IGl0ZW0ucGFydHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0ZG9tU3R5bGUucGFydHMucHVzaChhZGRTdHlsZShpdGVtLnBhcnRzW2pdLCBvcHRpb25zKSk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdHZhciBwYXJ0cyA9IFtdO1xuXG5cdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRwYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcblx0XHRcdH1cblxuXHRcdFx0c3R5bGVzSW5Eb21baXRlbS5pZF0gPSB7aWQ6IGl0ZW0uaWQsIHJlZnM6IDEsIHBhcnRzOiBwYXJ0c307XG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIGxpc3RUb1N0eWxlcyAobGlzdCwgb3B0aW9ucykge1xuXHR2YXIgc3R5bGVzID0gW107XG5cdHZhciBuZXdTdHlsZXMgPSB7fTtcblxuXHRmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgaXRlbSA9IGxpc3RbaV07XG5cdFx0dmFyIGlkID0gb3B0aW9ucy5iYXNlID8gaXRlbVswXSArIG9wdGlvbnMuYmFzZSA6IGl0ZW1bMF07XG5cdFx0dmFyIGNzcyA9IGl0ZW1bMV07XG5cdFx0dmFyIG1lZGlhID0gaXRlbVsyXTtcblx0XHR2YXIgc291cmNlTWFwID0gaXRlbVszXTtcblx0XHR2YXIgcGFydCA9IHtjc3M6IGNzcywgbWVkaWE6IG1lZGlhLCBzb3VyY2VNYXA6IHNvdXJjZU1hcH07XG5cblx0XHRpZighbmV3U3R5bGVzW2lkXSkgc3R5bGVzLnB1c2gobmV3U3R5bGVzW2lkXSA9IHtpZDogaWQsIHBhcnRzOiBbcGFydF19KTtcblx0XHRlbHNlIG5ld1N0eWxlc1tpZF0ucGFydHMucHVzaChwYXJ0KTtcblx0fVxuXG5cdHJldHVybiBzdHlsZXM7XG59XG5cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudCAob3B0aW9ucywgc3R5bGUpIHtcblx0dmFyIHRhcmdldCA9IGdldEVsZW1lbnQob3B0aW9ucy5pbnNlcnRJbnRvKVxuXG5cdGlmICghdGFyZ2V0KSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnRJbnRvJyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7XG5cdH1cblxuXHR2YXIgbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AgPSBzdHlsZXNJbnNlcnRlZEF0VG9wW3N0eWxlc0luc2VydGVkQXRUb3AubGVuZ3RoIC0gMV07XG5cblx0aWYgKG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwidG9wXCIpIHtcblx0XHRpZiAoIWxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wKSB7XG5cdFx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKHN0eWxlLCB0YXJnZXQuZmlyc3RDaGlsZCk7XG5cdFx0fSBlbHNlIGlmIChsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcC5uZXh0U2libGluZykge1xuXHRcdFx0dGFyZ2V0Lmluc2VydEJlZm9yZShzdHlsZSwgbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AubmV4dFNpYmxpbmcpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuXHRcdH1cblx0XHRzdHlsZXNJbnNlcnRlZEF0VG9wLnB1c2goc3R5bGUpO1xuXHR9IGVsc2UgaWYgKG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwiYm90dG9tXCIpIHtcblx0XHR0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuXHR9IGVsc2UgaWYgKHR5cGVvZiBvcHRpb25zLmluc2VydEF0ID09PSBcIm9iamVjdFwiICYmIG9wdGlvbnMuaW5zZXJ0QXQuYmVmb3JlKSB7XG5cdFx0dmFyIG5leHRTaWJsaW5nID0gZ2V0RWxlbWVudChvcHRpb25zLmluc2VydEF0LmJlZm9yZSwgdGFyZ2V0KTtcblx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKHN0eWxlLCBuZXh0U2libGluZyk7XG5cdH0gZWxzZSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiW1N0eWxlIExvYWRlcl1cXG5cXG4gSW52YWxpZCB2YWx1ZSBmb3IgcGFyYW1ldGVyICdpbnNlcnRBdCcgKCdvcHRpb25zLmluc2VydEF0JykgZm91bmQuXFxuIE11c3QgYmUgJ3RvcCcsICdib3R0b20nLCBvciBPYmplY3QuXFxuIChodHRwczovL2dpdGh1Yi5jb20vd2VicGFjay1jb250cmliL3N0eWxlLWxvYWRlciNpbnNlcnRhdClcXG5cIik7XG5cdH1cbn1cblxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50IChzdHlsZSkge1xuXHRpZiAoc3R5bGUucGFyZW50Tm9kZSA9PT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuXHRzdHlsZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlKTtcblxuXHR2YXIgaWR4ID0gc3R5bGVzSW5zZXJ0ZWRBdFRvcC5pbmRleE9mKHN0eWxlKTtcblx0aWYoaWR4ID49IDApIHtcblx0XHRzdHlsZXNJbnNlcnRlZEF0VG9wLnNwbGljZShpZHgsIDEpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVN0eWxlRWxlbWVudCAob3B0aW9ucykge1xuXHR2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG5cblx0aWYob3B0aW9ucy5hdHRycy50eXBlID09PSB1bmRlZmluZWQpIHtcblx0XHRvcHRpb25zLmF0dHJzLnR5cGUgPSBcInRleHQvY3NzXCI7XG5cdH1cblxuXHRpZihvcHRpb25zLmF0dHJzLm5vbmNlID09PSB1bmRlZmluZWQpIHtcblx0XHR2YXIgbm9uY2UgPSBnZXROb25jZSgpO1xuXHRcdGlmIChub25jZSkge1xuXHRcdFx0b3B0aW9ucy5hdHRycy5ub25jZSA9IG5vbmNlO1xuXHRcdH1cblx0fVxuXG5cdGFkZEF0dHJzKHN0eWxlLCBvcHRpb25zLmF0dHJzKTtcblx0aW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMsIHN0eWxlKTtcblxuXHRyZXR1cm4gc3R5bGU7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUxpbmtFbGVtZW50IChvcHRpb25zKSB7XG5cdHZhciBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpbmtcIik7XG5cblx0aWYob3B0aW9ucy5hdHRycy50eXBlID09PSB1bmRlZmluZWQpIHtcblx0XHRvcHRpb25zLmF0dHJzLnR5cGUgPSBcInRleHQvY3NzXCI7XG5cdH1cblx0b3B0aW9ucy5hdHRycy5yZWwgPSBcInN0eWxlc2hlZXRcIjtcblxuXHRhZGRBdHRycyhsaW5rLCBvcHRpb25zLmF0dHJzKTtcblx0aW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMsIGxpbmspO1xuXG5cdHJldHVybiBsaW5rO1xufVxuXG5mdW5jdGlvbiBhZGRBdHRycyAoZWwsIGF0dHJzKSB7XG5cdE9iamVjdC5rZXlzKGF0dHJzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcblx0XHRlbC5zZXRBdHRyaWJ1dGUoa2V5LCBhdHRyc1trZXldKTtcblx0fSk7XG59XG5cbmZ1bmN0aW9uIGdldE5vbmNlKCkge1xuXHRpZiAodHlwZW9mIF9fd2VicGFja19ub25jZV9fID09PSAndW5kZWZpbmVkJykge1xuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cblx0cmV0dXJuIF9fd2VicGFja19ub25jZV9fO1xufVxuXG5mdW5jdGlvbiBhZGRTdHlsZSAob2JqLCBvcHRpb25zKSB7XG5cdHZhciBzdHlsZSwgdXBkYXRlLCByZW1vdmUsIHJlc3VsdDtcblxuXHQvLyBJZiBhIHRyYW5zZm9ybSBmdW5jdGlvbiB3YXMgZGVmaW5lZCwgcnVuIGl0IG9uIHRoZSBjc3Ncblx0aWYgKG9wdGlvbnMudHJhbnNmb3JtICYmIG9iai5jc3MpIHtcblx0ICAgIHJlc3VsdCA9IG9wdGlvbnMudHJhbnNmb3JtKG9iai5jc3MpO1xuXG5cdCAgICBpZiAocmVzdWx0KSB7XG5cdCAgICBcdC8vIElmIHRyYW5zZm9ybSByZXR1cm5zIGEgdmFsdWUsIHVzZSB0aGF0IGluc3RlYWQgb2YgdGhlIG9yaWdpbmFsIGNzcy5cblx0ICAgIFx0Ly8gVGhpcyBhbGxvd3MgcnVubmluZyBydW50aW1lIHRyYW5zZm9ybWF0aW9ucyBvbiB0aGUgY3NzLlxuXHQgICAgXHRvYmouY3NzID0gcmVzdWx0O1xuXHQgICAgfSBlbHNlIHtcblx0ICAgIFx0Ly8gSWYgdGhlIHRyYW5zZm9ybSBmdW5jdGlvbiByZXR1cm5zIGEgZmFsc3kgdmFsdWUsIGRvbid0IGFkZCB0aGlzIGNzcy5cblx0ICAgIFx0Ly8gVGhpcyBhbGxvd3MgY29uZGl0aW9uYWwgbG9hZGluZyBvZiBjc3Ncblx0ICAgIFx0cmV0dXJuIGZ1bmN0aW9uKCkge1xuXHQgICAgXHRcdC8vIG5vb3Bcblx0ICAgIFx0fTtcblx0ICAgIH1cblx0fVxuXG5cdGlmIChvcHRpb25zLnNpbmdsZXRvbikge1xuXHRcdHZhciBzdHlsZUluZGV4ID0gc2luZ2xldG9uQ291bnRlcisrO1xuXG5cdFx0c3R5bGUgPSBzaW5nbGV0b24gfHwgKHNpbmdsZXRvbiA9IGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKSk7XG5cblx0XHR1cGRhdGUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIGZhbHNlKTtcblx0XHRyZW1vdmUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIHRydWUpO1xuXG5cdH0gZWxzZSBpZiAoXG5cdFx0b2JqLnNvdXJjZU1hcCAmJlxuXHRcdHR5cGVvZiBVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBVUkwuY3JlYXRlT2JqZWN0VVJMID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgVVJMLnJldm9rZU9iamVjdFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIEJsb2IgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBidG9hID09PSBcImZ1bmN0aW9uXCJcblx0KSB7XG5cdFx0c3R5bGUgPSBjcmVhdGVMaW5rRWxlbWVudChvcHRpb25zKTtcblx0XHR1cGRhdGUgPSB1cGRhdGVMaW5rLmJpbmQobnVsbCwgc3R5bGUsIG9wdGlvbnMpO1xuXHRcdHJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSk7XG5cblx0XHRcdGlmKHN0eWxlLmhyZWYpIFVSTC5yZXZva2VPYmplY3RVUkwoc3R5bGUuaHJlZik7XG5cdFx0fTtcblx0fSBlbHNlIHtcblx0XHRzdHlsZSA9IGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKTtcblx0XHR1cGRhdGUgPSBhcHBseVRvVGFnLmJpbmQobnVsbCwgc3R5bGUpO1xuXHRcdHJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSk7XG5cdFx0fTtcblx0fVxuXG5cdHVwZGF0ZShvYmopO1xuXG5cdHJldHVybiBmdW5jdGlvbiB1cGRhdGVTdHlsZSAobmV3T2JqKSB7XG5cdFx0aWYgKG5ld09iaikge1xuXHRcdFx0aWYgKFxuXHRcdFx0XHRuZXdPYmouY3NzID09PSBvYmouY3NzICYmXG5cdFx0XHRcdG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmXG5cdFx0XHRcdG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXBcblx0XHRcdCkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdHVwZGF0ZShvYmogPSBuZXdPYmopO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZW1vdmUoKTtcblx0XHR9XG5cdH07XG59XG5cbnZhciByZXBsYWNlVGV4dCA9IChmdW5jdGlvbiAoKSB7XG5cdHZhciB0ZXh0U3RvcmUgPSBbXTtcblxuXHRyZXR1cm4gZnVuY3Rpb24gKGluZGV4LCByZXBsYWNlbWVudCkge1xuXHRcdHRleHRTdG9yZVtpbmRleF0gPSByZXBsYWNlbWVudDtcblxuXHRcdHJldHVybiB0ZXh0U3RvcmUuZmlsdGVyKEJvb2xlYW4pLmpvaW4oJ1xcbicpO1xuXHR9O1xufSkoKTtcblxuZnVuY3Rpb24gYXBwbHlUb1NpbmdsZXRvblRhZyAoc3R5bGUsIGluZGV4LCByZW1vdmUsIG9iaikge1xuXHR2YXIgY3NzID0gcmVtb3ZlID8gXCJcIiA6IG9iai5jc3M7XG5cblx0aWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcblx0XHRzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSByZXBsYWNlVGV4dChpbmRleCwgY3NzKTtcblx0fSBlbHNlIHtcblx0XHR2YXIgY3NzTm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcyk7XG5cdFx0dmFyIGNoaWxkTm9kZXMgPSBzdHlsZS5jaGlsZE5vZGVzO1xuXG5cdFx0aWYgKGNoaWxkTm9kZXNbaW5kZXhdKSBzdHlsZS5yZW1vdmVDaGlsZChjaGlsZE5vZGVzW2luZGV4XSk7XG5cblx0XHRpZiAoY2hpbGROb2Rlcy5sZW5ndGgpIHtcblx0XHRcdHN0eWxlLmluc2VydEJlZm9yZShjc3NOb2RlLCBjaGlsZE5vZGVzW2luZGV4XSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHN0eWxlLmFwcGVuZENoaWxkKGNzc05vZGUpO1xuXHRcdH1cblx0fVxufVxuXG5mdW5jdGlvbiBhcHBseVRvVGFnIChzdHlsZSwgb2JqKSB7XG5cdHZhciBjc3MgPSBvYmouY3NzO1xuXHR2YXIgbWVkaWEgPSBvYmoubWVkaWE7XG5cblx0aWYobWVkaWEpIHtcblx0XHRzdHlsZS5zZXRBdHRyaWJ1dGUoXCJtZWRpYVwiLCBtZWRpYSlcblx0fVxuXG5cdGlmKHN0eWxlLnN0eWxlU2hlZXQpIHtcblx0XHRzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG5cdH0gZWxzZSB7XG5cdFx0d2hpbGUoc3R5bGUuZmlyc3RDaGlsZCkge1xuXHRcdFx0c3R5bGUucmVtb3ZlQ2hpbGQoc3R5bGUuZmlyc3RDaGlsZCk7XG5cdFx0fVxuXG5cdFx0c3R5bGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG5cdH1cbn1cblxuZnVuY3Rpb24gdXBkYXRlTGluayAobGluaywgb3B0aW9ucywgb2JqKSB7XG5cdHZhciBjc3MgPSBvYmouY3NzO1xuXHR2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcblxuXHQvKlxuXHRcdElmIGNvbnZlcnRUb0Fic29sdXRlVXJscyBpc24ndCBkZWZpbmVkLCBidXQgc291cmNlbWFwcyBhcmUgZW5hYmxlZFxuXHRcdGFuZCB0aGVyZSBpcyBubyBwdWJsaWNQYXRoIGRlZmluZWQgdGhlbiBsZXRzIHR1cm4gY29udmVydFRvQWJzb2x1dGVVcmxzXG5cdFx0b24gYnkgZGVmYXVsdC4gIE90aGVyd2lzZSBkZWZhdWx0IHRvIHRoZSBjb252ZXJ0VG9BYnNvbHV0ZVVybHMgb3B0aW9uXG5cdFx0ZGlyZWN0bHlcblx0Ki9cblx0dmFyIGF1dG9GaXhVcmxzID0gb3B0aW9ucy5jb252ZXJ0VG9BYnNvbHV0ZVVybHMgPT09IHVuZGVmaW5lZCAmJiBzb3VyY2VNYXA7XG5cblx0aWYgKG9wdGlvbnMuY29udmVydFRvQWJzb2x1dGVVcmxzIHx8IGF1dG9GaXhVcmxzKSB7XG5cdFx0Y3NzID0gZml4VXJscyhjc3MpO1xuXHR9XG5cblx0aWYgKHNvdXJjZU1hcCkge1xuXHRcdC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzI2NjAzODc1XG5cdFx0Y3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIiArIGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSkgKyBcIiAqL1wiO1xuXHR9XG5cblx0dmFyIGJsb2IgPSBuZXcgQmxvYihbY3NzXSwgeyB0eXBlOiBcInRleHQvY3NzXCIgfSk7XG5cblx0dmFyIG9sZFNyYyA9IGxpbmsuaHJlZjtcblxuXHRsaW5rLmhyZWYgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuXG5cdGlmKG9sZFNyYykgVVJMLnJldm9rZU9iamVjdFVSTChvbGRTcmMpO1xufVxuIiwiXG4vKipcbiAqIFdoZW4gc291cmNlIG1hcHMgYXJlIGVuYWJsZWQsIGBzdHlsZS1sb2FkZXJgIHVzZXMgYSBsaW5rIGVsZW1lbnQgd2l0aCBhIGRhdGEtdXJpIHRvXG4gKiBlbWJlZCB0aGUgY3NzIG9uIHRoZSBwYWdlLiBUaGlzIGJyZWFrcyBhbGwgcmVsYXRpdmUgdXJscyBiZWNhdXNlIG5vdyB0aGV5IGFyZSByZWxhdGl2ZSB0byBhXG4gKiBidW5kbGUgaW5zdGVhZCBvZiB0aGUgY3VycmVudCBwYWdlLlxuICpcbiAqIE9uZSBzb2x1dGlvbiBpcyB0byBvbmx5IHVzZSBmdWxsIHVybHMsIGJ1dCB0aGF0IG1heSBiZSBpbXBvc3NpYmxlLlxuICpcbiAqIEluc3RlYWQsIHRoaXMgZnVuY3Rpb24gXCJmaXhlc1wiIHRoZSByZWxhdGl2ZSB1cmxzIHRvIGJlIGFic29sdXRlIGFjY29yZGluZyB0byB0aGUgY3VycmVudCBwYWdlIGxvY2F0aW9uLlxuICpcbiAqIEEgcnVkaW1lbnRhcnkgdGVzdCBzdWl0ZSBpcyBsb2NhdGVkIGF0IGB0ZXN0L2ZpeFVybHMuanNgIGFuZCBjYW4gYmUgcnVuIHZpYSB0aGUgYG5wbSB0ZXN0YCBjb21tYW5kLlxuICpcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjc3MpIHtcbiAgLy8gZ2V0IGN1cnJlbnQgbG9jYXRpb25cbiAgdmFyIGxvY2F0aW9uID0gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB3aW5kb3cubG9jYXRpb247XG5cbiAgaWYgKCFsb2NhdGlvbikge1xuICAgIHRocm93IG5ldyBFcnJvcihcImZpeFVybHMgcmVxdWlyZXMgd2luZG93LmxvY2F0aW9uXCIpO1xuICB9XG5cblx0Ly8gYmxhbmsgb3IgbnVsbD9cblx0aWYgKCFjc3MgfHwgdHlwZW9mIGNzcyAhPT0gXCJzdHJpbmdcIikge1xuXHQgIHJldHVybiBjc3M7XG4gIH1cblxuICB2YXIgYmFzZVVybCA9IGxvY2F0aW9uLnByb3RvY29sICsgXCIvL1wiICsgbG9jYXRpb24uaG9zdDtcbiAgdmFyIGN1cnJlbnREaXIgPSBiYXNlVXJsICsgbG9jYXRpb24ucGF0aG5hbWUucmVwbGFjZSgvXFwvW15cXC9dKiQvLCBcIi9cIik7XG5cblx0Ly8gY29udmVydCBlYWNoIHVybCguLi4pXG5cdC8qXG5cdFRoaXMgcmVndWxhciBleHByZXNzaW9uIGlzIGp1c3QgYSB3YXkgdG8gcmVjdXJzaXZlbHkgbWF0Y2ggYnJhY2tldHMgd2l0aGluXG5cdGEgc3RyaW5nLlxuXG5cdCAvdXJsXFxzKlxcKCAgPSBNYXRjaCBvbiB0aGUgd29yZCBcInVybFwiIHdpdGggYW55IHdoaXRlc3BhY2UgYWZ0ZXIgaXQgYW5kIHRoZW4gYSBwYXJlbnNcblx0ICAgKCAgPSBTdGFydCBhIGNhcHR1cmluZyBncm91cFxuXHQgICAgICg/OiAgPSBTdGFydCBhIG5vbi1jYXB0dXJpbmcgZ3JvdXBcblx0ICAgICAgICAgW14pKF0gID0gTWF0Y2ggYW55dGhpbmcgdGhhdCBpc24ndCBhIHBhcmVudGhlc2VzXG5cdCAgICAgICAgIHwgID0gT1Jcblx0ICAgICAgICAgXFwoICA9IE1hdGNoIGEgc3RhcnQgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICg/OiAgPSBTdGFydCBhbm90aGVyIG5vbi1jYXB0dXJpbmcgZ3JvdXBzXG5cdCAgICAgICAgICAgICAgICAgW14pKF0rICA9IE1hdGNoIGFueXRoaW5nIHRoYXQgaXNuJ3QgYSBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgICAgIHwgID0gT1Jcblx0ICAgICAgICAgICAgICAgICBcXCggID0gTWF0Y2ggYSBzdGFydCBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgICAgICAgICBbXikoXSogID0gTWF0Y2ggYW55dGhpbmcgdGhhdCBpc24ndCBhIHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICAgICAgXFwpICA9IE1hdGNoIGEgZW5kIHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICApICA9IEVuZCBHcm91cFxuICAgICAgICAgICAgICAqXFwpID0gTWF0Y2ggYW55dGhpbmcgYW5kIHRoZW4gYSBjbG9zZSBwYXJlbnNcbiAgICAgICAgICApICA9IENsb3NlIG5vbi1jYXB0dXJpbmcgZ3JvdXBcbiAgICAgICAgICAqICA9IE1hdGNoIGFueXRoaW5nXG4gICAgICAgKSAgPSBDbG9zZSBjYXB0dXJpbmcgZ3JvdXBcblx0IFxcKSAgPSBNYXRjaCBhIGNsb3NlIHBhcmVuc1xuXG5cdCAvZ2kgID0gR2V0IGFsbCBtYXRjaGVzLCBub3QgdGhlIGZpcnN0LiAgQmUgY2FzZSBpbnNlbnNpdGl2ZS5cblx0ICovXG5cdHZhciBmaXhlZENzcyA9IGNzcy5yZXBsYWNlKC91cmxcXHMqXFwoKCg/OlteKShdfFxcKCg/OlteKShdK3xcXChbXikoXSpcXCkpKlxcKSkqKVxcKS9naSwgZnVuY3Rpb24oZnVsbE1hdGNoLCBvcmlnVXJsKSB7XG5cdFx0Ly8gc3RyaXAgcXVvdGVzIChpZiB0aGV5IGV4aXN0KVxuXHRcdHZhciB1bnF1b3RlZE9yaWdVcmwgPSBvcmlnVXJsXG5cdFx0XHQudHJpbSgpXG5cdFx0XHQucmVwbGFjZSgvXlwiKC4qKVwiJC8sIGZ1bmN0aW9uKG8sICQxKXsgcmV0dXJuICQxOyB9KVxuXHRcdFx0LnJlcGxhY2UoL14nKC4qKSckLywgZnVuY3Rpb24obywgJDEpeyByZXR1cm4gJDE7IH0pO1xuXG5cdFx0Ly8gYWxyZWFkeSBhIGZ1bGwgdXJsPyBubyBjaGFuZ2Vcblx0XHRpZiAoL14oI3xkYXRhOnxodHRwOlxcL1xcL3xodHRwczpcXC9cXC98ZmlsZTpcXC9cXC9cXC98XFxzKiQpL2kudGVzdCh1bnF1b3RlZE9yaWdVcmwpKSB7XG5cdFx0ICByZXR1cm4gZnVsbE1hdGNoO1xuXHRcdH1cblxuXHRcdC8vIGNvbnZlcnQgdGhlIHVybCB0byBhIGZ1bGwgdXJsXG5cdFx0dmFyIG5ld1VybDtcblxuXHRcdGlmICh1bnF1b3RlZE9yaWdVcmwuaW5kZXhPZihcIi8vXCIpID09PSAwKSB7XG5cdFx0ICBcdC8vVE9ETzogc2hvdWxkIHdlIGFkZCBwcm90b2NvbD9cblx0XHRcdG5ld1VybCA9IHVucXVvdGVkT3JpZ1VybDtcblx0XHR9IGVsc2UgaWYgKHVucXVvdGVkT3JpZ1VybC5pbmRleE9mKFwiL1wiKSA9PT0gMCkge1xuXHRcdFx0Ly8gcGF0aCBzaG91bGQgYmUgcmVsYXRpdmUgdG8gdGhlIGJhc2UgdXJsXG5cdFx0XHRuZXdVcmwgPSBiYXNlVXJsICsgdW5xdW90ZWRPcmlnVXJsOyAvLyBhbHJlYWR5IHN0YXJ0cyB3aXRoICcvJ1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBwYXRoIHNob3VsZCBiZSByZWxhdGl2ZSB0byBjdXJyZW50IGRpcmVjdG9yeVxuXHRcdFx0bmV3VXJsID0gY3VycmVudERpciArIHVucXVvdGVkT3JpZ1VybC5yZXBsYWNlKC9eXFwuXFwvLywgXCJcIik7IC8vIFN0cmlwIGxlYWRpbmcgJy4vJ1xuXHRcdH1cblxuXHRcdC8vIHNlbmQgYmFjayB0aGUgZml4ZWQgdXJsKC4uLilcblx0XHRyZXR1cm4gXCJ1cmwoXCIgKyBKU09OLnN0cmluZ2lmeShuZXdVcmwpICsgXCIpXCI7XG5cdH0pO1xuXG5cdC8vIHNlbmQgYmFjayB0aGUgZml4ZWQgY3NzXG5cdHJldHVybiBmaXhlZENzcztcbn07XG4iXSwic291cmNlUm9vdCI6IiJ9